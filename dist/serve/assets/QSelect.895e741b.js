var Nt=Object.defineProperty,Kt=Object.defineProperties;var jt=Object.getOwnPropertyDescriptors;var dt=Object.getOwnPropertySymbols;var Qt=Object.prototype.hasOwnProperty,Ut=Object.prototype.propertyIsEnumerable;var ft=(e,a,u)=>a in e?Nt(e,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):e[a]=u,I=(e,a)=>{for(var u in a||(a={}))Qt.call(a,u)&&ft(e,u,a[u]);if(dt)for(var u of dt(a))Ut.call(a,u)&&ft(e,u,a[u]);return e},K=(e,a)=>Kt(e,jt(a));import{u as Xe,b as kt,e as xt,d as Vt,R as Wt,g as Xt,a as Yt,c as Gt,f as vt,h as Jt,p as mt}from"./use-key-composition.9a07a52d.js";import{ak as qt,P as Pe,x as A,J as f,G as oe,H as ue,N as b,a6 as Zt,aH as el,a9 as tl,aa as ll,L as Ye,K as De,aq as nl,a5 as ul,a3 as me,a1 as St,R as ol,az as il,aM as Ee,a8 as al,aN as rl,$ as Ue,O as Ve,W as sl,I as cl,a0 as dl}from"./vendor.3fb54e24.js";import{d as fl,a as vl,e as ml,b as Sl,c as Re}from"./QCard.ba24e7ad.js";import{a as gl,Q as hl}from"./QItemSection.dc8b2532.js";import{a as yl}from"./QItemLabel.7ecff6cd.js";import{a as bl,u as wl,b as Cl,d as kl,r as gt,e as ht,f as xl,g as Vl,Q as ql}from"./QMenu.bdb281bc.js";import{u as _l,a as zl}from"./use-prevent-scroll.44e6db56.js";import{u as Il,a as Bl,b as El}from"./use-model-toggle.a87aeb12.js";let Le=!1;{const e=document.createElement("div"),a=document.createElement("div");e.setAttribute("dir","rtl"),e.style.width="1px",e.style.height="1px",e.style.overflow="auto",a.style.width="1000px",a.style.height="1px",document.body.appendChild(e),e.appendChild(a),e.scrollLeft=-1e3,Le=e.scrollLeft>=0,e.remove()}const J=1e3,pl=["start","center","end","start-force","center-force","end-force"];let Ml=1;const Al=Array.prototype.filter,yt=window.getComputedStyle(document.body).overflowAnchor===void 0?qt:function(e,a){const u=e+"_ss";let g=document.getElementById(u);g===null&&(g=document.createElement("style"),g.type="text/css",g.id=u,document.head.appendChild(g)),g.qChildIndex!==a&&(g.qChildIndex=a,g.innerHTML=`#${e} > *:nth-child(${a}) { overflow-anchor: auto }`)};function qe(e,a){return e+a}function We(e,a,u,g,H,o,z,x){const h=e===window?document.scrollingElement||document.documentElement:e,M=H===!0?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-z-x,scrollMaxSize:0,offsetStart:-z,offsetEnd:-x};if(H===!0?(e===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=h.scrollLeft,c.scrollViewSize+=h.clientWidth),c.scrollMaxSize=h.scrollWidth,o===!0&&(c.scrollStart=(Le===!0?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(e===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=h.scrollTop,c.scrollViewSize+=h.clientHeight),c.scrollMaxSize=h.scrollHeight),u!==null)for(let q=u.previousElementSibling;q!==null;q=q.previousElementSibling)q.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetStart+=q[M]);if(g!==null)for(let q=g.nextElementSibling;q!==null;q=q.nextElementSibling)q.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetEnd+=q[M]);if(a!==e){const q=h.getBoundingClientRect(),B=a.getBoundingClientRect();H===!0?(c.offsetStart+=B.left-q.left,c.offsetEnd-=B.width):(c.offsetStart+=B.top-q.top,c.offsetEnd-=B.height),e!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function bt(e,a,u,g){a==="end"&&(a=(e===window?document.body:e)[u===!0?"scrollWidth":"scrollHeight"]),e===window?u===!0?(g===!0&&(a=(Le===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-a),window.scrollTo(a,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,a):u===!0?(g===!0&&(a=(Le===!0?e.scrollWidth-e.offsetWidth:0)-a),e.scrollLeft=a):e.scrollTop=a}function pe(e,a,u,g){if(u>=g)return 0;const H=a.length,o=Math.floor(u/J),z=Math.floor((g-1)/J)+1;let x=e.slice(o,z).reduce(qe,0);return u%J!==0&&(x-=a.slice(o*J,u).reduce(qe,0)),g%J!==0&&g!==H&&(x-=a.slice(g,z*J).reduce(qe,0)),x}const _t={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Jl=Object.keys(_t),Fl=I({virtualScrollHorizontal:Boolean,onVirtualScroll:Function},_t);function Tl({virtualScrollLength:e,getVirtualScrollTarget:a,getVirtualScrollEl:u,virtualScrollItemSizeComputed:g}){const H=Pe(),{props:o,emit:z,proxy:x}=H,{$q:h}=x;let M,c,q,B=[],w;const N="qvs_"+Ml++,F=A(0),V=A(0),j=A({}),R=A(null),W=A(null),ee=A(null),C=A({from:0,to:0}),X=f(()=>o.tableColspan!==void 0?o.tableColspan:100);g===void 0&&(g=f(()=>o.virtualScrollItemSize));const Y=f(()=>g.value+";"+o.virtualScrollHorizontal),Se=f(()=>Y.value+";"+o.virtualScrollSliceRatioBefore+";"+o.virtualScrollSliceRatioAfter);oe(Se,()=>{G()}),oe(Y,ie);function ie(){ce(c,!0)}function se(l){ce(l===void 0?c:l)}function D(l,d){const v=a();if(v==null||v.nodeType===8)return;const E=We(v,u(),R.value,W.value,o.virtualScrollHorizontal,h.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd);q!==E.scrollViewSize&&G(E.scrollViewSize),ae(v,E,Math.min(e.value-1,Math.max(0,parseInt(l,10)||0)),0,pl.indexOf(d)>-1?d:c>-1&&l>c?"end":"start")}function _e(){const l=a();if(l==null||l.nodeType===8)return;const d=We(l,u(),R.value,W.value,o.virtualScrollHorizontal,h.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd),v=e.value-1,E=d.scrollMaxSize-d.offsetStart-d.offsetEnd-V.value;if(M===d.scrollStart)return;if(d.scrollMaxSize<=0){ae(l,d,0,0);return}q!==d.scrollViewSize&&G(d.scrollViewSize),te(C.value.from);const O=Math.floor(d.scrollMaxSize-Math.max(d.scrollViewSize,d.offsetEnd)-Math.min(w[v],d.scrollViewSize/2));if(O>0&&Math.ceil(d.scrollStart)>=O){ae(l,d,v,d.scrollMaxSize-d.offsetEnd-B.reduce(qe,0));return}let k=0,S=d.scrollStart-d.offsetStart,s=S;if(S<=E&&S+d.scrollViewSize>=F.value)S-=F.value,k=C.value.from,s=S;else for(let y=0;S>=B[y]&&k<v;y++)S-=B[y],k+=J;for(;S>0&&k<v;)S-=w[k],S>-d.scrollViewSize?(k++,s=S):s=w[k]+S;ae(l,d,k,s)}function ae(l,d,v,E,O){const k=typeof O=="string"&&O.indexOf("-force")>-1,S=k===!0?O.replace("-force",""):O,s=S!==void 0?S:"start";let y=Math.max(0,v-j.value[s]),P=y+j.value.total;P>e.value&&(P=e.value,y=Math.max(0,P-j.value.total)),M=d.scrollStart;const Z=y!==C.value.from||P!==C.value.to;if(Z===!1&&S===void 0){de(v);return}const{activeElement:le}=document,ne=ee.value;Z===!0&&ne!==null&&ne!==le&&ne.contains(le)===!0&&(ne.addEventListener("focusout",re),setTimeout(()=>{ne!==void 0&&ne.removeEventListener("focusout",re)})),yt(N,v-y+1);const Me=S!==void 0?w.slice(y,v).reduce(qe,0):0;if(Z===!0){const ge=P>=C.value.from&&y<=C.value.to?C.value.to:P;C.value={from:y,to:ge},F.value=pe(B,w,0,y),V.value=pe(B,w,P,e.value),requestAnimationFrame(()=>{C.value.to!==P&&M===d.scrollStart&&(C.value={from:C.value.from,to:P},V.value=pe(B,w,P,e.value))})}requestAnimationFrame(()=>{if(M!==d.scrollStart)return;Z===!0&&te(y);const ge=w.slice(y,v).reduce(qe,0),he=ge+d.offsetStart+F.value,Ae=he+w[v];let Ie=he+E;if(S!==void 0){const U=ge-Me,L=d.scrollStart+U;Ie=k!==!0&&L<he&&Ae<L+d.scrollViewSize?L:S==="end"?Ae-d.scrollViewSize:he-(S==="start"?0:Math.round((d.scrollViewSize-w[v])/2))}M=Ie,bt(l,Ie,o.virtualScrollHorizontal,h.lang.rtl),de(v)})}function te(l){const d=ee.value;if(d){const v=Al.call(d.children,y=>y.classList&&y.classList.contains("q-virtual-scroll--skip")===!1),E=v.length,O=o.virtualScrollHorizontal===!0?y=>y.getBoundingClientRect().width:y=>y.offsetHeight;let k=l,S,s;for(let y=0;y<E;){for(S=O(v[y]),y++;y<E&&v[y].classList.contains("q-virtual-scroll--with-prev")===!0;)S+=O(v[y]),y++;s=S-w[k],s!==0&&(w[k]+=s,B[Math.floor(k/J)]+=s),k++}}}function re(){ee.value!==void 0&&ee.value.focus()}function ce(l,d){const v=1*g.value;(d===!0||Array.isArray(w)===!1)&&(w=[]);const E=w.length;w.length=e.value;for(let k=e.value-1;k>=E;k--)w[k]=v;const O=Math.floor((e.value-1)/J);B=[];for(let k=0;k<=O;k++){let S=0;const s=Math.min((k+1)*J,e.value);for(let y=k*J;y<s;y++)S+=w[y];B.push(S)}c=-1,M=void 0,F.value=pe(B,w,0,C.value.from),V.value=pe(B,w,C.value.to,e.value),l>=0?(te(C.value.from),ue(()=>{D(l)})):Q()}function G(l){if(l===void 0&&typeof window!="undefined"){const S=a();S!=null&&S.nodeType!==8&&(l=We(S,u(),R.value,W.value,o.virtualScrollHorizontal,h.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd).scrollViewSize)}q=l;const d=parseFloat(o.virtualScrollSliceRatioBefore)||0,v=parseFloat(o.virtualScrollSliceRatioAfter)||0,E=1+d+v,O=l===void 0||l<=0?1:Math.ceil(l/g.value),k=Math.max(1,O,Math.ceil((o.virtualScrollSliceSize>0?o.virtualScrollSliceSize:10)/E));j.value={total:Math.ceil(k*E),start:Math.ceil(k*d),center:Math.ceil(k*(.5+d)),end:Math.ceil(k*(1+d)),view:O}}function ze(l,d){const v=o.virtualScrollHorizontal===!0?"width":"height",E={["--q-virtual-scroll-item-"+v]:g.value+"px"};return[l==="tbody"?b(l,{class:"q-virtual-scroll__padding",key:"before",ref:R},[b("tr",[b("td",{style:I({[v]:`${F.value}px`},E),colspan:X.value})])]):b(l,{class:"q-virtual-scroll__padding",key:"before",ref:R,style:I({[v]:`${F.value}px`},E)}),b(l,{class:"q-virtual-scroll__content",key:"content",ref:ee,id:N,tabindex:-1},d.flat()),l==="tbody"?b(l,{class:"q-virtual-scroll__padding",key:"after",ref:W},[b("tr",[b("td",{style:I({[v]:`${V.value}px`},E),colspan:X.value})])]):b(l,{class:"q-virtual-scroll__padding",key:"after",ref:W,style:I({[v]:`${V.value}px`},E)})]}function de(l){c!==l&&(o.onVirtualScroll!==void 0&&z("virtual-scroll",{index:l,from:C.value.from,to:C.value.to-1,direction:l<c?"decrease":"increase",ref:x}),c=l)}G();const Q=Zt(_e,h.platform.is.ios===!0?120:35);el(()=>{G()});let i=!1;return tl(()=>{i=!0}),ll(()=>{if(i!==!0)return;const l=a();M!==void 0&&l!==void 0&&l!==null&&l.nodeType!==8?bt(l,M,o.virtualScrollHorizontal,h.lang.rtl):D(c)}),yt!==qt&&Ye(()=>{const l=document.getElementById(N+"_ss");l!==null&&l.remove(),Q.cancel()}),Object.assign(x,{scrollTo:D,reset:ie,refresh:se}),{virtualScrollSliceRange:C,virtualScrollSliceSizeComputed:j,setVirtualScrollSize:G,onVirtualScrollEvt:Q,localResetVirtualScroll:ce,padVirtualScroll:ze,scrollTo:D,reset:ie,refresh:se}}var Hl=De({name:"QField",inheritAttrs:!1,props:Xe,emits:kt,setup(){return xt(Vt())}});const Ol={xs:8,sm:10,md:14,lg:20,xl:24};var Rl=De({name:"QChip",props:K(I(I({},fl),vl),{dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}}),emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:a,emit:u}){const{proxy:{$q:g}}=Pe(),H=ml(e,g),o=Sl(e,Ol),z=f(()=>e.selected===!0||e.icon!==void 0),x=f(()=>e.selected===!0?e.iconSelected||g.iconSet.chip.selected:e.icon),h=f(()=>e.iconRemove||g.iconSet.chip.remove),M=f(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),c=f(()=>{const V=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(V?` text-${V} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(M.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(H.value===!0?" q-chip--dark q-dark":"")}),q=f(()=>e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0});function B(V){V.keyCode===13&&w(V)}function w(V){e.disable||(u("update:selected",!e.selected),u("click",V))}function N(V){(V.keyCode===void 0||V.keyCode===13)&&(me(V),e.disable===!1&&(u("update:modelValue",!1),u("remove")))}function F(){const V=[];M.value===!0&&V.push(b("div",{class:"q-focus-helper"})),z.value===!0&&V.push(b(Re,{class:"q-chip__icon q-chip__icon--left",name:x.value}));const j=e.label!==void 0?[b("div",{class:"ellipsis"},[e.label])]:void 0;return V.push(b("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},ul(a.default,j))),e.iconRight&&V.push(b(Re,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&V.push(b(Re,K(I({class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:h.value},q.value),{onClick:N,onKeyup:N}))),V}return()=>{if(e.modelValue===!1)return;const V={class:c.value,style:o.value};return M.value===!0&&Object.assign(V,q.value,{onClick:w,onKeyup:B}),nl("div",V,F(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Wt,e.ripple]])}}});let Oe=0;const Ll={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},wt={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Pl=De({name:"QDialog",inheritAttrs:!1,props:K(I(I({},Il),bl),{transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}}),emits:[...Bl,"shake","click","escape-key"],setup(e,{slots:a,emit:u,attrs:g}){const H=Pe(),o=A(null),z=A(!1),x=A(!1),h=A(!1);let M,c=null,q,B;const w=f(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:N}=zl(),{registerTimeout:F,removeTimeout:V}=wl(),{registerTick:j,removeTick:R}=Cl(),{showPortal:W,hidePortal:ee,portalIsActive:C,renderPortal:X}=kl(H,o,S,!0),{hide:Y}=El({showing:z,hideOnRouteChange:w,handleShow:ze,handleHide:de,processOnMount:!0}),{addToHistory:Se,removeFromHistory:ie}=_l(z,Y,w),se=f(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Ll[e.position]}`+(h.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),D=f(()=>"q-transition--"+(e.transitionShow===void 0?wt[e.position][0]:e.transitionShow)),_e=f(()=>"q-transition--"+(e.transitionHide===void 0?wt[e.position][1]:e.transitionHide)),ae=f(()=>x.value===!0?_e.value:D.value),te=f(()=>`--q-transition-duration: ${e.transitionDuration}ms`),re=f(()=>z.value===!0&&e.seamless!==!0),ce=f(()=>e.autoClose===!0?{onClick:E}:{}),G=f(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${re.value===!0?"modal":"seamless"}`,g.class]);oe(z,s=>{ue(()=>{x.value=s})}),oe(()=>e.maximized,s=>{z.value===!0&&v(s)}),oe(re,s=>{N(s),s===!0?(xl(k),Vl(l)):(gt(k),ht(l))});function ze(s){V(),R(),Se(),c=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,v(e.maximized),W(),h.value=!0,e.noFocus!==!0&&(document.activeElement!==null&&document.activeElement.blur(),j(Q)),F(()=>{if(H.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:y,bottom:P}=document.activeElement.getBoundingClientRect(),{innerHeight:Z}=window,le=window.visualViewport!==void 0?window.visualViewport.height:Z;y>0&&P>le/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-le,P>=Z?1/0:Math.ceil(document.scrollingElement.scrollTop+P-le/2))),document.activeElement.scrollIntoView()}B=!0,o.value.click(),B=!1}W(!0),h.value=!1,u("show",s)},e.transitionDuration)}function de(s){V(),R(),ie(),d(!0),h.value=!0,c!==null&&(c.focus(),c=null),F(()=>{ee(),h.value=!1,u("hide",s)},e.transitionDuration)}function Q(){Xt(()=>{let s=o.value;s===null||s.contains(document.activeElement)===!0||(s=s.querySelector("[autofocus], [data-autofocus]")||s,s.focus({preventScroll:!0}))})}function i(){Q(),u("shake");const s=o.value;s!==null&&(s.classList.remove("q-animate--scale"),s.classList.add("q-animate--scale"),clearTimeout(M),M=setTimeout(()=>{o.value!==null&&(s.classList.remove("q-animate--scale"),Q())},170))}function l(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&i():(u("escape-key"),Y()))}function d(s){clearTimeout(M),(s===!0||z.value===!0)&&(v(!1),e.seamless!==!0&&(N(!1),gt(k),ht(l))),s!==!0&&(c=null)}function v(s){s===!0?q!==!0&&(Oe<1&&document.body.classList.add("q-body--dialog"),Oe++,q=!0):q===!0&&(Oe<2&&document.body.classList.remove("q-body--dialog"),Oe--,q=!1)}function E(s){B!==!0&&(Y(s),u("click",s))}function O(s){e.persistent!==!0&&e.noBackdropDismiss!==!0?Y(s):e.noShake!==!0&&i()}function k(s){z.value===!0&&C.value===!0&&il(o.value,s.target)!==!0&&Q()}Object.assign(H.proxy,{focus:Q,shake:i,__updateRefocusTarget(s){c=s||null}}),Ye(d);function S(){return b("div",K(I({},g),{class:G.value}),[b(St,{name:"q-transition--fade",appear:!0},()=>re.value===!0?b("div",{class:"q-dialog__backdrop fixed-full",style:te.value,"aria-hidden":"true",onMousedown:O}):null),b(St,{name:ae.value,appear:!0},()=>z.value===!0?b("div",I({ref:o,class:se.value,style:te.value,tabindex:-1},ce.value),ol(a.default)):null)])}return X}});const Ct=e=>["add","add-unique","toggle"].includes(e),Dl=".*+?^${}()|[]\\",$l=Object.keys(Xe);var Zl=De({name:"QSelect",inheritAttrs:!1,props:K(I(I(I({},Fl),Yt),Xe),{modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Ct},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function}),emits:[...kt,"add","remove","input-value","keyup","keypress","keydown","filter-abort"],setup(e,{slots:a,emit:u}){const{proxy:g}=Pe(),{$q:H}=g,o=A(!1),z=A(!1),x=A(-1),h=A(""),M=A(!1),c=A(!1);let q,B,w,N,F,V,j,R,W;const ee=A(null),C=A(null),X=A(null),Y=A(null),Se=A(null),ie=Gt(e),se=Jt(it),D=f(()=>Array.isArray(e.options)?e.options.length:0),_e=f(()=>e.virtualScrollItemSize===void 0?e.dense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:ae,virtualScrollSliceSizeComputed:te,localResetVirtualScroll:re,padVirtualScroll:ce,onVirtualScrollEvt:G,reset:ze,scrollTo:de,setVirtualScrollSize:Q}=Tl({virtualScrollLength:D,getVirtualScrollTarget:Et,getVirtualScrollEl:ut,virtualScrollItemSizeComputed:_e}),i=Vt(),l=f(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,r=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const n=e.mapOptions===!0&&B!==void 0?B:[],m=r.map(p=>Bt(p,n));return e.modelValue===null&&t===!0?m.filter(p=>p!==null):m}return r}),d=f(()=>{const t={};return $l.forEach(r=>{const n=e[r];n!==void 0&&(t[r]=n)}),t}),v=f(()=>e.optionsDark===null?i.isDark.value:e.optionsDark),E=f(()=>vt(l.value)),O=f(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||l.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),k=f(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),S=f(()=>D.value===0),s=f(()=>l.value.map(t=>L.value(t)).join(", ")),y=f(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),P=f(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||l.value.some(y.value))),Z=f(()=>i.focused.value===!0?e.tabindex:-1),le=f(()=>({tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":o.value===!0?"true":"false","aria-owns":`${i.targetUid.value}_lb`,"aria-controls":`${i.targetUid.value}_lb`})),ne=f(()=>{const t={id:`${i.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"};return x.value>=0&&(t["aria-activedescendant"]=`${i.targetUid.value}_${x.value}`),t}),Me=f(()=>l.value.map((t,r)=>({index:r,opt:t,html:y.value(t),selected:!0,removeAtIndex:It,toggleOption:fe,tabindex:Z.value}))),ge=f(()=>{if(D.value===0)return[];const{from:t,to:r}=ae.value;return e.options.slice(t,r).map((n,m)=>{const p=ye.value(n)===!0,_=t+m,T={clickable:!0,active:!1,activeClass:Ie.value,manualFocus:!0,focused:!1,disable:p,tabindex:-1,dense:e.optionsDense,dark:v.value,role:"option",id:`${i.targetUid.value}_${_}`,onClick:()=>{fe(n)}};return p!==!0&&(Ke(n)===!0&&(T.active=!0),x.value===_&&(T.focused=!0),T["aria-selected"]=T.active===!0?"true":"false",H.platform.is.desktop===!0&&(T.onMousemove=()=>{o.value===!0&&be(_)})),{index:_,opt:n,html:y.value(n),label:L.value(n),selected:T.active,focused:T.focused,toggleOption:fe,setOptionIndex:be,itemProps:T}})}),he=f(()=>e.dropdownIcon!==void 0?e.dropdownIcon:H.iconSet.arrow.dropdown),Ae=f(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Ie=f(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),U=f(()=>Ne(e.optionValue,"value")),L=f(()=>Ne(e.optionLabel,"label")),ye=f(()=>Ne(e.optionDisable,"disable")),Fe=f(()=>l.value.map(t=>U.value(t))),zt=f(()=>{const t={onInput:it,onChange:se,onKeydown:nt,onKeyup:tt,onKeypress:lt,onFocus:Ze,onClick(r){w===!0&&Ve(r)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=se,t});oe(l,t=>{B=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&i.innerLoading.value!==!0&&(z.value!==!0&&o.value!==!0||E.value!==!0)&&(N!==!0&&xe(),(z.value===!0||o.value===!0)&&we(""))},{immediate:!0}),oe(()=>e.fillInput,xe),oe(o,je),oe(D,$t);function Ge(t){return e.emitValue===!0?U.value(t):t}function $e(t){if(t>-1&&t<l.value.length)if(e.multiple===!0){const r=e.modelValue.slice();u("remove",{index:t,value:r.splice(t,1)[0]}),u("update:modelValue",r)}else u("update:modelValue",null)}function It(t){$e(t),i.focus()}function Je(t,r){const n=Ge(t);if(e.multiple!==!0){e.fillInput===!0&&Be(L.value(t),!0,!0),u("update:modelValue",n);return}if(l.value.length===0){u("add",{index:0,value:n}),u("update:modelValue",e.multiple===!0?[n]:n);return}if(r===!0&&Ke(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const m=e.modelValue.slice();u("add",{index:m.length,value:n}),m.push(n),u("update:modelValue",m)}function fe(t,r){if(i.editable.value!==!0||t===void 0||ye.value(t)===!0)return;const n=U.value(t);if(e.multiple!==!0){r!==!0&&(Be(e.fillInput===!0?L.value(t):"",!0,!0),ve()),C.value!==null&&C.value.focus(),(l.value.length===0||Ee(U.value(l.value[0]),n)!==!0)&&u("update:modelValue",e.emitValue===!0?n:t);return}if((w!==!0||M.value===!0)&&i.focus(),Ze(),l.value.length===0){const _=e.emitValue===!0?n:t;u("add",{index:0,value:_}),u("update:modelValue",e.multiple===!0?[_]:_);return}const m=e.modelValue.slice(),p=Fe.value.findIndex(_=>Ee(_,n));if(p>-1)u("remove",{index:p,value:m.splice(p,1)[0]});else{if(e.maxValues!==void 0&&m.length>=e.maxValues)return;const _=e.emitValue===!0?n:t;u("add",{index:m.length,value:_}),m.push(_)}u("update:modelValue",m)}function be(t){if(H.platform.is.desktop!==!0)return;const r=t>-1&&t<D.value?t:-1;x.value!==r&&(x.value=r)}function Te(t=1,r){if(o.value===!0){let n=x.value;do n=mt(n+t,-1,D.value-1);while(n!==-1&&n!==x.value&&ye.value(e.options[n])===!0);x.value!==n&&(be(n),de(n),r!==!0&&e.useInput===!0&&e.fillInput===!0&&He(n>=0?L.value(e.options[n]):V))}}function Bt(t,r){const n=m=>Ee(U.value(m),t);return e.options.find(n)||r.find(n)||t}function Ne(t,r){const n=t!==void 0?t:r;return typeof n=="function"?n:m=>m!==null&&typeof m=="object"&&n in m?m[n]:m}function Ke(t){const r=U.value(t);return Fe.value.find(n=>Ee(n,r))!==void 0}function Ze(t){e.useInput===!0&&C.value!==null&&(t===void 0||C.value===t.target&&t.target.value===s.value)&&C.value.select()}function et(t){sl(t,27)===!0&&o.value===!0&&(Ve(t),ve(),xe()),u("keyup",t)}function tt(t){const{value:r}=t.target;if(t.keyCode!==void 0){et(t);return}if(t.target.value="",clearTimeout(q),xe(),typeof r=="string"&&r.length>0){const n=r.toLocaleLowerCase(),m=_=>{const T=e.options.find($=>_.value($).toLocaleLowerCase()===n);return T===void 0?!1:(l.value.indexOf(T)===-1?fe(T):ve(),!0)},p=_=>{m(U)!==!0&&(m(L)===!0||_===!0||we(r,!0,()=>p(!0)))};p()}else i.clearValue(t)}function lt(t){u("keypress",t)}function nt(t){if(u("keydown",t),cl(t)===!0)return;const r=h.value.length>0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),n=t.shiftKey!==!0&&e.multiple!==!0&&(x.value>-1||r===!0);if(t.keyCode===27){Ue(t);return}if(t.keyCode===9&&n===!1){Ce();return}if(t.target===void 0||t.target.id!==i.targetUid.value)return;if(t.keyCode===40&&i.innerLoading.value!==!0&&o.value===!1){me(t),ke();return}if(t.keyCode===8&&e.hideSelected!==!0&&h.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?$e(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&u("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof h.value!="string"||h.value.length===0)&&(me(t),x.value=-1,Te(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&te.value!==void 0&&(me(t),x.value=Math.max(-1,Math.min(D.value,x.value+(t.keyCode===33?-1:1)*te.value.view)),Te(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(me(t),Te(t.keyCode===38?-1:1,e.multiple));const m=D.value;if((R===void 0||W<Date.now())&&(R=""),m>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===t.ctrlKey&&(t.keyCode!==32||R.length>0)){o.value!==!0&&ke(t);const p=t.key.toLocaleLowerCase(),_=R.length===1&&R[0]===p;W=Date.now()+1500,_===!1&&(me(t),R+=p);const T=new RegExp("^"+R.split("").map(Qe=>Dl.indexOf(Qe)>-1?"\\"+Qe:Qe).join(".*"),"i");let $=x.value;if(_===!0||$<0||T.test(L.value(e.options[$]))!==!0)do $=mt($+1,-1,m-1);while($!==x.value&&(ye.value(e.options[$])===!0||T.test(L.value(e.options[$]))!==!0));x.value!==$&&ue(()=>{be($),de($),$>=0&&e.useInput===!0&&e.fillInput===!0&&He(L.value(e.options[$]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||R!=="")&&(t.keyCode!==9||n===!1))){if(t.keyCode!==9&&me(t),x.value>-1&&x.value<m){fe(e.options[x.value]);return}if(r===!0){const p=(_,T)=>{if(T){if(Ct(T)!==!0)return}else T=e.newValueMode;if(_==null)return;Be("",e.multiple!==!0,!0),(T==="toggle"?fe:Je)(_,T==="add-unique"),e.multiple!==!0&&(C.value!==null&&C.value.focus(),ve())};if(e.onNewValue!==void 0?u("new-value",h.value,p):p(h.value),e.multiple!==!0)return}o.value===!0?Ce():i.innerLoading.value!==!0&&ke()}}function ut(){return w===!0?Se.value:X.value!==null&&X.value.__qPortalInnerRef.value!==null?X.value.__qPortalInnerRef.value:void 0}function Et(){return ut()}function pt(){return e.hideSelected===!0?[]:a["selected-item"]!==void 0?Me.value.map(t=>a["selected-item"](t)).slice():a.selected!==void 0?[].concat(a.selected()):e.useChips===!0?Me.value.map((t,r)=>b(Rl,{key:"option-"+r,removable:i.editable.value===!0&&ye.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:Z.value,onRemove(){t.removeAtIndex(r)}},()=>b("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:L.value(t.opt)}))):[b("span",{[P.value===!0?"innerHTML":"textContent"]:e.displayValue!==void 0?e.displayValue:s.value})]}function ot(){if(S.value===!0)return a["no-option"]!==void 0?a["no-option"]({inputValue:h.value}):void 0;const t=a.option!==void 0?a.option:n=>b(hl,I({key:n.index},n.itemProps),()=>b(gl,()=>b(yl,()=>b("span",{[n.html===!0?"innerHTML":"textContent"]:n.label}))));let r=ce("div",ge.value.map(t));return a["before-options"]!==void 0&&(r=a["before-options"]().concat(r)),dl(a["after-options"],r)}function Mt(t,r){const n=r===!0?I(I({},le.value),i.splitAttrs.attributes.value):void 0,m=I(K(I({ref:r===!0?C:void 0,key:"i_t",class:O.value,style:e.inputStyle,value:h.value!==void 0?h.value:"",type:"search"},n),{id:r===!0?i.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t!==!0&&e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0}),zt.value);return t!==!0&&w===!0&&(Array.isArray(m.class)===!0?m.class=[...m.class,"no-pointer-events"]:m.class+=" no-pointer-events"),b("input",m)}function it(t){clearTimeout(q),!(t&&t.target&&t.target.composing===!0)&&(He(t.target.value||""),N=!0,V=h.value,i.focused.value!==!0&&(w!==!0||M.value===!0)&&i.focus(),e.onFilter!==void 0&&(q=setTimeout(()=>{we(h.value)},e.inputDebounce)))}function He(t){h.value!==t&&(h.value=t,u("input-value",t))}function Be(t,r,n){N=n!==!0,e.useInput===!0&&(He(t),(r===!0||n!==!0)&&(V=t),r!==!0&&we(t))}function we(t,r,n){if(e.onFilter===void 0||r!==!0&&i.focused.value!==!0)return;i.innerLoading.value===!0?u("filter-abort"):(i.innerLoading.value=!0,c.value=!0),t!==""&&e.multiple!==!0&&l.value.length>0&&N!==!0&&t===L.value(l.value[0])&&(t="");const m=setTimeout(()=>{o.value===!0&&(o.value=!1)},10);clearTimeout(F),F=m,u("filter",t,(p,_)=>{(r===!0||i.focused.value===!0)&&F===m&&(clearTimeout(F),typeof p=="function"&&p(),c.value=!1,ue(()=>{i.innerLoading.value=!1,i.editable.value===!0&&(r===!0?o.value===!0&&ve():o.value===!0?je(!0):o.value=!0),typeof _=="function"&&ue(()=>{_(g)}),typeof n=="function"&&ue(()=>{n(g)})}))},()=>{i.focused.value===!0&&F===m&&(clearTimeout(F),i.innerLoading.value=!1,c.value=!1),o.value===!0&&(o.value=!1)})}function At(){return b(ql,K(I({ref:X,class:k.value,style:e.popupContentStyle,modelValue:o.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&S.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:v.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Ae.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0},ne.value),{onScrollPassive:G,onBeforeShow:rt,onBeforeHide:Ft,onShow:Tt}),ot)}function Ft(t){st(t),Ce()}function Tt(){Q()}function Ht(t){Ve(t),C.value!==null&&C.value.focus(),M.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Ot(t){Ve(t),ue(()=>{M.value=!1})}function Rt(){const t=[b(Hl,K(I(K(I({class:`col-auto ${i.fieldClass.value}`},d.value),{for:i.targetUid.value,dark:v.value,square:!0,loading:c.value,itemAligned:!1,filled:!0,stackLabel:h.value.length>0}),i.splitAttrs.listeners.value),{onFocus:Ht,onBlur:Ot}),K(I({},a),{rawControl:()=>i.getControl(!0),before:void 0,after:void 0}))];return o.value===!0&&t.push(b("div",K(I({ref:Se,class:k.value+" scroll",style:e.popupContentStyle},ne.value),{onClick:Ue,onScrollPassive:G}),ot())),b(Pl,{ref:Y,modelValue:z.value,position:e.useInput===!0?"top":void 0,transitionShow:j,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:rt,onBeforeHide:Lt,onHide:Pt,onShow:Dt},()=>b("div",{class:"q-select__dialog"+(v.value===!0?" q-select__dialog--dark q-dark":"")+(M.value===!0?" q-select__dialog--focused":"")},t))}function Lt(t){st(t),Y.value!==null&&Y.value.__updateRefocusTarget(i.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),i.focused.value=!1}function Pt(t){ve(),i.focused.value===!1&&u("blur",t),xe()}function Dt(){const t=document.activeElement;(t===null||t.id!==i.targetUid.value)&&C.value!==null&&C.value!==t&&C.value.focus(),Q()}function Ce(){z.value!==!0&&(x.value=-1,o.value===!0&&(o.value=!1),i.focused.value===!1&&(clearTimeout(F),F=void 0,i.innerLoading.value===!0&&(u("filter-abort"),i.innerLoading.value=!1,c.value=!1)))}function ke(t){i.editable.value===!0&&(w===!0?(i.onControlFocusin(t),z.value=!0,ue(()=>{i.focus()})):i.focus(),e.onFilter!==void 0?we(h.value):(S.value!==!0||a["no-option"]!==void 0)&&(o.value=!0))}function ve(){z.value=!1,Ce()}function xe(){e.useInput===!0&&Be(e.multiple!==!0&&e.fillInput===!0&&l.value.length>0&&L.value(l.value[0])||"",!0,!0)}function je(t){let r=-1;if(t===!0){if(l.value.length>0){const n=U.value(l.value[0]);r=e.options.findIndex(m=>Ee(U.value(m),n))}re(r)}be(r)}function $t(){o.value===!0&&i.innerLoading.value===!1&&(ze(),ue(()=>{o.value===!0&&i.innerLoading.value===!1&&je(!0)}))}function at(){z.value===!1&&X.value!==null&&X.value.updatePosition()}function rt(t){t!==void 0&&Ve(t),u("popup-show",t),i.hasPopupOpen=!0,i.onControlFocusin(t)}function st(t){t!==void 0&&Ve(t),u("popup-hide",t),i.hasPopupOpen=!1,i.onControlFocusout(t)}function ct(){w=H.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?a["no-option"]!==void 0||e.onFilter!==void 0||S.value===!1:!0),j=H.platform.is.ios===!0&&w===!0&&e.useInput===!0?"fade":e.transitionShow}return al(ct),rl(at),ct(),Ye(()=>{clearTimeout(q)}),Object.assign(g,{showPopup:ke,hidePopup:ve,removeAtIndex:$e,add:Je,toggleOption:fe,getOptionIndex:()=>x.value,setOptionIndex:be,moveOptionSelection:Te,filter:we,updateMenuPosition:at,updateInputValue:Be,isOptionSelected:Ke,getEmittingOptionValue:Ge,isOptionDisabled:(...t)=>ye.value.apply(null,t)===!0,getOptionValue:(...t)=>U.value.apply(null,t),getOptionLabel:(...t)=>L.value.apply(null,t)}),Object.assign(i,{innerValue:l,fieldClass:f(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:ee,targetRef:C,hasValue:E,showPopup:ke,floatingLabel:f(()=>(e.hideSelected===!0?h.value.length>0:E.value===!0)||vt(e.displayValue)),getControlChild:()=>{if(i.editable.value!==!1&&(z.value===!0||S.value!==!0||a["no-option"]!==void 0))return w===!0?Rt():At();i.hasPopupOpen===!0&&(i.hasPopupOpen=!1)},controlEvents:{onFocusin(t){i.onControlFocusin(t)},onFocusout(t){i.onControlFocusout(t,()=>{xe(),Ce()})},onClick(t){if(Ue(t),w!==!0&&o.value===!0){Ce(),C.value!==null&&C.value.focus();return}ke(t)}},getControl:t=>{const r=pt(),n=t===!0||z.value!==!0||w!==!0;if(e.useInput===!0)r.push(Mt(t,n));else if(i.editable.value===!0){const p=n===!0?le.value:void 0;r.push(b("input",K(I({ref:n===!0?C:void 0,key:"d_t",class:"q-select__focus-target",id:n===!0?i.targetUid.value:void 0,readonly:!0},p),{onKeydown:nt,onKeyup:et,onKeypress:lt}))),n===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length>0&&r.push(b("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,onKeyup:tt}))}if(ie.value!==void 0&&e.disable!==!0&&Fe.value.length>0){const p=Fe.value.map(_=>b("option",{value:_,selected:!0}));r.push(b("select",{class:"hidden",name:ie.value,multiple:e.multiple},p))}const m=e.useInput===!0||n!==!0?void 0:i.splitAttrs.attributes.value;return b("div",I({class:"q-field__native row items-center"},m),r)},getInnerAppend:()=>e.loading!==!0&&c.value!==!0&&e.hideDropdownIcon!==!0?[b(Re,{class:"q-select__dropdown-icon"+(o.value===!0?" rotate-180":""),name:he.value})]:null}),xt(i)}});export{Zl as Q,Tl as a,Rl as b,Jl as c,Fl as u};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUVNlbGVjdC44OTVlNzQxYi5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvdXRpbHMvcHJpdmF0ZS9ydGwuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcXVhc2FyL3NyYy9jb21wb25lbnRzL3ZpcnR1YWwtc2Nyb2xsL3VzZS12aXJ0dWFsLXNjcm9sbC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL2NvbXBvbmVudHMvZmllbGQvUUZpZWxkLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvY29tcG9uZW50cy9jaGlwL1FDaGlwLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3F1YXNhci9zcmMvY29tcG9uZW50cy9kaWFsb2cvUURpYWxvZy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9xdWFzYXIvc3JjL2NvbXBvbmVudHMvc2VsZWN0L1FTZWxlY3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsibGV0IHJ0bEhhc1Njcm9sbEJ1ZyA9IGZhbHNlXG5cbi8vIG1vYmlsZSBDaHJvbWUgdGFrZXMgdGhlIGNyb3duIGZvciB0aGlzXG5pZiAoIV9fUVVBU0FSX1NTUl9fKSB7XG4gIGNvbnN0IHNjcm9sbGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgY29uc3Qgc3BhY2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcblxuICBzY3JvbGxlci5zZXRBdHRyaWJ1dGUoJ2RpcicsICdydGwnKVxuICBzY3JvbGxlci5zdHlsZS53aWR0aCA9ICcxcHgnXG4gIHNjcm9sbGVyLnN0eWxlLmhlaWdodCA9ICcxcHgnXG4gIHNjcm9sbGVyLnN0eWxlLm92ZXJmbG93ID0gJ2F1dG8nXG5cbiAgc3BhY2VyLnN0eWxlLndpZHRoID0gJzEwMDBweCdcbiAgc3BhY2VyLnN0eWxlLmhlaWdodCA9ICcxcHgnXG5cbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JvbGxlcilcbiAgc2Nyb2xsZXIuYXBwZW5kQ2hpbGQoc3BhY2VyKVxuICBzY3JvbGxlci5zY3JvbGxMZWZ0ID0gLTEwMDBcblxuICBydGxIYXNTY3JvbGxCdWcgPSBzY3JvbGxlci5zY3JvbGxMZWZ0ID49IDBcblxuICBzY3JvbGxlci5yZW1vdmUoKVxufVxuXG5leHBvcnQge1xuICBydGxIYXNTY3JvbGxCdWdcbn1cbiIsImltcG9ydCB7IGgsIHJlZiwgY29tcHV0ZWQsIHdhdGNoLCBvbkFjdGl2YXRlZCwgb25EZWFjdGl2YXRlZCwgb25CZWZvcmVNb3VudCwgb25CZWZvcmVVbm1vdW50LCBuZXh0VGljaywgZ2V0Q3VycmVudEluc3RhbmNlIH0gZnJvbSAndnVlJ1xuXG5pbXBvcnQgZGVib3VuY2UgZnJvbSAnLi4vLi4vdXRpbHMvZGVib3VuY2UuanMnXG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vLi4vdXRpbHMvZXZlbnQuanMnXG5pbXBvcnQgeyBydGxIYXNTY3JvbGxCdWcgfSBmcm9tICcuLi8uLi91dGlscy9wcml2YXRlL3J0bC5qcydcblxuY29uc3QgYWdnQnVja2V0U2l6ZSA9IDEwMDBcblxuY29uc3Qgc2Nyb2xsVG9FZGdlcyA9IFtcbiAgJ3N0YXJ0JyxcbiAgJ2NlbnRlcicsXG4gICdlbmQnLFxuICAnc3RhcnQtZm9yY2UnLFxuICAnY2VudGVyLWZvcmNlJyxcbiAgJ2VuZC1mb3JjZSdcbl1cblxubGV0IGlkID0gMVxuY29uc3QgZmlsdGVyUHJvdG8gPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyXG5cbmNvbnN0IHNldE92ZXJmbG93QW5jaG9yID0gX19RVUFTQVJfU1NSX18gfHwgd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSkub3ZlcmZsb3dBbmNob3IgPT09IHZvaWQgMFxuICA/IG5vb3BcbiAgOiBmdW5jdGlvbiAoaWQsIGluZGV4KSB7XG4gICAgY29uc3Qgc3NJZCA9IGlkICsgJ19zcydcblxuICAgIGxldCBzdHlsZVNoZWV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3NJZClcblxuICAgIGlmIChzdHlsZVNoZWV0ID09PSBudWxsKSB7XG4gICAgICBzdHlsZVNoZWV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKVxuICAgICAgc3R5bGVTaGVldC50eXBlID0gJ3RleHQvY3NzJ1xuICAgICAgc3R5bGVTaGVldC5pZCA9IHNzSWRcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVTaGVldClcbiAgICB9XG5cbiAgICBpZiAoc3R5bGVTaGVldC5xQ2hpbGRJbmRleCAhPT0gaW5kZXgpIHtcbiAgICAgIHN0eWxlU2hlZXQucUNoaWxkSW5kZXggPSBpbmRleFxuICAgICAgc3R5bGVTaGVldC5pbm5lckhUTUwgPSBgIyR7IGlkIH0gPiAqOm50aC1jaGlsZCgkeyBpbmRleCB9KSB7IG92ZXJmbG93LWFuY2hvcjogYXV0byB9YFxuICAgIH1cbiAgfVxuXG5mdW5jdGlvbiBzdW1GbiAoYWNjLCBoKSB7XG4gIHJldHVybiBhY2MgKyBoXG59XG5cbmZ1bmN0aW9uIGdldFNjcm9sbERldGFpbHMgKFxuICBwYXJlbnQsXG4gIGNoaWxkLFxuICBiZWZvcmVSZWYsXG4gIGFmdGVyUmVmLFxuICBob3Jpem9udGFsLFxuICBydGwsXG4gIHN0aWNreVN0YXJ0LFxuICBzdGlja3lFbmRcbikge1xuICBjb25zdFxuICAgIHBhcmVudENhbGMgPSBwYXJlbnQgPT09IHdpbmRvdyA/IGRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IDogcGFyZW50LFxuICAgIHByb3BFbFNpemUgPSBob3Jpem9udGFsID09PSB0cnVlID8gJ29mZnNldFdpZHRoJyA6ICdvZmZzZXRIZWlnaHQnLFxuICAgIGRldGFpbHMgPSB7XG4gICAgICBzY3JvbGxTdGFydDogMCxcbiAgICAgIHNjcm9sbFZpZXdTaXplOiAtc3RpY2t5U3RhcnQgLSBzdGlja3lFbmQsXG4gICAgICBzY3JvbGxNYXhTaXplOiAwLFxuICAgICAgb2Zmc2V0U3RhcnQ6IC1zdGlja3lTdGFydCxcbiAgICAgIG9mZnNldEVuZDogLXN0aWNreUVuZFxuICAgIH1cblxuICBpZiAoaG9yaXpvbnRhbCA9PT0gdHJ1ZSkge1xuICAgIGlmIChwYXJlbnQgPT09IHdpbmRvdykge1xuICAgICAgZGV0YWlscy5zY3JvbGxTdGFydCA9IHdpbmRvdy5wYWdlWE9mZnNldCB8fCB3aW5kb3cuc2Nyb2xsWCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQgfHwgMFxuICAgICAgZGV0YWlscy5zY3JvbGxWaWV3U2l6ZSArPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGhcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBkZXRhaWxzLnNjcm9sbFN0YXJ0ID0gcGFyZW50Q2FsYy5zY3JvbGxMZWZ0XG4gICAgICBkZXRhaWxzLnNjcm9sbFZpZXdTaXplICs9IHBhcmVudENhbGMuY2xpZW50V2lkdGhcbiAgICB9XG4gICAgZGV0YWlscy5zY3JvbGxNYXhTaXplID0gcGFyZW50Q2FsYy5zY3JvbGxXaWR0aFxuXG4gICAgaWYgKHJ0bCA9PT0gdHJ1ZSkge1xuICAgICAgZGV0YWlscy5zY3JvbGxTdGFydCA9IChydGxIYXNTY3JvbGxCdWcgPT09IHRydWUgPyBkZXRhaWxzLnNjcm9sbE1heFNpemUgLSBkZXRhaWxzLnNjcm9sbFZpZXdTaXplIDogMCkgLSBkZXRhaWxzLnNjcm9sbFN0YXJ0XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIGlmIChwYXJlbnQgPT09IHdpbmRvdykge1xuICAgICAgZGV0YWlscy5zY3JvbGxTdGFydCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCB3aW5kb3cuc2Nyb2xsWSB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCAwXG4gICAgICBkZXRhaWxzLnNjcm9sbFZpZXdTaXplICs9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHRcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBkZXRhaWxzLnNjcm9sbFN0YXJ0ID0gcGFyZW50Q2FsYy5zY3JvbGxUb3BcbiAgICAgIGRldGFpbHMuc2Nyb2xsVmlld1NpemUgKz0gcGFyZW50Q2FsYy5jbGllbnRIZWlnaHRcbiAgICB9XG4gICAgZGV0YWlscy5zY3JvbGxNYXhTaXplID0gcGFyZW50Q2FsYy5zY3JvbGxIZWlnaHRcbiAgfVxuXG4gIGlmIChiZWZvcmVSZWYgIT09IG51bGwpIHtcbiAgICBmb3IgKGxldCBlbCA9IGJlZm9yZVJlZi5wcmV2aW91c0VsZW1lbnRTaWJsaW5nOyBlbCAhPT0gbnVsbDsgZWwgPSBlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSB7XG4gICAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdxLXZpcnR1YWwtc2Nyb2xsLS1za2lwJykgPT09IGZhbHNlKSB7XG4gICAgICAgIGRldGFpbHMub2Zmc2V0U3RhcnQgKz0gZWxbIHByb3BFbFNpemUgXVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChhZnRlclJlZiAhPT0gbnVsbCkge1xuICAgIGZvciAobGV0IGVsID0gYWZ0ZXJSZWYubmV4dEVsZW1lbnRTaWJsaW5nOyBlbCAhPT0gbnVsbDsgZWwgPSBlbC5uZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3EtdmlydHVhbC1zY3JvbGwtLXNraXAnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgZGV0YWlscy5vZmZzZXRFbmQgKz0gZWxbIHByb3BFbFNpemUgXVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChjaGlsZCAhPT0gcGFyZW50KSB7XG4gICAgY29uc3RcbiAgICAgIHBhcmVudFJlY3QgPSBwYXJlbnRDYWxjLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgY2hpbGRSZWN0ID0gY2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblxuICAgIGlmIChob3Jpem9udGFsID09PSB0cnVlKSB7XG4gICAgICBkZXRhaWxzLm9mZnNldFN0YXJ0ICs9IGNoaWxkUmVjdC5sZWZ0IC0gcGFyZW50UmVjdC5sZWZ0XG4gICAgICBkZXRhaWxzLm9mZnNldEVuZCAtPSBjaGlsZFJlY3Qud2lkdGhcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBkZXRhaWxzLm9mZnNldFN0YXJ0ICs9IGNoaWxkUmVjdC50b3AgLSBwYXJlbnRSZWN0LnRvcFxuICAgICAgZGV0YWlscy5vZmZzZXRFbmQgLT0gY2hpbGRSZWN0LmhlaWdodFxuICAgIH1cblxuICAgIGlmIChwYXJlbnQgIT09IHdpbmRvdykge1xuICAgICAgZGV0YWlscy5vZmZzZXRTdGFydCArPSBkZXRhaWxzLnNjcm9sbFN0YXJ0XG4gICAgfVxuICAgIGRldGFpbHMub2Zmc2V0RW5kICs9IGRldGFpbHMuc2Nyb2xsTWF4U2l6ZSAtIGRldGFpbHMub2Zmc2V0U3RhcnRcbiAgfVxuXG4gIHJldHVybiBkZXRhaWxzXG59XG5cbmZ1bmN0aW9uIHNldFNjcm9sbCAocGFyZW50LCBzY3JvbGwsIGhvcml6b250YWwsIHJ0bCkge1xuICBpZiAoc2Nyb2xsID09PSAnZW5kJykge1xuICAgIHNjcm9sbCA9IChwYXJlbnQgPT09IHdpbmRvdyA/IGRvY3VtZW50LmJvZHkgOiBwYXJlbnQpW1xuICAgICAgaG9yaXpvbnRhbCA9PT0gdHJ1ZSA/ICdzY3JvbGxXaWR0aCcgOiAnc2Nyb2xsSGVpZ2h0J1xuICAgIF1cbiAgfVxuXG4gIGlmIChwYXJlbnQgPT09IHdpbmRvdykge1xuICAgIGlmIChob3Jpem9udGFsID09PSB0cnVlKSB7XG4gICAgICBpZiAocnRsID09PSB0cnVlKSB7XG4gICAgICAgIHNjcm9sbCA9IChydGxIYXNTY3JvbGxCdWcgPT09IHRydWUgPyBkb2N1bWVudC5ib2R5LnNjcm9sbFdpZHRoIC0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIDogMCkgLSBzY3JvbGxcbiAgICAgIH1cbiAgICAgIHdpbmRvdy5zY3JvbGxUbyhzY3JvbGwsIHdpbmRvdy5wYWdlWU9mZnNldCB8fCB3aW5kb3cuc2Nyb2xsWSB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCAwKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHdpbmRvdy5zY3JvbGxUbyh3aW5kb3cucGFnZVhPZmZzZXQgfHwgd2luZG93LnNjcm9sbFggfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0IHx8IDAsIHNjcm9sbClcbiAgICB9XG4gIH1cbiAgZWxzZSBpZiAoaG9yaXpvbnRhbCA9PT0gdHJ1ZSkge1xuICAgIGlmIChydGwgPT09IHRydWUpIHtcbiAgICAgIHNjcm9sbCA9IChydGxIYXNTY3JvbGxCdWcgPT09IHRydWUgPyBwYXJlbnQuc2Nyb2xsV2lkdGggLSBwYXJlbnQub2Zmc2V0V2lkdGggOiAwKSAtIHNjcm9sbFxuICAgIH1cbiAgICBwYXJlbnQuc2Nyb2xsTGVmdCA9IHNjcm9sbFxuICB9XG4gIGVsc2Uge1xuICAgIHBhcmVudC5zY3JvbGxUb3AgPSBzY3JvbGxcbiAgfVxufVxuXG5mdW5jdGlvbiBzdW1TaXplIChzaXplQWdnLCBzaXplLCBmcm9tLCB0bykge1xuICBpZiAoZnJvbSA+PSB0bykgeyByZXR1cm4gMCB9XG5cbiAgY29uc3RcbiAgICBsYXN0VG8gPSBzaXplLmxlbmd0aCxcbiAgICBmcm9tQWdnID0gTWF0aC5mbG9vcihmcm9tIC8gYWdnQnVja2V0U2l6ZSksXG4gICAgdG9BZ2cgPSBNYXRoLmZsb29yKCh0byAtIDEpIC8gYWdnQnVja2V0U2l6ZSkgKyAxXG5cbiAgbGV0IHRvdGFsID0gc2l6ZUFnZy5zbGljZShmcm9tQWdnLCB0b0FnZykucmVkdWNlKHN1bUZuLCAwKVxuXG4gIGlmIChmcm9tICUgYWdnQnVja2V0U2l6ZSAhPT0gMCkge1xuICAgIHRvdGFsIC09IHNpemUuc2xpY2UoZnJvbUFnZyAqIGFnZ0J1Y2tldFNpemUsIGZyb20pLnJlZHVjZShzdW1GbiwgMClcbiAgfVxuICBpZiAodG8gJSBhZ2dCdWNrZXRTaXplICE9PSAwICYmIHRvICE9PSBsYXN0VG8pIHtcbiAgICB0b3RhbCAtPSBzaXplLnNsaWNlKHRvLCB0b0FnZyAqIGFnZ0J1Y2tldFNpemUpLnJlZHVjZShzdW1GbiwgMClcbiAgfVxuXG4gIHJldHVybiB0b3RhbFxufVxuXG5jb25zdCBjb21tb25WaXJ0U2Nyb2xsUHJvcHMgPSB7XG4gIHZpcnR1YWxTY3JvbGxTbGljZVNpemU6IHtcbiAgICB0eXBlOiBbIE51bWJlciwgU3RyaW5nIF0sXG4gICAgZGVmYXVsdDogbnVsbFxuICB9LFxuXG4gIHZpcnR1YWxTY3JvbGxTbGljZVJhdGlvQmVmb3JlOiB7XG4gICAgdHlwZTogWyBOdW1iZXIsIFN0cmluZyBdLFxuICAgIGRlZmF1bHQ6IDFcbiAgfSxcblxuICB2aXJ0dWFsU2Nyb2xsU2xpY2VSYXRpb0FmdGVyOiB7XG4gICAgdHlwZTogWyBOdW1iZXIsIFN0cmluZyBdLFxuICAgIGRlZmF1bHQ6IDFcbiAgfSxcblxuICB2aXJ0dWFsU2Nyb2xsSXRlbVNpemU6IHtcbiAgICB0eXBlOiBbIE51bWJlciwgU3RyaW5nIF0sXG4gICAgZGVmYXVsdDogMjRcbiAgfSxcblxuICB2aXJ0dWFsU2Nyb2xsU3RpY2t5U2l6ZVN0YXJ0OiB7XG4gICAgdHlwZTogWyBOdW1iZXIsIFN0cmluZyBdLFxuICAgIGRlZmF1bHQ6IDBcbiAgfSxcblxuICB2aXJ0dWFsU2Nyb2xsU3RpY2t5U2l6ZUVuZDoge1xuICAgIHR5cGU6IFsgTnVtYmVyLCBTdHJpbmcgXSxcbiAgICBkZWZhdWx0OiAwXG4gIH0sXG5cbiAgdGFibGVDb2xzcGFuOiBbIE51bWJlciwgU3RyaW5nIF1cbn1cblxuZXhwb3J0IGNvbnN0IGNvbW1vblZpcnRQcm9wc0xpc3QgPSBPYmplY3Qua2V5cyhjb21tb25WaXJ0U2Nyb2xsUHJvcHMpXG5cbmV4cG9ydCBjb25zdCB1c2VWaXJ0dWFsU2Nyb2xsUHJvcHMgPSB7XG4gIHZpcnR1YWxTY3JvbGxIb3Jpem9udGFsOiBCb29sZWFuLFxuICBvblZpcnR1YWxTY3JvbGw6IEZ1bmN0aW9uLFxuICAuLi5jb21tb25WaXJ0U2Nyb2xsUHJvcHNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVZpcnR1YWxTY3JvbGwgKHtcbiAgdmlydHVhbFNjcm9sbExlbmd0aCwgZ2V0VmlydHVhbFNjcm9sbFRhcmdldCwgZ2V0VmlydHVhbFNjcm9sbEVsLFxuICB2aXJ0dWFsU2Nyb2xsSXRlbVNpemVDb21wdXRlZCAvLyBvcHRpb25hbFxufSkge1xuICBjb25zdCB2bSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpXG5cbiAgY29uc3QgeyBwcm9wcywgZW1pdCwgcHJveHkgfSA9IHZtXG4gIGNvbnN0IHsgJHEgfSA9IHByb3h5XG5cbiAgbGV0IHByZXZTY3JvbGxTdGFydCwgcHJldlRvSW5kZXgsIGxvY2FsU2Nyb2xsVmlld1NpemUsIHZpcnR1YWxTY3JvbGxTaXplc0FnZyA9IFtdLCB2aXJ0dWFsU2Nyb2xsU2l6ZXNcblxuICBjb25zdCB2c0lkID0gJ3F2c18nICsgaWQrK1xuXG4gIGNvbnN0IHZpcnR1YWxTY3JvbGxQYWRkaW5nQmVmb3JlID0gcmVmKDApXG4gIGNvbnN0IHZpcnR1YWxTY3JvbGxQYWRkaW5nQWZ0ZXIgPSByZWYoMClcbiAgY29uc3QgdmlydHVhbFNjcm9sbFNsaWNlU2l6ZUNvbXB1dGVkID0gcmVmKHt9KVxuXG4gIGNvbnN0IGJlZm9yZVJlZiA9IHJlZihudWxsKVxuICBjb25zdCBhZnRlclJlZiA9IHJlZihudWxsKVxuICBjb25zdCBjb250ZW50UmVmID0gcmVmKG51bGwpXG5cbiAgY29uc3QgdmlydHVhbFNjcm9sbFNsaWNlUmFuZ2UgPSByZWYoeyBmcm9tOiAwLCB0bzogMCB9KVxuXG4gIGNvbnN0IGNvbHNwYW5BdHRyID0gY29tcHV0ZWQoKCkgPT4gKHByb3BzLnRhYmxlQ29sc3BhbiAhPT0gdm9pZCAwID8gcHJvcHMudGFibGVDb2xzcGFuIDogMTAwKSlcblxuICBpZiAodmlydHVhbFNjcm9sbEl0ZW1TaXplQ29tcHV0ZWQgPT09IHZvaWQgMCkge1xuICAgIHZpcnR1YWxTY3JvbGxJdGVtU2l6ZUNvbXB1dGVkID0gY29tcHV0ZWQoKCkgPT4gcHJvcHMudmlydHVhbFNjcm9sbEl0ZW1TaXplKVxuICB9XG5cbiAgY29uc3QgbmVlZHNSZXNldCA9IGNvbXB1dGVkKCgpID0+IHZpcnR1YWxTY3JvbGxJdGVtU2l6ZUNvbXB1dGVkLnZhbHVlICsgJzsnICsgcHJvcHMudmlydHVhbFNjcm9sbEhvcml6b250YWwpXG5cbiAgY29uc3QgbmVlZHNTbGljZVJlY2FsYyA9IGNvbXB1dGVkKCgpID0+XG4gICAgbmVlZHNSZXNldC52YWx1ZSArICc7JyArIHByb3BzLnZpcnR1YWxTY3JvbGxTbGljZVJhdGlvQmVmb3JlICsgJzsnICsgcHJvcHMudmlydHVhbFNjcm9sbFNsaWNlUmF0aW9BZnRlclxuICApXG5cbiAgd2F0Y2gobmVlZHNTbGljZVJlY2FsYywgKCkgPT4geyBzZXRWaXJ0dWFsU2Nyb2xsU2l6ZSgpIH0pXG4gIHdhdGNoKG5lZWRzUmVzZXQsIHJlc2V0KVxuXG4gIGZ1bmN0aW9uIHJlc2V0ICgpIHtcbiAgICBsb2NhbFJlc2V0VmlydHVhbFNjcm9sbChwcmV2VG9JbmRleCwgdHJ1ZSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlZnJlc2ggKHRvSW5kZXgpIHtcbiAgICBsb2NhbFJlc2V0VmlydHVhbFNjcm9sbCh0b0luZGV4ID09PSB2b2lkIDAgPyBwcmV2VG9JbmRleCA6IHRvSW5kZXgpXG4gIH1cblxuICBmdW5jdGlvbiBzY3JvbGxUbyAodG9JbmRleCwgZWRnZSkge1xuICAgIGNvbnN0IHNjcm9sbEVsID0gZ2V0VmlydHVhbFNjcm9sbFRhcmdldCgpXG5cbiAgICBpZiAoc2Nyb2xsRWwgPT09IHZvaWQgMCB8fCBzY3JvbGxFbCA9PT0gbnVsbCB8fCBzY3JvbGxFbC5ub2RlVHlwZSA9PT0gOCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3Qgc2Nyb2xsRGV0YWlscyA9IGdldFNjcm9sbERldGFpbHMoXG4gICAgICBzY3JvbGxFbCxcbiAgICAgIGdldFZpcnR1YWxTY3JvbGxFbCgpLFxuICAgICAgYmVmb3JlUmVmLnZhbHVlLFxuICAgICAgYWZ0ZXJSZWYudmFsdWUsXG4gICAgICBwcm9wcy52aXJ0dWFsU2Nyb2xsSG9yaXpvbnRhbCxcbiAgICAgICRxLmxhbmcucnRsLFxuICAgICAgcHJvcHMudmlydHVhbFNjcm9sbFN0aWNreVNpemVTdGFydCxcbiAgICAgIHByb3BzLnZpcnR1YWxTY3JvbGxTdGlja3lTaXplRW5kXG4gICAgKVxuXG4gICAgbG9jYWxTY3JvbGxWaWV3U2l6ZSAhPT0gc2Nyb2xsRGV0YWlscy5zY3JvbGxWaWV3U2l6ZSAmJiBzZXRWaXJ0dWFsU2Nyb2xsU2l6ZShzY3JvbGxEZXRhaWxzLnNjcm9sbFZpZXdTaXplKVxuXG4gICAgc2V0VmlydHVhbFNjcm9sbFNsaWNlUmFuZ2UoXG4gICAgICBzY3JvbGxFbCxcbiAgICAgIHNjcm9sbERldGFpbHMsXG4gICAgICBNYXRoLm1pbih2aXJ0dWFsU2Nyb2xsTGVuZ3RoLnZhbHVlIC0gMSwgTWF0aC5tYXgoMCwgcGFyc2VJbnQodG9JbmRleCwgMTApIHx8IDApKSxcbiAgICAgIDAsXG4gICAgICBzY3JvbGxUb0VkZ2VzLmluZGV4T2YoZWRnZSkgPiAtMSA/IGVkZ2UgOiAocHJldlRvSW5kZXggPiAtMSAmJiB0b0luZGV4ID4gcHJldlRvSW5kZXggPyAnZW5kJyA6ICdzdGFydCcpXG4gICAgKVxuICB9XG5cbiAgZnVuY3Rpb24gbG9jYWxPblZpcnR1YWxTY3JvbGxFdnQgKCkge1xuICAgIGNvbnN0IHNjcm9sbEVsID0gZ2V0VmlydHVhbFNjcm9sbFRhcmdldCgpXG5cbiAgICBpZiAoc2Nyb2xsRWwgPT09IHZvaWQgMCB8fCBzY3JvbGxFbCA9PT0gbnVsbCB8fCBzY3JvbGxFbC5ub2RlVHlwZSA9PT0gOCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3RcbiAgICAgIHNjcm9sbERldGFpbHMgPSBnZXRTY3JvbGxEZXRhaWxzKFxuICAgICAgICBzY3JvbGxFbCxcbiAgICAgICAgZ2V0VmlydHVhbFNjcm9sbEVsKCksXG4gICAgICAgIGJlZm9yZVJlZi52YWx1ZSxcbiAgICAgICAgYWZ0ZXJSZWYudmFsdWUsXG4gICAgICAgIHByb3BzLnZpcnR1YWxTY3JvbGxIb3Jpem9udGFsLFxuICAgICAgICAkcS5sYW5nLnJ0bCxcbiAgICAgICAgcHJvcHMudmlydHVhbFNjcm9sbFN0aWNreVNpemVTdGFydCxcbiAgICAgICAgcHJvcHMudmlydHVhbFNjcm9sbFN0aWNreVNpemVFbmRcbiAgICAgICksXG4gICAgICBsaXN0TGFzdEluZGV4ID0gdmlydHVhbFNjcm9sbExlbmd0aC52YWx1ZSAtIDEsXG4gICAgICBsaXN0RW5kT2Zmc2V0ID0gc2Nyb2xsRGV0YWlscy5zY3JvbGxNYXhTaXplIC0gc2Nyb2xsRGV0YWlscy5vZmZzZXRTdGFydCAtIHNjcm9sbERldGFpbHMub2Zmc2V0RW5kIC0gdmlydHVhbFNjcm9sbFBhZGRpbmdBZnRlci52YWx1ZVxuXG4gICAgaWYgKHByZXZTY3JvbGxTdGFydCA9PT0gc2Nyb2xsRGV0YWlscy5zY3JvbGxTdGFydCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHNjcm9sbERldGFpbHMuc2Nyb2xsTWF4U2l6ZSA8PSAwKSB7XG4gICAgICBzZXRWaXJ0dWFsU2Nyb2xsU2xpY2VSYW5nZShzY3JvbGxFbCwgc2Nyb2xsRGV0YWlscywgMCwgMClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGxvY2FsU2Nyb2xsVmlld1NpemUgIT09IHNjcm9sbERldGFpbHMuc2Nyb2xsVmlld1NpemUgJiYgc2V0VmlydHVhbFNjcm9sbFNpemUoc2Nyb2xsRGV0YWlscy5zY3JvbGxWaWV3U2l6ZSlcblxuICAgIHVwZGF0ZVZpcnR1YWxTY3JvbGxTaXplcyh2aXJ0dWFsU2Nyb2xsU2xpY2VSYW5nZS52YWx1ZS5mcm9tKVxuXG4gICAgY29uc3Qgc2Nyb2xsTWF4U3RhcnQgPSBNYXRoLmZsb29yKHNjcm9sbERldGFpbHMuc2Nyb2xsTWF4U2l6ZVxuICAgICAgLSBNYXRoLm1heChzY3JvbGxEZXRhaWxzLnNjcm9sbFZpZXdTaXplLCBzY3JvbGxEZXRhaWxzLm9mZnNldEVuZClcbiAgICAgIC0gTWF0aC5taW4odmlydHVhbFNjcm9sbFNpemVzWyBsaXN0TGFzdEluZGV4IF0sIHNjcm9sbERldGFpbHMuc2Nyb2xsVmlld1NpemUgLyAyKSlcblxuICAgIGlmIChzY3JvbGxNYXhTdGFydCA+IDAgJiYgTWF0aC5jZWlsKHNjcm9sbERldGFpbHMuc2Nyb2xsU3RhcnQpID49IHNjcm9sbE1heFN0YXJ0KSB7XG4gICAgICBzZXRWaXJ0dWFsU2Nyb2xsU2xpY2VSYW5nZShcbiAgICAgICAgc2Nyb2xsRWwsXG4gICAgICAgIHNjcm9sbERldGFpbHMsXG4gICAgICAgIGxpc3RMYXN0SW5kZXgsXG4gICAgICAgIHNjcm9sbERldGFpbHMuc2Nyb2xsTWF4U2l6ZSAtIHNjcm9sbERldGFpbHMub2Zmc2V0RW5kIC0gdmlydHVhbFNjcm9sbFNpemVzQWdnLnJlZHVjZShzdW1GbiwgMClcbiAgICAgIClcblxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgbGV0XG4gICAgICB0b0luZGV4ID0gMCxcbiAgICAgIGxpc3RPZmZzZXQgPSBzY3JvbGxEZXRhaWxzLnNjcm9sbFN0YXJ0IC0gc2Nyb2xsRGV0YWlscy5vZmZzZXRTdGFydCxcbiAgICAgIG9mZnNldCA9IGxpc3RPZmZzZXRcblxuICAgIGlmIChsaXN0T2Zmc2V0IDw9IGxpc3RFbmRPZmZzZXQgJiYgbGlzdE9mZnNldCArIHNjcm9sbERldGFpbHMuc2Nyb2xsVmlld1NpemUgPj0gdmlydHVhbFNjcm9sbFBhZGRpbmdCZWZvcmUudmFsdWUpIHtcbiAgICAgIGxpc3RPZmZzZXQgLT0gdmlydHVhbFNjcm9sbFBhZGRpbmdCZWZvcmUudmFsdWVcbiAgICAgIHRvSW5kZXggPSB2aXJ0dWFsU2Nyb2xsU2xpY2VSYW5nZS52YWx1ZS5mcm9tXG4gICAgICBvZmZzZXQgPSBsaXN0T2Zmc2V0XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGxpc3RPZmZzZXQgPj0gdmlydHVhbFNjcm9sbFNpemVzQWdnWyBqIF0gJiYgdG9JbmRleCA8IGxpc3RMYXN0SW5kZXg7IGorKykge1xuICAgICAgICBsaXN0T2Zmc2V0IC09IHZpcnR1YWxTY3JvbGxTaXplc0FnZ1sgaiBdXG4gICAgICAgIHRvSW5kZXggKz0gYWdnQnVja2V0U2l6ZVxuICAgICAgfVxuICAgIH1cblxuICAgIHdoaWxlIChsaXN0T2Zmc2V0ID4gMCAmJiB0b0luZGV4IDwgbGlzdExhc3RJbmRleCkge1xuICAgICAgbGlzdE9mZnNldCAtPSB2aXJ0dWFsU2Nyb2xsU2l6ZXNbIHRvSW5kZXggXVxuICAgICAgaWYgKGxpc3RPZmZzZXQgPiAtc2Nyb2xsRGV0YWlscy5zY3JvbGxWaWV3U2l6ZSkge1xuICAgICAgICB0b0luZGV4KytcbiAgICAgICAgb2Zmc2V0ID0gbGlzdE9mZnNldFxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG9mZnNldCA9IHZpcnR1YWxTY3JvbGxTaXplc1sgdG9JbmRleCBdICsgbGlzdE9mZnNldFxuICAgICAgfVxuICAgIH1cblxuICAgIHNldFZpcnR1YWxTY3JvbGxTbGljZVJhbmdlKFxuICAgICAgc2Nyb2xsRWwsXG4gICAgICBzY3JvbGxEZXRhaWxzLFxuICAgICAgdG9JbmRleCxcbiAgICAgIG9mZnNldFxuICAgIClcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFZpcnR1YWxTY3JvbGxTbGljZVJhbmdlIChzY3JvbGxFbCwgc2Nyb2xsRGV0YWlscywgdG9JbmRleCwgb2Zmc2V0LCBhbGlnbikge1xuICAgIGNvbnN0IGFsaWduRm9yY2UgPSB0eXBlb2YgYWxpZ24gPT09ICdzdHJpbmcnICYmIGFsaWduLmluZGV4T2YoJy1mb3JjZScpID4gLTFcbiAgICBjb25zdCBhbGlnbkVuZCA9IGFsaWduRm9yY2UgPT09IHRydWUgPyBhbGlnbi5yZXBsYWNlKCctZm9yY2UnLCAnJykgOiBhbGlnblxuICAgIGNvbnN0IGFsaWduUmFuZ2UgPSBhbGlnbkVuZCAhPT0gdm9pZCAwID8gYWxpZ25FbmQgOiAnc3RhcnQnXG5cbiAgICBsZXRcbiAgICAgIGZyb20gPSBNYXRoLm1heCgwLCB0b0luZGV4IC0gdmlydHVhbFNjcm9sbFNsaWNlU2l6ZUNvbXB1dGVkLnZhbHVlWyBhbGlnblJhbmdlIF0pLFxuICAgICAgdG8gPSBmcm9tICsgdmlydHVhbFNjcm9sbFNsaWNlU2l6ZUNvbXB1dGVkLnZhbHVlLnRvdGFsXG5cbiAgICBpZiAodG8gPiB2aXJ0dWFsU2Nyb2xsTGVuZ3RoLnZhbHVlKSB7XG4gICAgICB0byA9IHZpcnR1YWxTY3JvbGxMZW5ndGgudmFsdWVcbiAgICAgIGZyb20gPSBNYXRoLm1heCgwLCB0byAtIHZpcnR1YWxTY3JvbGxTbGljZVNpemVDb21wdXRlZC52YWx1ZS50b3RhbClcbiAgICB9XG5cbiAgICBwcmV2U2Nyb2xsU3RhcnQgPSBzY3JvbGxEZXRhaWxzLnNjcm9sbFN0YXJ0XG5cbiAgICBjb25zdCByYW5nZUNoYW5nZWQgPSBmcm9tICE9PSB2aXJ0dWFsU2Nyb2xsU2xpY2VSYW5nZS52YWx1ZS5mcm9tIHx8IHRvICE9PSB2aXJ0dWFsU2Nyb2xsU2xpY2VSYW5nZS52YWx1ZS50b1xuXG4gICAgaWYgKHJhbmdlQ2hhbmdlZCA9PT0gZmFsc2UgJiYgYWxpZ25FbmQgPT09IHZvaWQgMCkge1xuICAgICAgZW1pdFNjcm9sbCh0b0luZGV4KVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgeyBhY3RpdmVFbGVtZW50IH0gPSBkb2N1bWVudFxuICAgIGNvbnN0IGNvbnRlbnRFbCA9IGNvbnRlbnRSZWYudmFsdWVcbiAgICBpZiAoXG4gICAgICByYW5nZUNoYW5nZWQgPT09IHRydWVcbiAgICAgICYmIGNvbnRlbnRFbCAhPT0gbnVsbFxuICAgICAgJiYgY29udGVudEVsICE9PSBhY3RpdmVFbGVtZW50XG4gICAgICAmJiBjb250ZW50RWwuY29udGFpbnMoYWN0aXZlRWxlbWVudCkgPT09IHRydWVcbiAgICApIHtcbiAgICAgIGNvbnRlbnRFbC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIG9uQmx1clJlZm9jdXNGbilcblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnRlbnRFbCAhPT0gdm9pZCAwICYmIGNvbnRlbnRFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIG9uQmx1clJlZm9jdXNGbilcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgc2V0T3ZlcmZsb3dBbmNob3IodnNJZCwgdG9JbmRleCAtIGZyb20gKyAxKVxuXG4gICAgY29uc3Qgc2l6ZUJlZm9yZSA9IGFsaWduRW5kICE9PSB2b2lkIDAgPyB2aXJ0dWFsU2Nyb2xsU2l6ZXMuc2xpY2UoZnJvbSwgdG9JbmRleCkucmVkdWNlKHN1bUZuLCAwKSA6IDBcblxuICAgIGlmIChyYW5nZUNoYW5nZWQgPT09IHRydWUpIHtcbiAgICAgIC8vIHZ1ZSBrZXkgbWF0Y2hpbmcgYWxnb3JpdGhtIHdvcmtzIG9ubHkgaWZcbiAgICAgIC8vIHRoZSBhcnJheSBvZiBWTm9kZXMgY2hhbmdlcyBvbiBvbmx5IG9uZSBvZiB0aGUgZW5kc1xuICAgICAgLy8gc28gd2UgZmlyc3QgY2hhbmdlIG9uZSBlbmQgYW5kIHRoZW4gdGhlIG90aGVyXG5cbiAgICAgIGNvbnN0IHRlbXBUbyA9IHRvID49IHZpcnR1YWxTY3JvbGxTbGljZVJhbmdlLnZhbHVlLmZyb20gJiYgZnJvbSA8PSB2aXJ0dWFsU2Nyb2xsU2xpY2VSYW5nZS52YWx1ZS50b1xuICAgICAgICA/IHZpcnR1YWxTY3JvbGxTbGljZVJhbmdlLnZhbHVlLnRvXG4gICAgICAgIDogdG9cblxuICAgICAgdmlydHVhbFNjcm9sbFNsaWNlUmFuZ2UudmFsdWUgPSB7IGZyb20sIHRvOiB0ZW1wVG8gfVxuICAgICAgdmlydHVhbFNjcm9sbFBhZGRpbmdCZWZvcmUudmFsdWUgPSBzdW1TaXplKHZpcnR1YWxTY3JvbGxTaXplc0FnZywgdmlydHVhbFNjcm9sbFNpemVzLCAwLCBmcm9tKVxuICAgICAgdmlydHVhbFNjcm9sbFBhZGRpbmdBZnRlci52YWx1ZSA9IHN1bVNpemUodmlydHVhbFNjcm9sbFNpemVzQWdnLCB2aXJ0dWFsU2Nyb2xsU2l6ZXMsIHRvLCB2aXJ0dWFsU2Nyb2xsTGVuZ3RoLnZhbHVlKVxuXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICBpZiAodmlydHVhbFNjcm9sbFNsaWNlUmFuZ2UudmFsdWUudG8gIT09IHRvICYmIHByZXZTY3JvbGxTdGFydCA9PT0gc2Nyb2xsRGV0YWlscy5zY3JvbGxTdGFydCkge1xuICAgICAgICAgIHZpcnR1YWxTY3JvbGxTbGljZVJhbmdlLnZhbHVlID0geyBmcm9tOiB2aXJ0dWFsU2Nyb2xsU2xpY2VSYW5nZS52YWx1ZS5mcm9tLCB0byB9XG4gICAgICAgICAgdmlydHVhbFNjcm9sbFBhZGRpbmdBZnRlci52YWx1ZSA9IHN1bVNpemUodmlydHVhbFNjcm9sbFNpemVzQWdnLCB2aXJ0dWFsU2Nyb2xsU2l6ZXMsIHRvLCB2aXJ0dWFsU2Nyb2xsTGVuZ3RoLnZhbHVlKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cblxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAvLyBpZiB0aGUgc2Nyb2xsIHdhcyBjaGFuZ2VkIGdpdmUgdXBcbiAgICAgIC8vIChhbm90aGVyIGNhbGwgdG8gc2V0VmlydHVhbFNjcm9sbFNsaWNlUmFuZ2UgYmVmb3JlIGFuaW1hdGlvbiBmcmFtZSlcbiAgICAgIGlmIChwcmV2U2Nyb2xsU3RhcnQgIT09IHNjcm9sbERldGFpbHMuc2Nyb2xsU3RhcnQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGlmIChyYW5nZUNoYW5nZWQgPT09IHRydWUpIHtcbiAgICAgICAgdXBkYXRlVmlydHVhbFNjcm9sbFNpemVzKGZyb20pXG4gICAgICB9XG5cbiAgICAgIGNvbnN0XG4gICAgICAgIHNpemVBZnRlciA9IHZpcnR1YWxTY3JvbGxTaXplcy5zbGljZShmcm9tLCB0b0luZGV4KS5yZWR1Y2Uoc3VtRm4sIDApLFxuICAgICAgICBwb3NTdGFydCA9IHNpemVBZnRlciArIHNjcm9sbERldGFpbHMub2Zmc2V0U3RhcnQgKyB2aXJ0dWFsU2Nyb2xsUGFkZGluZ0JlZm9yZS52YWx1ZSxcbiAgICAgICAgcG9zRW5kID0gcG9zU3RhcnQgKyB2aXJ0dWFsU2Nyb2xsU2l6ZXNbIHRvSW5kZXggXVxuXG4gICAgICBsZXQgc2Nyb2xsUG9zaXRpb24gPSBwb3NTdGFydCArIG9mZnNldFxuXG4gICAgICBpZiAoYWxpZ25FbmQgIT09IHZvaWQgMCkge1xuICAgICAgICBjb25zdCBzaXplRGlmZiA9IHNpemVBZnRlciAtIHNpemVCZWZvcmVcbiAgICAgICAgY29uc3Qgc2Nyb2xsU3RhcnQgPSBzY3JvbGxEZXRhaWxzLnNjcm9sbFN0YXJ0ICsgc2l6ZURpZmZcblxuICAgICAgICBzY3JvbGxQb3NpdGlvbiA9IGFsaWduRm9yY2UgIT09IHRydWUgJiYgc2Nyb2xsU3RhcnQgPCBwb3NTdGFydCAmJiBwb3NFbmQgPCBzY3JvbGxTdGFydCArIHNjcm9sbERldGFpbHMuc2Nyb2xsVmlld1NpemVcbiAgICAgICAgICA/IHNjcm9sbFN0YXJ0XG4gICAgICAgICAgOiAoXG4gICAgICAgICAgICAgIGFsaWduRW5kID09PSAnZW5kJ1xuICAgICAgICAgICAgICAgID8gcG9zRW5kIC0gc2Nyb2xsRGV0YWlscy5zY3JvbGxWaWV3U2l6ZVxuICAgICAgICAgICAgICAgIDogcG9zU3RhcnQgLSAoYWxpZ25FbmQgPT09ICdzdGFydCcgPyAwIDogTWF0aC5yb3VuZCgoc2Nyb2xsRGV0YWlscy5zY3JvbGxWaWV3U2l6ZSAtIHZpcnR1YWxTY3JvbGxTaXplc1sgdG9JbmRleCBdKSAvIDIpKVxuICAgICAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICBwcmV2U2Nyb2xsU3RhcnQgPSBzY3JvbGxQb3NpdGlvblxuXG4gICAgICBzZXRTY3JvbGwoXG4gICAgICAgIHNjcm9sbEVsLFxuICAgICAgICBzY3JvbGxQb3NpdGlvbixcbiAgICAgICAgcHJvcHMudmlydHVhbFNjcm9sbEhvcml6b250YWwsXG4gICAgICAgICRxLmxhbmcucnRsXG4gICAgICApXG5cbiAgICAgIGVtaXRTY3JvbGwodG9JbmRleClcbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlVmlydHVhbFNjcm9sbFNpemVzIChmcm9tKSB7XG4gICAgY29uc3QgY29udGVudEVsID0gY29udGVudFJlZi52YWx1ZVxuXG4gICAgaWYgKGNvbnRlbnRFbCkge1xuICAgICAgY29uc3RcbiAgICAgICAgY2hpbGRyZW4gPSBmaWx0ZXJQcm90by5jYWxsKFxuICAgICAgICAgIGNvbnRlbnRFbC5jaGlsZHJlbixcbiAgICAgICAgICBlbCA9PiBlbC5jbGFzc0xpc3QgJiYgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdxLXZpcnR1YWwtc2Nyb2xsLS1za2lwJykgPT09IGZhbHNlXG4gICAgICAgICksXG4gICAgICAgIGNoaWxkcmVuTGVuZ3RoID0gY2hpbGRyZW4ubGVuZ3RoLFxuICAgICAgICBzaXplRm4gPSBwcm9wcy52aXJ0dWFsU2Nyb2xsSG9yaXpvbnRhbCA9PT0gdHJ1ZVxuICAgICAgICAgID8gZWwgPT4gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGhcbiAgICAgICAgICA6IGVsID0+IGVsLm9mZnNldEhlaWdodFxuXG4gICAgICBsZXRcbiAgICAgICAgaW5kZXggPSBmcm9tLFxuICAgICAgICBzaXplLCBkaWZmXG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7KSB7XG4gICAgICAgIHNpemUgPSBzaXplRm4oY2hpbGRyZW5bIGkgXSlcbiAgICAgICAgaSsrXG5cbiAgICAgICAgd2hpbGUgKGkgPCBjaGlsZHJlbkxlbmd0aCAmJiBjaGlsZHJlblsgaSBdLmNsYXNzTGlzdC5jb250YWlucygncS12aXJ0dWFsLXNjcm9sbC0td2l0aC1wcmV2JykgPT09IHRydWUpIHtcbiAgICAgICAgICBzaXplICs9IHNpemVGbihjaGlsZHJlblsgaSBdKVxuICAgICAgICAgIGkrK1xuICAgICAgICB9XG5cbiAgICAgICAgZGlmZiA9IHNpemUgLSB2aXJ0dWFsU2Nyb2xsU2l6ZXNbIGluZGV4IF1cblxuICAgICAgICBpZiAoZGlmZiAhPT0gMCkge1xuICAgICAgICAgIHZpcnR1YWxTY3JvbGxTaXplc1sgaW5kZXggXSArPSBkaWZmXG4gICAgICAgICAgdmlydHVhbFNjcm9sbFNpemVzQWdnWyBNYXRoLmZsb29yKGluZGV4IC8gYWdnQnVja2V0U2l6ZSkgXSArPSBkaWZmXG4gICAgICAgIH1cblxuICAgICAgICBpbmRleCsrXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25CbHVyUmVmb2N1c0ZuICgpIHtcbiAgICBjb250ZW50UmVmLnZhbHVlICE9PSB2b2lkIDAgJiYgY29udGVudFJlZi52YWx1ZS5mb2N1cygpXG4gIH1cblxuICBmdW5jdGlvbiBsb2NhbFJlc2V0VmlydHVhbFNjcm9sbCAodG9JbmRleCwgZnVsbFJlc2V0KSB7XG4gICAgY29uc3QgZGVmYXVsdFNpemUgPSAxICogdmlydHVhbFNjcm9sbEl0ZW1TaXplQ29tcHV0ZWQudmFsdWVcblxuICAgIGlmIChmdWxsUmVzZXQgPT09IHRydWUgfHwgQXJyYXkuaXNBcnJheSh2aXJ0dWFsU2Nyb2xsU2l6ZXMpID09PSBmYWxzZSkge1xuICAgICAgdmlydHVhbFNjcm9sbFNpemVzID0gW11cbiAgICB9XG5cbiAgICBjb25zdCBvbGRWaXJ0dWFsU2Nyb2xsU2l6ZXNMZW5ndGggPSB2aXJ0dWFsU2Nyb2xsU2l6ZXMubGVuZ3RoXG5cbiAgICB2aXJ0dWFsU2Nyb2xsU2l6ZXMubGVuZ3RoID0gdmlydHVhbFNjcm9sbExlbmd0aC52YWx1ZVxuXG4gICAgZm9yIChsZXQgaSA9IHZpcnR1YWxTY3JvbGxMZW5ndGgudmFsdWUgLSAxOyBpID49IG9sZFZpcnR1YWxTY3JvbGxTaXplc0xlbmd0aDsgaS0tKSB7XG4gICAgICB2aXJ0dWFsU2Nyb2xsU2l6ZXNbIGkgXSA9IGRlZmF1bHRTaXplXG4gICAgfVxuXG4gICAgY29uc3Qgak1heCA9IE1hdGguZmxvb3IoKHZpcnR1YWxTY3JvbGxMZW5ndGgudmFsdWUgLSAxKSAvIGFnZ0J1Y2tldFNpemUpXG4gICAgdmlydHVhbFNjcm9sbFNpemVzQWdnID0gW11cbiAgICBmb3IgKGxldCBqID0gMDsgaiA8PSBqTWF4OyBqKyspIHtcbiAgICAgIGxldCBzaXplID0gMFxuICAgICAgY29uc3QgaU1heCA9IE1hdGgubWluKChqICsgMSkgKiBhZ2dCdWNrZXRTaXplLCB2aXJ0dWFsU2Nyb2xsTGVuZ3RoLnZhbHVlKVxuICAgICAgZm9yIChsZXQgaSA9IGogKiBhZ2dCdWNrZXRTaXplOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgIHNpemUgKz0gdmlydHVhbFNjcm9sbFNpemVzWyBpIF1cbiAgICAgIH1cbiAgICAgIHZpcnR1YWxTY3JvbGxTaXplc0FnZy5wdXNoKHNpemUpXG4gICAgfVxuXG4gICAgcHJldlRvSW5kZXggPSAtMVxuICAgIHByZXZTY3JvbGxTdGFydCA9IHZvaWQgMFxuXG4gICAgdmlydHVhbFNjcm9sbFBhZGRpbmdCZWZvcmUudmFsdWUgPSBzdW1TaXplKHZpcnR1YWxTY3JvbGxTaXplc0FnZywgdmlydHVhbFNjcm9sbFNpemVzLCAwLCB2aXJ0dWFsU2Nyb2xsU2xpY2VSYW5nZS52YWx1ZS5mcm9tKVxuICAgIHZpcnR1YWxTY3JvbGxQYWRkaW5nQWZ0ZXIudmFsdWUgPSBzdW1TaXplKHZpcnR1YWxTY3JvbGxTaXplc0FnZywgdmlydHVhbFNjcm9sbFNpemVzLCB2aXJ0dWFsU2Nyb2xsU2xpY2VSYW5nZS52YWx1ZS50bywgdmlydHVhbFNjcm9sbExlbmd0aC52YWx1ZSlcblxuICAgIGlmICh0b0luZGV4ID49IDApIHtcbiAgICAgIHVwZGF0ZVZpcnR1YWxTY3JvbGxTaXplcyh2aXJ0dWFsU2Nyb2xsU2xpY2VSYW5nZS52YWx1ZS5mcm9tKVxuICAgICAgbmV4dFRpY2soKCkgPT4geyBzY3JvbGxUbyh0b0luZGV4KSB9KVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIG9uVmlydHVhbFNjcm9sbEV2dCgpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0VmlydHVhbFNjcm9sbFNpemUgKHNjcm9sbFZpZXdTaXplKSB7XG4gICAgaWYgKHNjcm9sbFZpZXdTaXplID09PSB2b2lkIDAgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IHNjcm9sbEVsID0gZ2V0VmlydHVhbFNjcm9sbFRhcmdldCgpXG5cbiAgICAgIGlmIChzY3JvbGxFbCAhPT0gdm9pZCAwICYmIHNjcm9sbEVsICE9PSBudWxsICYmIHNjcm9sbEVsLm5vZGVUeXBlICE9PSA4KSB7XG4gICAgICAgIHNjcm9sbFZpZXdTaXplID0gZ2V0U2Nyb2xsRGV0YWlscyhcbiAgICAgICAgICBzY3JvbGxFbCxcbiAgICAgICAgICBnZXRWaXJ0dWFsU2Nyb2xsRWwoKSxcbiAgICAgICAgICBiZWZvcmVSZWYudmFsdWUsXG4gICAgICAgICAgYWZ0ZXJSZWYudmFsdWUsXG4gICAgICAgICAgcHJvcHMudmlydHVhbFNjcm9sbEhvcml6b250YWwsXG4gICAgICAgICAgJHEubGFuZy5ydGwsXG4gICAgICAgICAgcHJvcHMudmlydHVhbFNjcm9sbFN0aWNreVNpemVTdGFydCxcbiAgICAgICAgICBwcm9wcy52aXJ0dWFsU2Nyb2xsU3RpY2t5U2l6ZUVuZFxuICAgICAgICApLnNjcm9sbFZpZXdTaXplXG4gICAgICB9XG4gICAgfVxuXG4gICAgbG9jYWxTY3JvbGxWaWV3U2l6ZSA9IHNjcm9sbFZpZXdTaXplXG5cbiAgICBjb25zdCB2aXJ0dWFsU2Nyb2xsU2xpY2VSYXRpb0JlZm9yZSA9IHBhcnNlRmxvYXQocHJvcHMudmlydHVhbFNjcm9sbFNsaWNlUmF0aW9CZWZvcmUpIHx8IDBcbiAgICBjb25zdCB2aXJ0dWFsU2Nyb2xsU2xpY2VSYXRpb0FmdGVyID0gcGFyc2VGbG9hdChwcm9wcy52aXJ0dWFsU2Nyb2xsU2xpY2VSYXRpb0FmdGVyKSB8fCAwXG4gICAgY29uc3QgbXVsdGlwbGllciA9IDEgKyB2aXJ0dWFsU2Nyb2xsU2xpY2VSYXRpb0JlZm9yZSArIHZpcnR1YWxTY3JvbGxTbGljZVJhdGlvQWZ0ZXJcbiAgICBjb25zdCB2aWV3ID0gc2Nyb2xsVmlld1NpemUgPT09IHZvaWQgMCB8fCBzY3JvbGxWaWV3U2l6ZSA8PSAwXG4gICAgICA/IDFcbiAgICAgIDogTWF0aC5jZWlsKHNjcm9sbFZpZXdTaXplIC8gdmlydHVhbFNjcm9sbEl0ZW1TaXplQ29tcHV0ZWQudmFsdWUpXG5cbiAgICBjb25zdCBiYXNlU2l6ZSA9IE1hdGgubWF4KFxuICAgICAgMSxcbiAgICAgIHZpZXcsXG4gICAgICBNYXRoLmNlaWwoKHByb3BzLnZpcnR1YWxTY3JvbGxTbGljZVNpemUgPiAwID8gcHJvcHMudmlydHVhbFNjcm9sbFNsaWNlU2l6ZSA6IDEwKSAvIG11bHRpcGxpZXIpXG4gICAgKVxuXG4gICAgdmlydHVhbFNjcm9sbFNsaWNlU2l6ZUNvbXB1dGVkLnZhbHVlID0ge1xuICAgICAgdG90YWw6IE1hdGguY2VpbChiYXNlU2l6ZSAqIG11bHRpcGxpZXIpLFxuICAgICAgc3RhcnQ6IE1hdGguY2VpbChiYXNlU2l6ZSAqIHZpcnR1YWxTY3JvbGxTbGljZVJhdGlvQmVmb3JlKSxcbiAgICAgIGNlbnRlcjogTWF0aC5jZWlsKGJhc2VTaXplICogKDAuNSArIHZpcnR1YWxTY3JvbGxTbGljZVJhdGlvQmVmb3JlKSksXG4gICAgICBlbmQ6IE1hdGguY2VpbChiYXNlU2l6ZSAqICgxICsgdmlydHVhbFNjcm9sbFNsaWNlUmF0aW9CZWZvcmUpKSxcbiAgICAgIHZpZXdcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYWRWaXJ0dWFsU2Nyb2xsICh0YWcsIGNvbnRlbnQpIHtcbiAgICBjb25zdCBwYWRkaW5nU2l6ZSA9IHByb3BzLnZpcnR1YWxTY3JvbGxIb3Jpem9udGFsID09PSB0cnVlID8gJ3dpZHRoJyA6ICdoZWlnaHQnXG4gICAgY29uc3Qgc3R5bGUgPSB7XG4gICAgICBbICctLXEtdmlydHVhbC1zY3JvbGwtaXRlbS0nICsgcGFkZGluZ1NpemUgXTogdmlydHVhbFNjcm9sbEl0ZW1TaXplQ29tcHV0ZWQudmFsdWUgKyAncHgnXG4gICAgfVxuXG4gICAgcmV0dXJuIFtcbiAgICAgIHRhZyA9PT0gJ3Rib2R5J1xuICAgICAgICA/IGgodGFnLCB7XG4gICAgICAgICAgY2xhc3M6ICdxLXZpcnR1YWwtc2Nyb2xsX19wYWRkaW5nJyxcbiAgICAgICAgICBrZXk6ICdiZWZvcmUnLFxuICAgICAgICAgIHJlZjogYmVmb3JlUmVmXG4gICAgICAgIH0sIFtcbiAgICAgICAgICBoKCd0cicsIFtcbiAgICAgICAgICAgIGgoJ3RkJywge1xuICAgICAgICAgICAgICBzdHlsZTogeyBbIHBhZGRpbmdTaXplIF06IGAkeyB2aXJ0dWFsU2Nyb2xsUGFkZGluZ0JlZm9yZS52YWx1ZSB9cHhgLCAuLi5zdHlsZSB9LFxuICAgICAgICAgICAgICBjb2xzcGFuOiBjb2xzcGFuQXR0ci52YWx1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICBdKVxuICAgICAgICBdKVxuICAgICAgICA6IGgodGFnLCB7XG4gICAgICAgICAgY2xhc3M6ICdxLXZpcnR1YWwtc2Nyb2xsX19wYWRkaW5nJyxcbiAgICAgICAgICBrZXk6ICdiZWZvcmUnLFxuICAgICAgICAgIHJlZjogYmVmb3JlUmVmLFxuICAgICAgICAgIHN0eWxlOiB7IFsgcGFkZGluZ1NpemUgXTogYCR7IHZpcnR1YWxTY3JvbGxQYWRkaW5nQmVmb3JlLnZhbHVlIH1weGAsIC4uLnN0eWxlIH1cbiAgICAgICAgfSksXG5cbiAgICAgIGgodGFnLCB7XG4gICAgICAgIGNsYXNzOiAncS12aXJ0dWFsLXNjcm9sbF9fY29udGVudCcsXG4gICAgICAgIGtleTogJ2NvbnRlbnQnLFxuICAgICAgICByZWY6IGNvbnRlbnRSZWYsXG4gICAgICAgIGlkOiB2c0lkLFxuICAgICAgICB0YWJpbmRleDogLTFcbiAgICAgIH0sIGNvbnRlbnQuZmxhdCgpKSxcblxuICAgICAgdGFnID09PSAndGJvZHknXG4gICAgICAgID8gaCh0YWcsIHtcbiAgICAgICAgICBjbGFzczogJ3EtdmlydHVhbC1zY3JvbGxfX3BhZGRpbmcnLFxuICAgICAgICAgIGtleTogJ2FmdGVyJyxcbiAgICAgICAgICByZWY6IGFmdGVyUmVmXG4gICAgICAgIH0sIFtcbiAgICAgICAgICBoKCd0cicsIFtcbiAgICAgICAgICAgIGgoJ3RkJywge1xuICAgICAgICAgICAgICBzdHlsZTogeyBbIHBhZGRpbmdTaXplIF06IGAkeyB2aXJ0dWFsU2Nyb2xsUGFkZGluZ0FmdGVyLnZhbHVlIH1weGAsIC4uLnN0eWxlIH0sXG4gICAgICAgICAgICAgIGNvbHNwYW46IGNvbHNwYW5BdHRyLnZhbHVlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIF0pXG4gICAgICAgIF0pXG4gICAgICAgIDogaCh0YWcsIHtcbiAgICAgICAgICBjbGFzczogJ3EtdmlydHVhbC1zY3JvbGxfX3BhZGRpbmcnLFxuICAgICAgICAgIGtleTogJ2FmdGVyJyxcbiAgICAgICAgICByZWY6IGFmdGVyUmVmLFxuICAgICAgICAgIHN0eWxlOiB7IFsgcGFkZGluZ1NpemUgXTogYCR7IHZpcnR1YWxTY3JvbGxQYWRkaW5nQWZ0ZXIudmFsdWUgfXB4YCwgLi4uc3R5bGUgfVxuICAgICAgICB9KVxuICAgIF1cbiAgfVxuXG4gIGZ1bmN0aW9uIGVtaXRTY3JvbGwgKGluZGV4KSB7XG4gICAgaWYgKHByZXZUb0luZGV4ICE9PSBpbmRleCkge1xuICAgICAgcHJvcHMub25WaXJ0dWFsU2Nyb2xsICE9PSB2b2lkIDAgJiYgZW1pdCgndmlydHVhbC1zY3JvbGwnLCB7XG4gICAgICAgIGluZGV4LFxuICAgICAgICBmcm9tOiB2aXJ0dWFsU2Nyb2xsU2xpY2VSYW5nZS52YWx1ZS5mcm9tLFxuICAgICAgICB0bzogdmlydHVhbFNjcm9sbFNsaWNlUmFuZ2UudmFsdWUudG8gLSAxLFxuICAgICAgICBkaXJlY3Rpb246IGluZGV4IDwgcHJldlRvSW5kZXggPyAnZGVjcmVhc2UnIDogJ2luY3JlYXNlJyxcbiAgICAgICAgcmVmOiBwcm94eVxuICAgICAgfSlcblxuICAgICAgcHJldlRvSW5kZXggPSBpbmRleFxuICAgIH1cbiAgfVxuXG4gIHNldFZpcnR1YWxTY3JvbGxTaXplKClcbiAgY29uc3Qgb25WaXJ0dWFsU2Nyb2xsRXZ0ID0gZGVib3VuY2UoXG4gICAgbG9jYWxPblZpcnR1YWxTY3JvbGxFdnQsXG4gICAgJHEucGxhdGZvcm0uaXMuaW9zID09PSB0cnVlID8gMTIwIDogMzVcbiAgKVxuXG4gIG9uQmVmb3JlTW91bnQoKCkgPT4ge1xuICAgIHNldFZpcnR1YWxTY3JvbGxTaXplKClcbiAgfSlcblxuICBsZXQgc2hvdWxkQWN0aXZhdGUgPSBmYWxzZVxuXG4gIG9uRGVhY3RpdmF0ZWQoKCkgPT4ge1xuICAgIHNob3VsZEFjdGl2YXRlID0gdHJ1ZVxuICB9KVxuXG4gIG9uQWN0aXZhdGVkKCgpID0+IHtcbiAgICBpZiAoc2hvdWxkQWN0aXZhdGUgIT09IHRydWUpIHsgcmV0dXJuIH1cblxuICAgIGNvbnN0IHNjcm9sbEVsID0gZ2V0VmlydHVhbFNjcm9sbFRhcmdldCgpXG5cbiAgICBpZiAocHJldlNjcm9sbFN0YXJ0ICE9PSB2b2lkIDAgJiYgc2Nyb2xsRWwgIT09IHZvaWQgMCAmJiBzY3JvbGxFbCAhPT0gbnVsbCAmJiBzY3JvbGxFbC5ub2RlVHlwZSAhPT0gOCkge1xuICAgICAgc2V0U2Nyb2xsKFxuICAgICAgICBzY3JvbGxFbCxcbiAgICAgICAgcHJldlNjcm9sbFN0YXJ0LFxuICAgICAgICBwcm9wcy52aXJ0dWFsU2Nyb2xsSG9yaXpvbnRhbCxcbiAgICAgICAgJHEubGFuZy5ydGxcbiAgICAgIClcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzY3JvbGxUbyhwcmV2VG9JbmRleClcbiAgICB9XG4gIH0pXG5cbiAgc2V0T3ZlcmZsb3dBbmNob3IgIT09IG5vb3AgJiYgb25CZWZvcmVVbm1vdW50KCgpID0+IHtcbiAgICBjb25zdCBzdHlsZVNoZWV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodnNJZCArICdfc3MnKVxuICAgIHN0eWxlU2hlZXQgIT09IG51bGwgJiYgc3R5bGVTaGVldC5yZW1vdmUoKVxuICAgIG9uVmlydHVhbFNjcm9sbEV2dC5jYW5jZWwoKVxuICB9KVxuXG4gIC8vIGV4cG9zZSBwdWJsaWMgbWV0aG9kc1xuICBPYmplY3QuYXNzaWduKHByb3h5LCB7IHNjcm9sbFRvLCByZXNldCwgcmVmcmVzaCB9KVxuXG4gIHJldHVybiB7XG4gICAgdmlydHVhbFNjcm9sbFNsaWNlUmFuZ2UsXG4gICAgdmlydHVhbFNjcm9sbFNsaWNlU2l6ZUNvbXB1dGVkLFxuXG4gICAgc2V0VmlydHVhbFNjcm9sbFNpemUsXG4gICAgb25WaXJ0dWFsU2Nyb2xsRXZ0LFxuICAgIGxvY2FsUmVzZXRWaXJ0dWFsU2Nyb2xsLFxuICAgIHBhZFZpcnR1YWxTY3JvbGwsXG5cbiAgICBzY3JvbGxUbyxcbiAgICByZXNldCxcbiAgICByZWZyZXNoXG4gIH1cbn1cbiIsImltcG9ydCB1c2VGaWVsZCwgeyB1c2VGaWVsZFN0YXRlLCB1c2VGaWVsZFByb3BzLCB1c2VGaWVsZEVtaXRzIH0gZnJvbSAnLi4vLi4vY29tcG9zYWJsZXMvcHJpdmF0ZS91c2UtZmllbGQuanMnXG5cbmltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUvY3JlYXRlLmpzJ1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoe1xuICBuYW1lOiAnUUZpZWxkJyxcblxuICBpbmhlcml0QXR0cnM6IGZhbHNlLFxuXG4gIHByb3BzOiB1c2VGaWVsZFByb3BzLFxuXG4gIGVtaXRzOiB1c2VGaWVsZEVtaXRzLFxuXG4gIHNldHVwICgpIHtcbiAgICByZXR1cm4gdXNlRmllbGQodXNlRmllbGRTdGF0ZSgpKVxuICB9XG59KVxuIiwiaW1wb3J0IHsgaCwgY29tcHV0ZWQsIGdldEN1cnJlbnRJbnN0YW5jZSB9IGZyb20gJ3Z1ZSdcblxuaW1wb3J0IFFJY29uIGZyb20gJy4uL2ljb24vUUljb24uanMnXG5cbmltcG9ydCBSaXBwbGUgZnJvbSAnLi4vLi4vZGlyZWN0aXZlcy9SaXBwbGUuanMnXG5cbmltcG9ydCB1c2VEYXJrLCB7IHVzZURhcmtQcm9wcyB9IGZyb20gJy4uLy4uL2NvbXBvc2FibGVzL3ByaXZhdGUvdXNlLWRhcmsuanMnXG5pbXBvcnQgdXNlU2l6ZSwgeyB1c2VTaXplUHJvcHMgfSBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy9wcml2YXRlL3VzZS1zaXplLmpzJ1xuXG5pbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi8uLi91dGlscy9wcml2YXRlL2NyZWF0ZS5qcydcbmltcG9ydCB7IHN0b3BBbmRQcmV2ZW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvZXZlbnQuanMnXG5pbXBvcnQgeyBoTWVyZ2VTbG90U2FmZWx5LCBoRGlyIH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS9yZW5kZXIuanMnXG5cbmNvbnN0IGRlZmF1bHRTaXplcyA9IHtcbiAgeHM6IDgsXG4gIHNtOiAxMCxcbiAgbWQ6IDE0LFxuICBsZzogMjAsXG4gIHhsOiAyNFxufVxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoe1xuICBuYW1lOiAnUUNoaXAnLFxuXG4gIHByb3BzOiB7XG4gICAgLi4udXNlRGFya1Byb3BzLFxuICAgIC4uLnVzZVNpemVQcm9wcyxcblxuICAgIGRlbnNlOiBCb29sZWFuLFxuXG4gICAgaWNvbjogU3RyaW5nLFxuICAgIGljb25SaWdodDogU3RyaW5nLFxuICAgIGljb25SZW1vdmU6IFN0cmluZyxcbiAgICBpY29uU2VsZWN0ZWQ6IFN0cmluZyxcbiAgICBsYWJlbDogWyBTdHJpbmcsIE51bWJlciBdLFxuXG4gICAgY29sb3I6IFN0cmluZyxcbiAgICB0ZXh0Q29sb3I6IFN0cmluZyxcblxuICAgIG1vZGVsVmFsdWU6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICBzZWxlY3RlZDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICB9LFxuXG4gICAgc3F1YXJlOiBCb29sZWFuLFxuICAgIG91dGxpbmU6IEJvb2xlYW4sXG4gICAgY2xpY2thYmxlOiBCb29sZWFuLFxuICAgIHJlbW92YWJsZTogQm9vbGVhbixcblxuICAgIHRhYmluZGV4OiBbIFN0cmluZywgTnVtYmVyIF0sXG4gICAgZGlzYWJsZTogQm9vbGVhbixcblxuICAgIHJpcHBsZToge1xuICAgICAgdHlwZTogWyBCb29sZWFuLCBPYmplY3QgXSxcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9XG4gIH0sXG5cbiAgZW1pdHM6IFsgJ3VwZGF0ZTptb2RlbFZhbHVlJywgJ3VwZGF0ZTpzZWxlY3RlZCcsICdyZW1vdmUnLCAnY2xpY2snIF0sXG5cbiAgc2V0dXAgKHByb3BzLCB7IHNsb3RzLCBlbWl0IH0pIHtcbiAgICBjb25zdCB7IHByb3h5OiB7ICRxIH0gfSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpXG5cbiAgICBjb25zdCBpc0RhcmsgPSB1c2VEYXJrKHByb3BzLCAkcSlcbiAgICBjb25zdCBzaXplU3R5bGUgPSB1c2VTaXplKHByb3BzLCBkZWZhdWx0U2l6ZXMpXG5cbiAgICBjb25zdCBoYXNMZWZ0SWNvbiA9IGNvbXB1dGVkKCgpID0+IHByb3BzLnNlbGVjdGVkID09PSB0cnVlIHx8IHByb3BzLmljb24gIT09IHZvaWQgMClcblxuICAgIGNvbnN0IGxlZnRJY29uID0gY29tcHV0ZWQoKCkgPT4gKFxuICAgICAgcHJvcHMuc2VsZWN0ZWQgPT09IHRydWVcbiAgICAgICAgPyBwcm9wcy5pY29uU2VsZWN0ZWQgfHwgJHEuaWNvblNldC5jaGlwLnNlbGVjdGVkXG4gICAgICAgIDogcHJvcHMuaWNvblxuICAgICkpXG5cbiAgICBjb25zdCByZW1vdmVJY29uID0gY29tcHV0ZWQoKCkgPT4gcHJvcHMuaWNvblJlbW92ZSB8fCAkcS5pY29uU2V0LmNoaXAucmVtb3ZlKVxuXG4gICAgY29uc3QgaXNDbGlja2FibGUgPSBjb21wdXRlZCgoKSA9PlxuICAgICAgcHJvcHMuZGlzYWJsZSA9PT0gZmFsc2VcbiAgICAgICYmIChwcm9wcy5jbGlja2FibGUgPT09IHRydWUgfHwgcHJvcHMuc2VsZWN0ZWQgIT09IG51bGwpXG4gICAgKVxuXG4gICAgY29uc3QgY2xhc3NlcyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGNvbnN0IHRleHQgPSBwcm9wcy5vdXRsaW5lID09PSB0cnVlXG4gICAgICAgID8gcHJvcHMuY29sb3IgfHwgcHJvcHMudGV4dENvbG9yXG4gICAgICAgIDogcHJvcHMudGV4dENvbG9yXG5cbiAgICAgIHJldHVybiAncS1jaGlwIHJvdyBpbmxpbmUgbm8td3JhcCBpdGVtcy1jZW50ZXInXG4gICAgICAgICsgKHByb3BzLm91dGxpbmUgPT09IGZhbHNlICYmIHByb3BzLmNvbG9yICE9PSB2b2lkIDAgPyBgIGJnLSR7IHByb3BzLmNvbG9yIH1gIDogJycpXG4gICAgICAgICsgKHRleHQgPyBgIHRleHQtJHsgdGV4dCB9IHEtY2hpcC0tY29sb3JlZGAgOiAnJylcbiAgICAgICAgKyAocHJvcHMuZGlzYWJsZSA9PT0gdHJ1ZSA/ICcgZGlzYWJsZWQnIDogJycpXG4gICAgICAgICsgKHByb3BzLmRlbnNlID09PSB0cnVlID8gJyBxLWNoaXAtLWRlbnNlJyA6ICcnKVxuICAgICAgICArIChwcm9wcy5vdXRsaW5lID09PSB0cnVlID8gJyBxLWNoaXAtLW91dGxpbmUnIDogJycpXG4gICAgICAgICsgKHByb3BzLnNlbGVjdGVkID09PSB0cnVlID8gJyBxLWNoaXAtLXNlbGVjdGVkJyA6ICcnKVxuICAgICAgICArIChpc0NsaWNrYWJsZS52YWx1ZSA9PT0gdHJ1ZSA/ICcgcS1jaGlwLS1jbGlja2FibGUgY3Vyc29yLXBvaW50ZXIgbm9uLXNlbGVjdGFibGUgcS1ob3ZlcmFibGUnIDogJycpXG4gICAgICAgICsgKHByb3BzLnNxdWFyZSA9PT0gdHJ1ZSA/ICcgcS1jaGlwLS1zcXVhcmUnIDogJycpXG4gICAgICAgICsgKGlzRGFyay52YWx1ZSA9PT0gdHJ1ZSA/ICcgcS1jaGlwLS1kYXJrIHEtZGFyaycgOiAnJylcbiAgICB9KVxuXG4gICAgY29uc3QgYXR0cmlidXRlcyA9IGNvbXB1dGVkKCgpID0+IChcbiAgICAgIHByb3BzLmRpc2FibGUgPT09IHRydWVcbiAgICAgICAgPyB7IHRhYmluZGV4OiAtMSwgJ2FyaWEtZGlzYWJsZWQnOiAndHJ1ZScgfVxuICAgICAgICA6IHsgdGFiaW5kZXg6IHByb3BzLnRhYmluZGV4IHx8IDAgfVxuICAgICkpXG5cbiAgICBmdW5jdGlvbiBvbktleXVwIChlKSB7XG4gICAgICBlLmtleUNvZGUgPT09IDEzIC8qIEVOVEVSICovICYmIG9uQ2xpY2soZSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkNsaWNrIChlKSB7XG4gICAgICBpZiAoIXByb3BzLmRpc2FibGUpIHtcbiAgICAgICAgZW1pdCgndXBkYXRlOnNlbGVjdGVkJywgIXByb3BzLnNlbGVjdGVkKVxuICAgICAgICBlbWl0KCdjbGljaycsIGUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25SZW1vdmUgKGUpIHtcbiAgICAgIGlmIChlLmtleUNvZGUgPT09IHZvaWQgMCB8fCBlLmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgIHN0b3BBbmRQcmV2ZW50KGUpXG4gICAgICAgIGlmIChwcm9wcy5kaXNhYmxlID09PSBmYWxzZSkge1xuICAgICAgICAgIGVtaXQoJ3VwZGF0ZTptb2RlbFZhbHVlJywgZmFsc2UpXG4gICAgICAgICAgZW1pdCgncmVtb3ZlJylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldENvbnRlbnQgKCkge1xuICAgICAgY29uc3QgY2hpbGQgPSBbXVxuXG4gICAgICBpc0NsaWNrYWJsZS52YWx1ZSA9PT0gdHJ1ZSAmJiBjaGlsZC5wdXNoKFxuICAgICAgICBoKCdkaXYnLCB7IGNsYXNzOiAncS1mb2N1cy1oZWxwZXInIH0pXG4gICAgICApXG5cbiAgICAgIGhhc0xlZnRJY29uLnZhbHVlID09PSB0cnVlICYmIGNoaWxkLnB1c2goXG4gICAgICAgIGgoUUljb24sIHtcbiAgICAgICAgICBjbGFzczogJ3EtY2hpcF9faWNvbiBxLWNoaXBfX2ljb24tLWxlZnQnLFxuICAgICAgICAgIG5hbWU6IGxlZnRJY29uLnZhbHVlXG4gICAgICAgIH0pXG4gICAgICApXG5cbiAgICAgIGNvbnN0IGxhYmVsID0gcHJvcHMubGFiZWwgIT09IHZvaWQgMFxuICAgICAgICA/IFsgaCgnZGl2JywgeyBjbGFzczogJ2VsbGlwc2lzJyB9LCBbIHByb3BzLmxhYmVsIF0pIF1cbiAgICAgICAgOiB2b2lkIDBcblxuICAgICAgY2hpbGQucHVzaChcbiAgICAgICAgaCgnZGl2Jywge1xuICAgICAgICAgIGNsYXNzOiAncS1jaGlwX19jb250ZW50IGNvbCByb3cgbm8td3JhcCBpdGVtcy1jZW50ZXIgcS1hbmNob3ItLXNraXAnXG4gICAgICAgIH0sIGhNZXJnZVNsb3RTYWZlbHkoc2xvdHMuZGVmYXVsdCwgbGFiZWwpKVxuICAgICAgKVxuXG4gICAgICBwcm9wcy5pY29uUmlnaHQgJiYgY2hpbGQucHVzaChcbiAgICAgICAgaChRSWNvbiwge1xuICAgICAgICAgIGNsYXNzOiAncS1jaGlwX19pY29uIHEtY2hpcF9faWNvbi0tcmlnaHQnLFxuICAgICAgICAgIG5hbWU6IHByb3BzLmljb25SaWdodFxuICAgICAgICB9KVxuICAgICAgKVxuXG4gICAgICBwcm9wcy5yZW1vdmFibGUgPT09IHRydWUgJiYgY2hpbGQucHVzaChcbiAgICAgICAgaChRSWNvbiwge1xuICAgICAgICAgIGNsYXNzOiAncS1jaGlwX19pY29uIHEtY2hpcF9faWNvbi0tcmVtb3ZlIGN1cnNvci1wb2ludGVyJyxcbiAgICAgICAgICBuYW1lOiByZW1vdmVJY29uLnZhbHVlLFxuICAgICAgICAgIC4uLmF0dHJpYnV0ZXMudmFsdWUsXG4gICAgICAgICAgb25DbGljazogb25SZW1vdmUsXG4gICAgICAgICAgb25LZXl1cDogb25SZW1vdmVcbiAgICAgICAgfSlcbiAgICAgIClcblxuICAgICAgcmV0dXJuIGNoaWxkXG4gICAgfVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChwcm9wcy5tb2RlbFZhbHVlID09PSBmYWxzZSkgeyByZXR1cm4gfVxuXG4gICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICBjbGFzczogY2xhc3Nlcy52YWx1ZSxcbiAgICAgICAgc3R5bGU6IHNpemVTdHlsZS52YWx1ZVxuICAgICAgfVxuXG4gICAgICBpc0NsaWNrYWJsZS52YWx1ZSA9PT0gdHJ1ZSAmJiBPYmplY3QuYXNzaWduKFxuICAgICAgICBkYXRhLFxuICAgICAgICBhdHRyaWJ1dGVzLnZhbHVlLFxuICAgICAgICB7IG9uQ2xpY2ssIG9uS2V5dXAgfVxuICAgICAgKVxuXG4gICAgICByZXR1cm4gaERpcihcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIGRhdGEsXG4gICAgICAgIGdldENvbnRlbnQoKSxcbiAgICAgICAgJ3JpcHBsZScsXG4gICAgICAgIHByb3BzLnJpcHBsZSAhPT0gZmFsc2UgJiYgcHJvcHMuZGlzYWJsZSAhPT0gdHJ1ZSxcbiAgICAgICAgKCkgPT4gWyBbIFJpcHBsZSwgcHJvcHMucmlwcGxlIF0gXVxuICAgICAgKVxuICAgIH1cbiAgfVxufSlcbiIsImltcG9ydCB7IGgsIHJlZiwgY29tcHV0ZWQsIHdhdGNoLCBvbkJlZm9yZVVubW91bnQsIG5leHRUaWNrLCBUcmFuc2l0aW9uLCBnZXRDdXJyZW50SW5zdGFuY2UgfSBmcm9tICd2dWUnXG5cbmltcG9ydCB1c2VIaXN0b3J5IGZyb20gJy4uLy4uL2NvbXBvc2FibGVzL3ByaXZhdGUvdXNlLWhpc3RvcnkuanMnXG5pbXBvcnQgdXNlVGltZW91dCBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy9wcml2YXRlL3VzZS10aW1lb3V0LmpzJ1xuaW1wb3J0IHVzZVRpY2sgZnJvbSAnLi4vLi4vY29tcG9zYWJsZXMvcHJpdmF0ZS91c2UtdGljay5qcydcbmltcG9ydCB1c2VNb2RlbFRvZ2dsZSwgeyB1c2VNb2RlbFRvZ2dsZVByb3BzLCB1c2VNb2RlbFRvZ2dsZUVtaXRzIH0gZnJvbSAnLi4vLi4vY29tcG9zYWJsZXMvcHJpdmF0ZS91c2UtbW9kZWwtdG9nZ2xlLmpzJ1xuaW1wb3J0IHsgdXNlVHJhbnNpdGlvblByb3BzIH0gZnJvbSAnLi4vLi4vY29tcG9zYWJsZXMvcHJpdmF0ZS91c2UtdHJhbnNpdGlvbi5qcydcbmltcG9ydCB1c2VQb3J0YWwgZnJvbSAnLi4vLi4vY29tcG9zYWJsZXMvcHJpdmF0ZS91c2UtcG9ydGFsLmpzJ1xuaW1wb3J0IHVzZVByZXZlbnRTY3JvbGwgZnJvbSAnLi4vLi4vY29tcG9zYWJsZXMvcHJpdmF0ZS91c2UtcHJldmVudC1zY3JvbGwuanMnXG5cbmltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUvY3JlYXRlLmpzJ1xuaW1wb3J0IHsgY2hpbGRIYXNGb2N1cyB9IGZyb20gJy4uLy4uL3V0aWxzL2RvbS5qcydcbmltcG9ydCB7IGhTbG90IH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS9yZW5kZXIuanMnXG5pbXBvcnQgeyBhZGRFc2NhcGVLZXksIHJlbW92ZUVzY2FwZUtleSB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUvZXNjYXBlLWtleS5qcydcbmltcG9ydCB7IGFkZEZvY3Vzb3V0LCByZW1vdmVGb2N1c291dCB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUvZm9jdXNvdXQuanMnXG5pbXBvcnQgeyBhZGRGb2N1c0ZuIH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS9mb2N1cy1tYW5hZ2VyLmpzJ1xuXG5sZXQgbWF4aW1pemVkTW9kYWxzID0gMFxuXG5jb25zdCBwb3NpdGlvbkNsYXNzID0ge1xuICBzdGFuZGFyZDogJ2ZpeGVkLWZ1bGwgZmxleC1jZW50ZXInLFxuICB0b3A6ICdmaXhlZC10b3AganVzdGlmeS1jZW50ZXInLFxuICBib3R0b206ICdmaXhlZC1ib3R0b20ganVzdGlmeS1jZW50ZXInLFxuICByaWdodDogJ2ZpeGVkLXJpZ2h0IGl0ZW1zLWNlbnRlcicsXG4gIGxlZnQ6ICdmaXhlZC1sZWZ0IGl0ZW1zLWNlbnRlcidcbn1cblxuY29uc3QgdHJhbnNpdGlvbnMgPSB7XG4gIHN0YW5kYXJkOiBbICdzY2FsZScsICdzY2FsZScgXSxcbiAgdG9wOiBbICdzbGlkZS1kb3duJywgJ3NsaWRlLXVwJyBdLFxuICBib3R0b206IFsgJ3NsaWRlLXVwJywgJ3NsaWRlLWRvd24nIF0sXG4gIHJpZ2h0OiBbICdzbGlkZS1sZWZ0JywgJ3NsaWRlLXJpZ2h0JyBdLFxuICBsZWZ0OiBbICdzbGlkZS1yaWdodCcsICdzbGlkZS1sZWZ0JyBdXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCh7XG4gIG5hbWU6ICdRRGlhbG9nJyxcblxuICBpbmhlcml0QXR0cnM6IGZhbHNlLFxuXG4gIHByb3BzOiB7XG4gICAgLi4udXNlTW9kZWxUb2dnbGVQcm9wcyxcbiAgICAuLi51c2VUcmFuc2l0aW9uUHJvcHMsXG5cbiAgICB0cmFuc2l0aW9uU2hvdzogU3RyaW5nLFxuICAgIHRyYW5zaXRpb25IaWRlOiBTdHJpbmcsXG5cbiAgICBwZXJzaXN0ZW50OiBCb29sZWFuLFxuICAgIGF1dG9DbG9zZTogQm9vbGVhbixcblxuICAgIG5vRXNjRGlzbWlzczogQm9vbGVhbixcbiAgICBub0JhY2tkcm9wRGlzbWlzczogQm9vbGVhbixcbiAgICBub1JvdXRlRGlzbWlzczogQm9vbGVhbixcbiAgICBub1JlZm9jdXM6IEJvb2xlYW4sXG4gICAgbm9Gb2N1czogQm9vbGVhbixcbiAgICBub1NoYWtlOiBCb29sZWFuLFxuXG4gICAgc2VhbWxlc3M6IEJvb2xlYW4sXG5cbiAgICBtYXhpbWl6ZWQ6IEJvb2xlYW4sXG4gICAgZnVsbFdpZHRoOiBCb29sZWFuLFxuICAgIGZ1bGxIZWlnaHQ6IEJvb2xlYW4sXG5cbiAgICBzcXVhcmU6IEJvb2xlYW4sXG5cbiAgICBwb3NpdGlvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ3N0YW5kYXJkJyxcbiAgICAgIHZhbGlkYXRvcjogdmFsID0+IHZhbCA9PT0gJ3N0YW5kYXJkJ1xuICAgICAgICB8fCBbICd0b3AnLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnIF0uaW5jbHVkZXModmFsKVxuICAgIH1cbiAgfSxcblxuICBlbWl0czogW1xuICAgIC4uLnVzZU1vZGVsVG9nZ2xlRW1pdHMsXG4gICAgJ3NoYWtlJywgJ2NsaWNrJywgJ2VzY2FwZS1rZXknXG4gIF0sXG5cbiAgc2V0dXAgKHByb3BzLCB7IHNsb3RzLCBlbWl0LCBhdHRycyB9KSB7XG4gICAgY29uc3Qgdm0gPSBnZXRDdXJyZW50SW5zdGFuY2UoKVxuXG4gICAgY29uc3QgaW5uZXJSZWYgPSByZWYobnVsbClcbiAgICBjb25zdCBzaG93aW5nID0gcmVmKGZhbHNlKVxuICAgIGNvbnN0IHRyYW5zaXRpb25TdGF0ZSA9IHJlZihmYWxzZSlcbiAgICBjb25zdCBhbmltYXRpbmcgPSByZWYoZmFsc2UpXG5cbiAgICBsZXQgc2hha2VUaW1lb3V0LCByZWZvY3VzVGFyZ2V0ID0gbnVsbCwgaXNNYXhpbWl6ZWQsIGF2b2lkQXV0b0Nsb3NlXG5cbiAgICBjb25zdCBoaWRlT25Sb3V0ZUNoYW5nZSA9IGNvbXB1dGVkKCgpID0+XG4gICAgICBwcm9wcy5wZXJzaXN0ZW50ICE9PSB0cnVlXG4gICAgICAmJiBwcm9wcy5ub1JvdXRlRGlzbWlzcyAhPT0gdHJ1ZVxuICAgICAgJiYgcHJvcHMuc2VhbWxlc3MgIT09IHRydWVcbiAgICApXG5cbiAgICBjb25zdCB7IHByZXZlbnRCb2R5U2Nyb2xsIH0gPSB1c2VQcmV2ZW50U2Nyb2xsKClcbiAgICBjb25zdCB7IHJlZ2lzdGVyVGltZW91dCwgcmVtb3ZlVGltZW91dCB9ID0gdXNlVGltZW91dCgpXG4gICAgY29uc3QgeyByZWdpc3RlclRpY2ssIHJlbW92ZVRpY2sgfSA9IHVzZVRpY2soKVxuXG4gICAgY29uc3QgeyBzaG93UG9ydGFsLCBoaWRlUG9ydGFsLCBwb3J0YWxJc0FjdGl2ZSwgcmVuZGVyUG9ydGFsIH0gPSB1c2VQb3J0YWwoXG4gICAgICB2bSwgaW5uZXJSZWYsIHJlbmRlclBvcnRhbENvbnRlbnQsIC8qIHBscyBkbyBjaGVjayBpZiBvbiBhIGdsb2JhbCBkaWFsb2cgKi8gdHJ1ZVxuICAgIClcblxuICAgIGNvbnN0IHsgaGlkZSB9ID0gdXNlTW9kZWxUb2dnbGUoe1xuICAgICAgc2hvd2luZyxcbiAgICAgIGhpZGVPblJvdXRlQ2hhbmdlLFxuICAgICAgaGFuZGxlU2hvdyxcbiAgICAgIGhhbmRsZUhpZGUsXG4gICAgICBwcm9jZXNzT25Nb3VudDogdHJ1ZVxuICAgIH0pXG5cbiAgICBjb25zdCB7IGFkZFRvSGlzdG9yeSwgcmVtb3ZlRnJvbUhpc3RvcnkgfSA9IHVzZUhpc3Rvcnkoc2hvd2luZywgaGlkZSwgaGlkZU9uUm91dGVDaGFuZ2UpXG5cbiAgICBjb25zdCBjbGFzc2VzID0gY29tcHV0ZWQoKCkgPT5cbiAgICAgICdxLWRpYWxvZ19faW5uZXIgZmxleCBuby1wb2ludGVyLWV2ZW50cydcbiAgICAgICsgYCBxLWRpYWxvZ19faW5uZXItLSR7IHByb3BzLm1heGltaXplZCA9PT0gdHJ1ZSA/ICdtYXhpbWl6ZWQnIDogJ21pbmltaXplZCcgfWBcbiAgICAgICsgYCBxLWRpYWxvZ19faW5uZXItLSR7IHByb3BzLnBvc2l0aW9uIH0gJHsgcG9zaXRpb25DbGFzc1sgcHJvcHMucG9zaXRpb24gXSB9YFxuICAgICAgKyAoYW5pbWF0aW5nLnZhbHVlID09PSB0cnVlID8gJyBxLWRpYWxvZ19faW5uZXItLWFuaW1hdGluZycgOiAnJylcbiAgICAgICsgKHByb3BzLmZ1bGxXaWR0aCA9PT0gdHJ1ZSA/ICcgcS1kaWFsb2dfX2lubmVyLS1mdWxsd2lkdGgnIDogJycpXG4gICAgICArIChwcm9wcy5mdWxsSGVpZ2h0ID09PSB0cnVlID8gJyBxLWRpYWxvZ19faW5uZXItLWZ1bGxoZWlnaHQnIDogJycpXG4gICAgICArIChwcm9wcy5zcXVhcmUgPT09IHRydWUgPyAnIHEtZGlhbG9nX19pbm5lci0tc3F1YXJlJyA6ICcnKVxuICAgIClcblxuICAgIGNvbnN0IHRyYW5zaXRpb25TaG93ID0gY29tcHV0ZWQoKCkgPT5cbiAgICAgICdxLXRyYW5zaXRpb24tLSdcbiAgICAgICsgKHByb3BzLnRyYW5zaXRpb25TaG93ID09PSB2b2lkIDAgPyB0cmFuc2l0aW9uc1sgcHJvcHMucG9zaXRpb24gXVsgMCBdIDogcHJvcHMudHJhbnNpdGlvblNob3cpXG4gICAgKVxuXG4gICAgY29uc3QgdHJhbnNpdGlvbkhpZGUgPSBjb21wdXRlZCgoKSA9PlxuICAgICAgJ3EtdHJhbnNpdGlvbi0tJ1xuICAgICAgKyAocHJvcHMudHJhbnNpdGlvbkhpZGUgPT09IHZvaWQgMCA/IHRyYW5zaXRpb25zWyBwcm9wcy5wb3NpdGlvbiBdWyAxIF0gOiBwcm9wcy50cmFuc2l0aW9uSGlkZSlcbiAgICApXG5cbiAgICBjb25zdCB0cmFuc2l0aW9uID0gY29tcHV0ZWQoKCkgPT4gKFxuICAgICAgdHJhbnNpdGlvblN0YXRlLnZhbHVlID09PSB0cnVlXG4gICAgICAgID8gdHJhbnNpdGlvbkhpZGUudmFsdWVcbiAgICAgICAgOiB0cmFuc2l0aW9uU2hvdy52YWx1ZVxuICAgICkpXG5cbiAgICBjb25zdCB0cmFuc2l0aW9uU3R5bGUgPSBjb21wdXRlZChcbiAgICAgICgpID0+IGAtLXEtdHJhbnNpdGlvbi1kdXJhdGlvbjogJHsgcHJvcHMudHJhbnNpdGlvbkR1cmF0aW9uIH1tc2BcbiAgICApXG5cbiAgICBjb25zdCB1c2VCYWNrZHJvcCA9IGNvbXB1dGVkKCgpID0+IHNob3dpbmcudmFsdWUgPT09IHRydWUgJiYgcHJvcHMuc2VhbWxlc3MgIT09IHRydWUpXG5cbiAgICBjb25zdCBvbkV2ZW50cyA9IGNvbXB1dGVkKCgpID0+IChcbiAgICAgIHByb3BzLmF1dG9DbG9zZSA9PT0gdHJ1ZVxuICAgICAgICA/IHsgb25DbGljazogb25BdXRvQ2xvc2UgfVxuICAgICAgICA6IHt9XG4gICAgKSlcblxuICAgIGNvbnN0IHJvb3RDbGFzc2VzID0gY29tcHV0ZWQoKCkgPT4gW1xuICAgICAgJ3EtZGlhbG9nIGZ1bGxzY3JlZW4gbm8tcG9pbnRlci1ldmVudHMgJ1xuICAgICAgICArIGBxLWRpYWxvZy0tJHsgdXNlQmFja2Ryb3AudmFsdWUgPT09IHRydWUgPyAnbW9kYWwnIDogJ3NlYW1sZXNzJyB9YCxcbiAgICAgIGF0dHJzLmNsYXNzXG4gICAgXSlcblxuICAgIHdhdGNoKHNob3dpbmcsIHZhbCA9PiB7XG4gICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgIHRyYW5zaXRpb25TdGF0ZS52YWx1ZSA9IHZhbFxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgd2F0Y2goKCkgPT4gcHJvcHMubWF4aW1pemVkLCBzdGF0ZSA9PiB7XG4gICAgICBzaG93aW5nLnZhbHVlID09PSB0cnVlICYmIHVwZGF0ZU1heGltaXplZChzdGF0ZSlcbiAgICB9KVxuXG4gICAgd2F0Y2godXNlQmFja2Ryb3AsIHZhbCA9PiB7XG4gICAgICBwcmV2ZW50Qm9keVNjcm9sbCh2YWwpXG5cbiAgICAgIGlmICh2YWwgPT09IHRydWUpIHtcbiAgICAgICAgYWRkRm9jdXNvdXQob25Gb2N1c0NoYW5nZSlcbiAgICAgICAgYWRkRXNjYXBlS2V5KG9uRXNjYXBlS2V5KVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJlbW92ZUZvY3Vzb3V0KG9uRm9jdXNDaGFuZ2UpXG4gICAgICAgIHJlbW92ZUVzY2FwZUtleShvbkVzY2FwZUtleSlcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlU2hvdyAoZXZ0KSB7XG4gICAgICByZW1vdmVUaW1lb3V0KClcbiAgICAgIHJlbW92ZVRpY2soKVxuICAgICAgYWRkVG9IaXN0b3J5KClcblxuICAgICAgcmVmb2N1c1RhcmdldCA9IHByb3BzLm5vUmVmb2N1cyA9PT0gZmFsc2UgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gbnVsbFxuICAgICAgICA/IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnRcbiAgICAgICAgOiBudWxsXG5cbiAgICAgIHVwZGF0ZU1heGltaXplZChwcm9wcy5tYXhpbWl6ZWQpXG4gICAgICBzaG93UG9ydGFsKClcbiAgICAgIGFuaW1hdGluZy52YWx1ZSA9IHRydWVcblxuICAgICAgaWYgKHByb3BzLm5vRm9jdXMgIT09IHRydWUpIHtcbiAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gbnVsbCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKVxuICAgICAgICByZWdpc3RlclRpY2soZm9jdXMpXG4gICAgICB9XG5cbiAgICAgIHJlZ2lzdGVyVGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICh2bS5wcm94eS4kcS5wbGF0Zm9ybS5pcy5pb3MgPT09IHRydWUpIHtcbiAgICAgICAgICBpZiAocHJvcHMuc2VhbWxlc3MgIT09IHRydWUgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3RcbiAgICAgICAgICAgICAgeyB0b3AsIGJvdHRvbSB9ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICAgICAgeyBpbm5lckhlaWdodCB9ID0gd2luZG93LFxuICAgICAgICAgICAgICBoZWlnaHQgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQgIT09IHZvaWQgMFxuICAgICAgICAgICAgICAgID8gd2luZG93LnZpc3VhbFZpZXdwb3J0LmhlaWdodFxuICAgICAgICAgICAgICAgIDogaW5uZXJIZWlnaHRcblxuICAgICAgICAgICAgaWYgKHRvcCA+IDAgJiYgYm90dG9tID4gaGVpZ2h0IC8gMikge1xuICAgICAgICAgICAgICBkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50LnNjcm9sbFRvcCA9IE1hdGgubWluKFxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQuc2Nyb2xsSGVpZ2h0IC0gaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGJvdHRvbSA+PSBpbm5lckhlaWdodFxuICAgICAgICAgICAgICAgICAgPyBJbmZpbml0eVxuICAgICAgICAgICAgICAgICAgOiBNYXRoLmNlaWwoZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudC5zY3JvbGxUb3AgKyBib3R0b20gLSBoZWlnaHQgLyAyKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHJlcXVpcmVkIGluIG9yZGVyIHRvIGF2b2lkIHRoZSBcImRvdWJsZS10YXAgbmVlZGVkXCIgaXNzdWVcbiAgICAgICAgICBhdm9pZEF1dG9DbG9zZSA9IHRydWVcbiAgICAgICAgICBpbm5lclJlZi52YWx1ZS5jbGljaygpXG4gICAgICAgICAgYXZvaWRBdXRvQ2xvc2UgPSBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgc2hvd1BvcnRhbCh0cnVlKSAvLyBkb25lIHNob3dpbmcgcG9ydGFsXG4gICAgICAgIGFuaW1hdGluZy52YWx1ZSA9IGZhbHNlXG4gICAgICAgIGVtaXQoJ3Nob3cnLCBldnQpXG4gICAgICB9LCBwcm9wcy50cmFuc2l0aW9uRHVyYXRpb24pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlSGlkZSAoZXZ0KSB7XG4gICAgICByZW1vdmVUaW1lb3V0KClcbiAgICAgIHJlbW92ZVRpY2soKVxuICAgICAgcmVtb3ZlRnJvbUhpc3RvcnkoKVxuICAgICAgY2xlYW51cCh0cnVlKVxuICAgICAgYW5pbWF0aW5nLnZhbHVlID0gdHJ1ZVxuXG4gICAgICBpZiAocmVmb2N1c1RhcmdldCAhPT0gbnVsbCkge1xuICAgICAgICByZWZvY3VzVGFyZ2V0LmZvY3VzKClcbiAgICAgICAgcmVmb2N1c1RhcmdldCA9IG51bGxcbiAgICAgIH1cblxuICAgICAgcmVnaXN0ZXJUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaGlkZVBvcnRhbCgpXG4gICAgICAgIGFuaW1hdGluZy52YWx1ZSA9IGZhbHNlXG4gICAgICAgIGVtaXQoJ2hpZGUnLCBldnQpXG4gICAgICB9LCBwcm9wcy50cmFuc2l0aW9uRHVyYXRpb24pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZm9jdXMgKCkge1xuICAgICAgYWRkRm9jdXNGbigoKSA9PiB7XG4gICAgICAgIGxldCBub2RlID0gaW5uZXJSZWYudmFsdWVcblxuICAgICAgICBpZiAobm9kZSA9PT0gbnVsbCB8fCBub2RlLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpID09PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBub2RlID0gbm9kZS5xdWVyeVNlbGVjdG9yKCdbYXV0b2ZvY3VzXSwgW2RhdGEtYXV0b2ZvY3VzXScpIHx8IG5vZGVcbiAgICAgICAgbm9kZS5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSlcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2hha2UgKCkge1xuICAgICAgZm9jdXMoKVxuICAgICAgZW1pdCgnc2hha2UnKVxuXG4gICAgICBjb25zdCBub2RlID0gaW5uZXJSZWYudmFsdWVcblxuICAgICAgaWYgKG5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdxLWFuaW1hdGUtLXNjYWxlJylcbiAgICAgICAgbm9kZS5jbGFzc0xpc3QuYWRkKCdxLWFuaW1hdGUtLXNjYWxlJylcbiAgICAgICAgY2xlYXJUaW1lb3V0KHNoYWtlVGltZW91dClcbiAgICAgICAgc2hha2VUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgaWYgKGlubmVyUmVmLnZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ3EtYW5pbWF0ZS0tc2NhbGUnKVxuICAgICAgICAgICAgLy8gc29tZSBwbGF0Zm9ybXMgKGxpa2UgZGVza3RvcCBDaHJvbWUpXG4gICAgICAgICAgICAvLyByZXF1aXJlIGNhbGxpbmcgZm9jdXMoKSBhZ2FpblxuICAgICAgICAgICAgZm9jdXMoKVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgMTcwKVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uRXNjYXBlS2V5ICgpIHtcbiAgICAgIGlmIChwcm9wcy5zZWFtbGVzcyAhPT0gdHJ1ZSkge1xuICAgICAgICBpZiAocHJvcHMucGVyc2lzdGVudCA9PT0gdHJ1ZSB8fCBwcm9wcy5ub0VzY0Rpc21pc3MgPT09IHRydWUpIHtcbiAgICAgICAgICBwcm9wcy5tYXhpbWl6ZWQgIT09IHRydWUgJiYgcHJvcHMubm9TaGFrZSAhPT0gdHJ1ZSAmJiBzaGFrZSgpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZW1pdCgnZXNjYXBlLWtleScpXG4gICAgICAgICAgaGlkZSgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhbnVwIChoaWRpbmcpIHtcbiAgICAgIGNsZWFyVGltZW91dChzaGFrZVRpbWVvdXQpXG5cbiAgICAgIGlmIChoaWRpbmcgPT09IHRydWUgfHwgc2hvd2luZy52YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICB1cGRhdGVNYXhpbWl6ZWQoZmFsc2UpXG5cbiAgICAgICAgaWYgKHByb3BzLnNlYW1sZXNzICE9PSB0cnVlKSB7XG4gICAgICAgICAgcHJldmVudEJvZHlTY3JvbGwoZmFsc2UpXG4gICAgICAgICAgcmVtb3ZlRm9jdXNvdXQob25Gb2N1c0NoYW5nZSlcbiAgICAgICAgICByZW1vdmVFc2NhcGVLZXkob25Fc2NhcGVLZXkpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGhpZGluZyAhPT0gdHJ1ZSkge1xuICAgICAgICByZWZvY3VzVGFyZ2V0ID0gbnVsbFxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZU1heGltaXplZCAoYWN0aXZlKSB7XG4gICAgICBpZiAoYWN0aXZlID09PSB0cnVlKSB7XG4gICAgICAgIGlmIChpc01heGltaXplZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgIG1heGltaXplZE1vZGFscyA8IDEgJiYgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdxLWJvZHktLWRpYWxvZycpXG4gICAgICAgICAgbWF4aW1pemVkTW9kYWxzKytcblxuICAgICAgICAgIGlzTWF4aW1pemVkID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChpc01heGltaXplZCA9PT0gdHJ1ZSkge1xuICAgICAgICBpZiAobWF4aW1pemVkTW9kYWxzIDwgMikge1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgncS1ib2R5LS1kaWFsb2cnKVxuICAgICAgICB9XG5cbiAgICAgICAgbWF4aW1pemVkTW9kYWxzLS1cbiAgICAgICAgaXNNYXhpbWl6ZWQgPSBmYWxzZVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uQXV0b0Nsb3NlIChlKSB7XG4gICAgICBpZiAoYXZvaWRBdXRvQ2xvc2UgIT09IHRydWUpIHtcbiAgICAgICAgaGlkZShlKVxuICAgICAgICBlbWl0KCdjbGljaycsIGUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25CYWNrZHJvcENsaWNrIChlKSB7XG4gICAgICBpZiAocHJvcHMucGVyc2lzdGVudCAhPT0gdHJ1ZSAmJiBwcm9wcy5ub0JhY2tkcm9wRGlzbWlzcyAhPT0gdHJ1ZSkge1xuICAgICAgICBoaWRlKGUpXG4gICAgICB9XG4gICAgICBlbHNlIGlmIChwcm9wcy5ub1NoYWtlICE9PSB0cnVlKSB7XG4gICAgICAgIHNoYWtlKClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkZvY3VzQ2hhbmdlIChldnQpIHtcbiAgICAgIC8vIHRoZSBmb2N1cyBpcyBub3QgaW4gYSB2dWUgY2hpbGQgY29tcG9uZW50XG4gICAgICBpZiAoXG4gICAgICAgIHNob3dpbmcudmFsdWUgPT09IHRydWVcbiAgICAgICAgJiYgcG9ydGFsSXNBY3RpdmUudmFsdWUgPT09IHRydWVcbiAgICAgICAgJiYgY2hpbGRIYXNGb2N1cyhpbm5lclJlZi52YWx1ZSwgZXZ0LnRhcmdldCkgIT09IHRydWVcbiAgICAgICkge1xuICAgICAgICBmb2N1cygpXG4gICAgICB9XG4gICAgfVxuXG4gICAgT2JqZWN0LmFzc2lnbih2bS5wcm94eSwge1xuICAgICAgLy8gZXhwb3NlIHB1YmxpYyBtZXRob2RzXG4gICAgICBmb2N1cywgc2hha2UsXG5cbiAgICAgIC8vIHByaXZhdGUgYnV0IG5lZWRlZCBieSBRU2VsZWN0XG4gICAgICBfX3VwZGF0ZVJlZm9jdXNUYXJnZXQgKHRhcmdldCkge1xuICAgICAgICByZWZvY3VzVGFyZ2V0ID0gdGFyZ2V0IHx8IG51bGxcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgb25CZWZvcmVVbm1vdW50KGNsZWFudXApXG5cbiAgICBmdW5jdGlvbiByZW5kZXJQb3J0YWxDb250ZW50ICgpIHtcbiAgICAgIHJldHVybiBoKCdkaXYnLCB7XG4gICAgICAgIC4uLmF0dHJzLFxuICAgICAgICBjbGFzczogcm9vdENsYXNzZXMudmFsdWVcbiAgICAgIH0sIFtcbiAgICAgICAgaChUcmFuc2l0aW9uLCB7XG4gICAgICAgICAgbmFtZTogJ3EtdHJhbnNpdGlvbi0tZmFkZScsXG4gICAgICAgICAgYXBwZWFyOiB0cnVlXG4gICAgICAgIH0sICgpID0+IChcbiAgICAgICAgICB1c2VCYWNrZHJvcC52YWx1ZSA9PT0gdHJ1ZVxuICAgICAgICAgICAgPyBoKCdkaXYnLCB7XG4gICAgICAgICAgICAgIGNsYXNzOiAncS1kaWFsb2dfX2JhY2tkcm9wIGZpeGVkLWZ1bGwnLFxuICAgICAgICAgICAgICBzdHlsZTogdHJhbnNpdGlvblN0eWxlLnZhbHVlLFxuICAgICAgICAgICAgICAnYXJpYS1oaWRkZW4nOiAndHJ1ZScsXG4gICAgICAgICAgICAgIG9uTW91c2Vkb3duOiBvbkJhY2tkcm9wQ2xpY2tcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICA6IG51bGxcbiAgICAgICAgKSksXG5cbiAgICAgICAgaChcbiAgICAgICAgICBUcmFuc2l0aW9uLFxuICAgICAgICAgIHsgbmFtZTogdHJhbnNpdGlvbi52YWx1ZSwgYXBwZWFyOiB0cnVlIH0sXG4gICAgICAgICAgKCkgPT4gKFxuICAgICAgICAgICAgc2hvd2luZy52YWx1ZSA9PT0gdHJ1ZVxuICAgICAgICAgICAgICA/IGgoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICByZWY6IGlubmVyUmVmLFxuICAgICAgICAgICAgICAgIGNsYXNzOiBjbGFzc2VzLnZhbHVlLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB0cmFuc2l0aW9uU3R5bGUudmFsdWUsXG4gICAgICAgICAgICAgICAgdGFiaW5kZXg6IC0xLFxuICAgICAgICAgICAgICAgIC4uLm9uRXZlbnRzLnZhbHVlXG4gICAgICAgICAgICAgIH0sIGhTbG90KHNsb3RzLmRlZmF1bHQpKVxuICAgICAgICAgICAgICA6IG51bGxcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIF0pXG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbmRlclBvcnRhbFxuICB9XG59KVxuIiwiaW1wb3J0IHsgaCwgcmVmLCBjb21wdXRlZCwgd2F0Y2gsIG9uQmVmb3JlVXBkYXRlLCBvblVwZGF0ZWQsIG9uQmVmb3JlVW5tb3VudCwgbmV4dFRpY2ssIGdldEN1cnJlbnRJbnN0YW5jZSB9IGZyb20gJ3Z1ZSdcblxuaW1wb3J0IFFGaWVsZCBmcm9tICcuLi9maWVsZC9RRmllbGQuanMnXG5pbXBvcnQgUUljb24gZnJvbSAnLi4vaWNvbi9RSWNvbi5qcydcbmltcG9ydCBRQ2hpcCBmcm9tICcuLi9jaGlwL1FDaGlwLmpzJ1xuXG5pbXBvcnQgUUl0ZW0gZnJvbSAnLi4vaXRlbS9RSXRlbS5qcydcbmltcG9ydCBRSXRlbVNlY3Rpb24gZnJvbSAnLi4vaXRlbS9RSXRlbVNlY3Rpb24uanMnXG5pbXBvcnQgUUl0ZW1MYWJlbCBmcm9tICcuLi9pdGVtL1FJdGVtTGFiZWwuanMnXG5cbmltcG9ydCBRTWVudSBmcm9tICcuLi9tZW51L1FNZW51LmpzJ1xuaW1wb3J0IFFEaWFsb2cgZnJvbSAnLi4vZGlhbG9nL1FEaWFsb2cuanMnXG5cbmltcG9ydCB1c2VGaWVsZCwgeyB1c2VGaWVsZFN0YXRlLCB1c2VGaWVsZFByb3BzLCB1c2VGaWVsZEVtaXRzLCBmaWVsZFZhbHVlSXNGaWxsZWQgfSBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy9wcml2YXRlL3VzZS1maWVsZC5qcydcbmltcG9ydCB7IHVzZVZpcnR1YWxTY3JvbGwsIHVzZVZpcnR1YWxTY3JvbGxQcm9wcyB9IGZyb20gJy4uL3ZpcnR1YWwtc2Nyb2xsL3VzZS12aXJ0dWFsLXNjcm9sbC5qcydcbmltcG9ydCB7IHVzZUZvcm1Qcm9wcywgdXNlRm9ybUlucHV0TmFtZUF0dHIgfSBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy9wcml2YXRlL3VzZS1mb3JtLmpzJ1xuaW1wb3J0IHVzZUtleUNvbXBvc2l0aW9uIGZyb20gJy4uLy4uL2NvbXBvc2FibGVzL3ByaXZhdGUvdXNlLWtleS1jb21wb3NpdGlvbi5qcydcblxuaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS9jcmVhdGUuanMnXG5pbXBvcnQgeyBpc0RlZXBFcXVhbCB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUvaXMuanMnXG5pbXBvcnQgeyBzdG9wLCBwcmV2ZW50LCBzdG9wQW5kUHJldmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL2V2ZW50LmpzJ1xuaW1wb3J0IHsgbm9ybWFsaXplVG9JbnRlcnZhbCB9IGZyb20gJy4uLy4uL3V0aWxzL2Zvcm1hdC5qcydcbmltcG9ydCB7IHNob3VsZElnbm9yZUtleSwgaXNLZXlDb2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS9rZXktY29tcG9zaXRpb24uanMnXG5pbXBvcnQgeyBoTWVyZ2VTbG90IH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS9yZW5kZXIuanMnXG5cbmNvbnN0IHZhbGlkYXRlTmV3VmFsdWVNb2RlID0gdiA9PiBbICdhZGQnLCAnYWRkLXVuaXF1ZScsICd0b2dnbGUnIF0uaW5jbHVkZXModilcbmNvbnN0IHJlRXNjYXBlTGlzdCA9ICcuKis/XiR7fSgpfFtdXFxcXCdcbmNvbnN0IGZpZWxkUHJvcHNMaXN0ID0gT2JqZWN0LmtleXModXNlRmllbGRQcm9wcylcblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KHtcbiAgbmFtZTogJ1FTZWxlY3QnLFxuXG4gIGluaGVyaXRBdHRyczogZmFsc2UsXG5cbiAgcHJvcHM6IHtcbiAgICAuLi51c2VWaXJ0dWFsU2Nyb2xsUHJvcHMsXG4gICAgLi4udXNlRm9ybVByb3BzLFxuICAgIC4uLnVzZUZpZWxkUHJvcHMsXG5cbiAgICBtb2RlbFZhbHVlOiB7XG4gICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG5cbiAgICBtdWx0aXBsZTogQm9vbGVhbixcblxuICAgIGRpc3BsYXlWYWx1ZTogWyBTdHJpbmcsIE51bWJlciBdLFxuICAgIGRpc3BsYXlWYWx1ZUh0bWw6IEJvb2xlYW4sXG4gICAgZHJvcGRvd25JY29uOiBTdHJpbmcsXG5cbiAgICBvcHRpb25zOiB7XG4gICAgICB0eXBlOiBBcnJheSxcbiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdXG4gICAgfSxcblxuICAgIG9wdGlvblZhbHVlOiBbIEZ1bmN0aW9uLCBTdHJpbmcgXSxcbiAgICBvcHRpb25MYWJlbDogWyBGdW5jdGlvbiwgU3RyaW5nIF0sXG4gICAgb3B0aW9uRGlzYWJsZTogWyBGdW5jdGlvbiwgU3RyaW5nIF0sXG5cbiAgICBoaWRlU2VsZWN0ZWQ6IEJvb2xlYW4sXG4gICAgaGlkZURyb3Bkb3duSWNvbjogQm9vbGVhbixcbiAgICBmaWxsSW5wdXQ6IEJvb2xlYW4sXG5cbiAgICBtYXhWYWx1ZXM6IFsgTnVtYmVyLCBTdHJpbmcgXSxcblxuICAgIG9wdGlvbnNEZW5zZTogQm9vbGVhbixcbiAgICBvcHRpb25zRGFyazoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICB9LFxuICAgIG9wdGlvbnNTZWxlY3RlZENsYXNzOiBTdHJpbmcsXG4gICAgb3B0aW9uc0h0bWw6IEJvb2xlYW4sXG5cbiAgICBvcHRpb25zQ292ZXI6IEJvb2xlYW4sXG5cbiAgICBtZW51U2hyaW5rOiBCb29sZWFuLFxuICAgIG1lbnVBbmNob3I6IFN0cmluZyxcbiAgICBtZW51U2VsZjogU3RyaW5nLFxuICAgIG1lbnVPZmZzZXQ6IEFycmF5LFxuXG4gICAgcG9wdXBDb250ZW50Q2xhc3M6IFN0cmluZyxcbiAgICBwb3B1cENvbnRlbnRTdHlsZTogWyBTdHJpbmcsIEFycmF5LCBPYmplY3QgXSxcblxuICAgIHVzZUlucHV0OiBCb29sZWFuLFxuICAgIHVzZUNoaXBzOiBCb29sZWFuLFxuXG4gICAgbmV3VmFsdWVNb2RlOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlTmV3VmFsdWVNb2RlXG4gICAgfSxcblxuICAgIG1hcE9wdGlvbnM6IEJvb2xlYW4sXG4gICAgZW1pdFZhbHVlOiBCb29sZWFuLFxuXG4gICAgaW5wdXREZWJvdW5jZToge1xuICAgICAgdHlwZTogWyBOdW1iZXIsIFN0cmluZyBdLFxuICAgICAgZGVmYXVsdDogNTAwXG4gICAgfSxcblxuICAgIGlucHV0Q2xhc3M6IFsgQXJyYXksIFN0cmluZywgT2JqZWN0IF0sXG4gICAgaW5wdXRTdHlsZTogWyBBcnJheSwgU3RyaW5nLCBPYmplY3QgXSxcblxuICAgIHRhYmluZGV4OiB7XG4gICAgICB0eXBlOiBbIFN0cmluZywgTnVtYmVyIF0sXG4gICAgICBkZWZhdWx0OiAwXG4gICAgfSxcblxuICAgIGF1dG9jb21wbGV0ZTogU3RyaW5nLFxuXG4gICAgdHJhbnNpdGlvblNob3c6IFN0cmluZyxcbiAgICB0cmFuc2l0aW9uSGlkZTogU3RyaW5nLFxuICAgIHRyYW5zaXRpb25EdXJhdGlvbjogWyBTdHJpbmcsIE51bWJlciBdLFxuXG4gICAgYmVoYXZpb3I6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHZhbGlkYXRvcjogdiA9PiBbICdkZWZhdWx0JywgJ21lbnUnLCAnZGlhbG9nJyBdLmluY2x1ZGVzKHYpLFxuICAgICAgZGVmYXVsdDogJ2RlZmF1bHQnXG4gICAgfSxcblxuICAgIHZpcnR1YWxTY3JvbGxJdGVtU2l6ZToge1xuICAgICAgdHlwZTogWyBOdW1iZXIsIFN0cmluZyBdLFxuICAgICAgZGVmYXVsdDogdm9pZCAwXG4gICAgfSxcblxuICAgIG9uTmV3VmFsdWU6IEZ1bmN0aW9uLFxuICAgIG9uRmlsdGVyOiBGdW5jdGlvblxuICB9LFxuXG4gIGVtaXRzOiBbXG4gICAgLi4udXNlRmllbGRFbWl0cyxcbiAgICAnYWRkJywgJ3JlbW92ZScsICdpbnB1dC12YWx1ZScsXG4gICAgJ2tleXVwJywgJ2tleXByZXNzJywgJ2tleWRvd24nLFxuICAgICdmaWx0ZXItYWJvcnQnXG4gIF0sXG5cbiAgc2V0dXAgKHByb3BzLCB7IHNsb3RzLCBlbWl0IH0pIHtcbiAgICBjb25zdCB7IHByb3h5IH0gPSBnZXRDdXJyZW50SW5zdGFuY2UoKVxuICAgIGNvbnN0IHsgJHEgfSA9IHByb3h5XG5cbiAgICBjb25zdCBtZW51ID0gcmVmKGZhbHNlKVxuICAgIGNvbnN0IGRpYWxvZyA9IHJlZihmYWxzZSlcbiAgICBjb25zdCBvcHRpb25JbmRleCA9IHJlZigtMSlcbiAgICBjb25zdCBpbnB1dFZhbHVlID0gcmVmKCcnKVxuICAgIGNvbnN0IGRpYWxvZ0ZpZWxkRm9jdXNlZCA9IHJlZihmYWxzZSlcbiAgICBjb25zdCBpbm5lckxvYWRpbmdJbmRpY2F0b3IgPSByZWYoZmFsc2UpXG5cbiAgICBsZXQgaW5wdXRUaW1lciwgaW5uZXJWYWx1ZUNhY2hlLFxuICAgICAgaGFzRGlhbG9nLCB1c2VySW5wdXRWYWx1ZSwgZmlsdGVySWQsIGRlZmF1bHRJbnB1dFZhbHVlLFxuICAgICAgdHJhbnNpdGlvblNob3dDb21wdXRlZCwgc2VhcmNoQnVmZmVyLCBzZWFyY2hCdWZmZXJFeHBcblxuICAgIGNvbnN0IGlucHV0UmVmID0gcmVmKG51bGwpXG4gICAgY29uc3QgdGFyZ2V0UmVmID0gcmVmKG51bGwpXG4gICAgY29uc3QgbWVudVJlZiA9IHJlZihudWxsKVxuICAgIGNvbnN0IGRpYWxvZ1JlZiA9IHJlZihudWxsKVxuICAgIGNvbnN0IG1lbnVDb250ZW50UmVmID0gcmVmKG51bGwpXG5cbiAgICBjb25zdCBuYW1lUHJvcCA9IHVzZUZvcm1JbnB1dE5hbWVBdHRyKHByb3BzKVxuXG4gICAgY29uc3Qgb25Db21wb3NpdGlvbiA9IHVzZUtleUNvbXBvc2l0aW9uKG9uSW5wdXQpXG5cbiAgICBjb25zdCB2aXJ0dWFsU2Nyb2xsTGVuZ3RoID0gY29tcHV0ZWQoKCkgPT4gKFxuICAgICAgQXJyYXkuaXNBcnJheShwcm9wcy5vcHRpb25zKVxuICAgICAgICA/IHByb3BzLm9wdGlvbnMubGVuZ3RoXG4gICAgICAgIDogMFxuICAgICkpXG5cbiAgICBjb25zdCB2aXJ0dWFsU2Nyb2xsSXRlbVNpemVDb21wdXRlZCA9IGNvbXB1dGVkKCgpID0+IChcbiAgICAgIHByb3BzLnZpcnR1YWxTY3JvbGxJdGVtU2l6ZSA9PT0gdm9pZCAwXG4gICAgICAgID8gKHByb3BzLmRlbnNlID09PSB0cnVlID8gMjQgOiA0OClcbiAgICAgICAgOiBwcm9wcy52aXJ0dWFsU2Nyb2xsSXRlbVNpemVcbiAgICApKVxuXG4gICAgY29uc3Qge1xuICAgICAgdmlydHVhbFNjcm9sbFNsaWNlUmFuZ2UsXG4gICAgICB2aXJ0dWFsU2Nyb2xsU2xpY2VTaXplQ29tcHV0ZWQsXG4gICAgICBsb2NhbFJlc2V0VmlydHVhbFNjcm9sbCxcbiAgICAgIHBhZFZpcnR1YWxTY3JvbGwsXG4gICAgICBvblZpcnR1YWxTY3JvbGxFdnQsXG4gICAgICByZXNldCxcbiAgICAgIHNjcm9sbFRvLFxuICAgICAgc2V0VmlydHVhbFNjcm9sbFNpemVcbiAgICB9ID0gdXNlVmlydHVhbFNjcm9sbCh7XG4gICAgICB2aXJ0dWFsU2Nyb2xsTGVuZ3RoLCBnZXRWaXJ0dWFsU2Nyb2xsVGFyZ2V0LCBnZXRWaXJ0dWFsU2Nyb2xsRWwsXG4gICAgICB2aXJ0dWFsU2Nyb2xsSXRlbVNpemVDb21wdXRlZFxuICAgIH0pXG5cbiAgICBjb25zdCBzdGF0ZSA9IHVzZUZpZWxkU3RhdGUoKVxuXG4gICAgY29uc3QgaW5uZXJWYWx1ZSA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGNvbnN0XG4gICAgICAgIG1hcE51bGwgPSBwcm9wcy5tYXBPcHRpb25zID09PSB0cnVlICYmIHByb3BzLm11bHRpcGxlICE9PSB0cnVlLFxuICAgICAgICB2YWwgPSBwcm9wcy5tb2RlbFZhbHVlICE9PSB2b2lkIDAgJiYgKHByb3BzLm1vZGVsVmFsdWUgIT09IG51bGwgfHwgbWFwTnVsbCA9PT0gdHJ1ZSlcbiAgICAgICAgICA/IChwcm9wcy5tdWx0aXBsZSA9PT0gdHJ1ZSAmJiBBcnJheS5pc0FycmF5KHByb3BzLm1vZGVsVmFsdWUpID8gcHJvcHMubW9kZWxWYWx1ZSA6IFsgcHJvcHMubW9kZWxWYWx1ZSBdKVxuICAgICAgICAgIDogW11cblxuICAgICAgaWYgKHByb3BzLm1hcE9wdGlvbnMgPT09IHRydWUgJiYgQXJyYXkuaXNBcnJheShwcm9wcy5vcHRpb25zKSA9PT0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBjYWNoZSA9IHByb3BzLm1hcE9wdGlvbnMgPT09IHRydWUgJiYgaW5uZXJWYWx1ZUNhY2hlICE9PSB2b2lkIDBcbiAgICAgICAgICA/IGlubmVyVmFsdWVDYWNoZVxuICAgICAgICAgIDogW11cbiAgICAgICAgY29uc3QgdmFsdWVzID0gdmFsLm1hcCh2ID0+IGdldE9wdGlvbih2LCBjYWNoZSkpXG5cbiAgICAgICAgcmV0dXJuIHByb3BzLm1vZGVsVmFsdWUgPT09IG51bGwgJiYgbWFwTnVsbCA9PT0gdHJ1ZVxuICAgICAgICAgID8gdmFsdWVzLmZpbHRlcih2ID0+IHYgIT09IG51bGwpXG4gICAgICAgICAgOiB2YWx1ZXNcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbFxuICAgIH0pXG5cbiAgICBjb25zdCBpbm5lckZpZWxkUHJvcHMgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICBjb25zdCBhY2MgPSB7fVxuICAgICAgZmllbGRQcm9wc0xpc3QuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBjb25zdCB2YWwgPSBwcm9wc1sga2V5IF1cbiAgICAgICAgaWYgKHZhbCAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgYWNjWyBrZXkgXSA9IHZhbFxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgcmV0dXJuIGFjY1xuICAgIH0pXG5cbiAgICBjb25zdCBpc09wdGlvbnNEYXJrID0gY29tcHV0ZWQoKCkgPT4gKFxuICAgICAgcHJvcHMub3B0aW9uc0RhcmsgPT09IG51bGxcbiAgICAgICAgPyBzdGF0ZS5pc0RhcmsudmFsdWVcbiAgICAgICAgOiBwcm9wcy5vcHRpb25zRGFya1xuICAgICkpXG5cbiAgICBjb25zdCBoYXNWYWx1ZSA9IGNvbXB1dGVkKCgpID0+IGZpZWxkVmFsdWVJc0ZpbGxlZChpbm5lclZhbHVlLnZhbHVlKSlcblxuICAgIGNvbnN0IGNvbXB1dGVkSW5wdXRDbGFzcyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGxldCBjbHMgPSAncS1maWVsZF9faW5wdXQgcS1wbGFjZWhvbGRlciBjb2wnXG5cbiAgICAgIGlmIChwcm9wcy5oaWRlU2VsZWN0ZWQgPT09IHRydWUgfHwgaW5uZXJWYWx1ZS52YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIFsgY2xzLCBwcm9wcy5pbnB1dENsYXNzIF1cbiAgICAgIH1cblxuICAgICAgY2xzICs9ICcgcS1maWVsZF9faW5wdXQtLXBhZGRpbmcnXG5cbiAgICAgIHJldHVybiBwcm9wcy5pbnB1dENsYXNzID09PSB2b2lkIDBcbiAgICAgICAgPyBjbHNcbiAgICAgICAgOiBbIGNscywgcHJvcHMuaW5wdXRDbGFzcyBdXG4gICAgfSlcblxuICAgIGNvbnN0IG1lbnVDb250ZW50Q2xhc3MgPSBjb21wdXRlZCgoKSA9PlxuICAgICAgKHByb3BzLnZpcnR1YWxTY3JvbGxIb3Jpem9udGFsID09PSB0cnVlID8gJ3EtdmlydHVhbC1zY3JvbGwtLWhvcml6b250YWwnIDogJycpXG4gICAgICArIChwcm9wcy5wb3B1cENvbnRlbnRDbGFzcyA/ICcgJyArIHByb3BzLnBvcHVwQ29udGVudENsYXNzIDogJycpXG4gICAgKVxuXG4gICAgY29uc3Qgbm9PcHRpb25zID0gY29tcHV0ZWQoKCkgPT4gdmlydHVhbFNjcm9sbExlbmd0aC52YWx1ZSA9PT0gMClcblxuICAgIGNvbnN0IHNlbGVjdGVkU3RyaW5nID0gY29tcHV0ZWQoKCkgPT5cbiAgICAgIGlubmVyVmFsdWUudmFsdWVcbiAgICAgICAgLm1hcChvcHQgPT4gZ2V0T3B0aW9uTGFiZWwudmFsdWUob3B0KSlcbiAgICAgICAgLmpvaW4oJywgJylcbiAgICApXG5cbiAgICBjb25zdCBuZWVkc0h0bWxGbiA9IGNvbXB1dGVkKCgpID0+IChcbiAgICAgIHByb3BzLm9wdGlvbnNIdG1sID09PSB0cnVlXG4gICAgICAgID8gKCkgPT4gdHJ1ZVxuICAgICAgICA6IG9wdCA9PiBvcHQgIT09IHZvaWQgMCAmJiBvcHQgIT09IG51bGwgJiYgb3B0Lmh0bWwgPT09IHRydWVcbiAgICApKVxuXG4gICAgY29uc3QgdmFsdWVBc0h0bWwgPSBjb21wdXRlZCgoKSA9PiAoXG4gICAgICBwcm9wcy5kaXNwbGF5VmFsdWVIdG1sID09PSB0cnVlIHx8IChcbiAgICAgICAgcHJvcHMuZGlzcGxheVZhbHVlID09PSB2b2lkIDAgJiYgKFxuICAgICAgICAgIHByb3BzLm9wdGlvbnNIdG1sID09PSB0cnVlXG4gICAgICAgICAgfHwgaW5uZXJWYWx1ZS52YWx1ZS5zb21lKG5lZWRzSHRtbEZuLnZhbHVlKVxuICAgICAgICApXG4gICAgICApXG4gICAgKSlcblxuICAgIGNvbnN0IHRhYmluZGV4ID0gY29tcHV0ZWQoKCkgPT4gKHN0YXRlLmZvY3VzZWQudmFsdWUgPT09IHRydWUgPyBwcm9wcy50YWJpbmRleCA6IC0xKSlcblxuICAgIGNvbnN0IGNvbWJvYm94QXR0cnMgPSBjb21wdXRlZCgoKSA9PiAoe1xuICAgICAgdGFiaW5kZXg6IHByb3BzLnRhYmluZGV4LFxuICAgICAgcm9sZTogJ2NvbWJvYm94JyxcbiAgICAgICdhcmlhLWxhYmVsJzogcHJvcHMubGFiZWwsXG4gICAgICAnYXJpYS1hdXRvY29tcGxldGUnOiBwcm9wcy51c2VJbnB1dCA9PT0gdHJ1ZSA/ICdsaXN0JyA6ICdub25lJyxcbiAgICAgICdhcmlhLWV4cGFuZGVkJzogbWVudS52YWx1ZSA9PT0gdHJ1ZSA/ICd0cnVlJyA6ICdmYWxzZScsXG4gICAgICAnYXJpYS1vd25zJzogYCR7IHN0YXRlLnRhcmdldFVpZC52YWx1ZSB9X2xiYCxcbiAgICAgICdhcmlhLWNvbnRyb2xzJzogYCR7IHN0YXRlLnRhcmdldFVpZC52YWx1ZSB9X2xiYFxuICAgIH0pKVxuXG4gICAgY29uc3QgbGlzdGJveEF0dHJzID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgY29uc3QgYXR0cnMgPSB7XG4gICAgICAgIGlkOiBgJHsgc3RhdGUudGFyZ2V0VWlkLnZhbHVlIH1fbGJgLFxuICAgICAgICByb2xlOiAnbGlzdGJveCcsXG4gICAgICAgICdhcmlhLW11bHRpc2VsZWN0YWJsZSc6IHByb3BzLm11bHRpcGxlID09PSB0cnVlID8gJ3RydWUnIDogJ2ZhbHNlJ1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9uSW5kZXgudmFsdWUgPj0gMCkge1xuICAgICAgICBhdHRyc1sgJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCcgXSA9IGAkeyBzdGF0ZS50YXJnZXRVaWQudmFsdWUgfV8keyBvcHRpb25JbmRleC52YWx1ZSB9YFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXR0cnNcbiAgICB9KVxuXG4gICAgY29uc3Qgc2VsZWN0ZWRTY29wZSA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIHJldHVybiBpbm5lclZhbHVlLnZhbHVlLm1hcCgob3B0LCBpKSA9PiAoe1xuICAgICAgICBpbmRleDogaSxcbiAgICAgICAgb3B0LFxuICAgICAgICBodG1sOiBuZWVkc0h0bWxGbi52YWx1ZShvcHQpLFxuICAgICAgICBzZWxlY3RlZDogdHJ1ZSxcbiAgICAgICAgcmVtb3ZlQXRJbmRleDogcmVtb3ZlQXRJbmRleEFuZEZvY3VzLFxuICAgICAgICB0b2dnbGVPcHRpb24sXG4gICAgICAgIHRhYmluZGV4OiB0YWJpbmRleC52YWx1ZVxuICAgICAgfSkpXG4gICAgfSlcblxuICAgIGNvbnN0IG9wdGlvblNjb3BlID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgaWYgKHZpcnR1YWxTY3JvbGxMZW5ndGgudmFsdWUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIFtdXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHsgZnJvbSwgdG8gfSA9IHZpcnR1YWxTY3JvbGxTbGljZVJhbmdlLnZhbHVlXG5cbiAgICAgIHJldHVybiBwcm9wcy5vcHRpb25zLnNsaWNlKGZyb20sIHRvKS5tYXAoKG9wdCwgaSkgPT4ge1xuICAgICAgICBjb25zdCBkaXNhYmxlID0gaXNPcHRpb25EaXNhYmxlZC52YWx1ZShvcHQpID09PSB0cnVlXG4gICAgICAgIGNvbnN0IGluZGV4ID0gZnJvbSArIGlcblxuICAgICAgICBjb25zdCBpdGVtUHJvcHMgPSB7XG4gICAgICAgICAgY2xpY2thYmxlOiB0cnVlLFxuICAgICAgICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgYWN0aXZlQ2xhc3M6IGNvbXB1dGVkT3B0aW9uc1NlbGVjdGVkQ2xhc3MudmFsdWUsXG4gICAgICAgICAgbWFudWFsRm9jdXM6IHRydWUsXG4gICAgICAgICAgZm9jdXNlZDogZmFsc2UsXG4gICAgICAgICAgZGlzYWJsZSxcbiAgICAgICAgICB0YWJpbmRleDogLTEsXG4gICAgICAgICAgZGVuc2U6IHByb3BzLm9wdGlvbnNEZW5zZSxcbiAgICAgICAgICBkYXJrOiBpc09wdGlvbnNEYXJrLnZhbHVlLFxuICAgICAgICAgIHJvbGU6ICdvcHRpb24nLFxuICAgICAgICAgIGlkOiBgJHsgc3RhdGUudGFyZ2V0VWlkLnZhbHVlIH1fJHsgaW5kZXggfWAsXG4gICAgICAgICAgb25DbGljazogKCkgPT4geyB0b2dnbGVPcHRpb24ob3B0KSB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlzYWJsZSAhPT0gdHJ1ZSkge1xuICAgICAgICAgIGlzT3B0aW9uU2VsZWN0ZWQob3B0KSA9PT0gdHJ1ZSAmJiAoaXRlbVByb3BzLmFjdGl2ZSA9IHRydWUpXG4gICAgICAgICAgb3B0aW9uSW5kZXgudmFsdWUgPT09IGluZGV4ICYmIChpdGVtUHJvcHMuZm9jdXNlZCA9IHRydWUpXG5cbiAgICAgICAgICBpdGVtUHJvcHNbICdhcmlhLXNlbGVjdGVkJyBdID0gaXRlbVByb3BzLmFjdGl2ZSA9PT0gdHJ1ZSA/ICd0cnVlJyA6ICdmYWxzZSdcblxuICAgICAgICAgIGlmICgkcS5wbGF0Zm9ybS5pcy5kZXNrdG9wID09PSB0cnVlKSB7XG4gICAgICAgICAgICBpdGVtUHJvcHMub25Nb3VzZW1vdmUgPSAoKSA9PiB7IG1lbnUudmFsdWUgPT09IHRydWUgJiYgc2V0T3B0aW9uSW5kZXgoaW5kZXgpIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGluZGV4LFxuICAgICAgICAgIG9wdCxcbiAgICAgICAgICBodG1sOiBuZWVkc0h0bWxGbi52YWx1ZShvcHQpLFxuICAgICAgICAgIGxhYmVsOiBnZXRPcHRpb25MYWJlbC52YWx1ZShvcHQpLFxuICAgICAgICAgIHNlbGVjdGVkOiBpdGVtUHJvcHMuYWN0aXZlLFxuICAgICAgICAgIGZvY3VzZWQ6IGl0ZW1Qcm9wcy5mb2N1c2VkLFxuICAgICAgICAgIHRvZ2dsZU9wdGlvbixcbiAgICAgICAgICBzZXRPcHRpb25JbmRleCxcbiAgICAgICAgICBpdGVtUHJvcHNcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgY29uc3QgZHJvcGRvd25BcnJvd0ljb24gPSBjb21wdXRlZCgoKSA9PiAoXG4gICAgICBwcm9wcy5kcm9wZG93bkljb24gIT09IHZvaWQgMFxuICAgICAgICA/IHByb3BzLmRyb3Bkb3duSWNvblxuICAgICAgICA6ICRxLmljb25TZXQuYXJyb3cuZHJvcGRvd25cbiAgICApKVxuXG4gICAgY29uc3Qgc3F1YXJlZE1lbnUgPSBjb21wdXRlZCgoKSA9PlxuICAgICAgcHJvcHMub3B0aW9uc0NvdmVyID09PSBmYWxzZVxuICAgICAgJiYgcHJvcHMub3V0bGluZWQgIT09IHRydWVcbiAgICAgICYmIHByb3BzLnN0YW5kb3V0ICE9PSB0cnVlXG4gICAgICAmJiBwcm9wcy5ib3JkZXJsZXNzICE9PSB0cnVlXG4gICAgICAmJiBwcm9wcy5yb3VuZGVkICE9PSB0cnVlXG4gICAgKVxuXG4gICAgY29uc3QgY29tcHV0ZWRPcHRpb25zU2VsZWN0ZWRDbGFzcyA9IGNvbXB1dGVkKCgpID0+IChcbiAgICAgIHByb3BzLm9wdGlvbnNTZWxlY3RlZENsYXNzICE9PSB2b2lkIDBcbiAgICAgICAgPyBwcm9wcy5vcHRpb25zU2VsZWN0ZWRDbGFzc1xuICAgICAgICA6IChwcm9wcy5jb2xvciAhPT0gdm9pZCAwID8gYHRleHQtJHsgcHJvcHMuY29sb3IgfWAgOiAnJylcbiAgICApKVxuXG4gICAgLy8gcmV0dXJucyBtZXRob2QgdG8gZ2V0IHZhbHVlIG9mIGFuIG9wdGlvbjtcbiAgICAvLyB0YWtlcyBpbnRvIGFjY291bnQgJ29wdGlvbi12YWx1ZScgcHJvcFxuICAgIGNvbnN0IGdldE9wdGlvblZhbHVlID0gY29tcHV0ZWQoKCkgPT4gZ2V0UHJvcFZhbHVlRm4ocHJvcHMub3B0aW9uVmFsdWUsICd2YWx1ZScpKVxuXG4gICAgLy8gcmV0dXJucyBtZXRob2QgdG8gZ2V0IGxhYmVsIG9mIGFuIG9wdGlvbjtcbiAgICAvLyB0YWtlcyBpbnRvIGFjY291bnQgJ29wdGlvbi1sYWJlbCcgcHJvcFxuICAgIGNvbnN0IGdldE9wdGlvbkxhYmVsID0gY29tcHV0ZWQoKCkgPT4gZ2V0UHJvcFZhbHVlRm4ocHJvcHMub3B0aW9uTGFiZWwsICdsYWJlbCcpKVxuXG4gICAgLy8gcmV0dXJucyBtZXRob2QgdG8gdGVsbCBpZiBhbiBvcHRpb24gaXMgZGlzYWJsZWQ7XG4gICAgLy8gdGFrZXMgaW50byBhY2NvdW50ICdvcHRpb24tZGlzYWJsZScgcHJvcFxuICAgIGNvbnN0IGlzT3B0aW9uRGlzYWJsZWQgPSBjb21wdXRlZCgoKSA9PiBnZXRQcm9wVmFsdWVGbihwcm9wcy5vcHRpb25EaXNhYmxlLCAnZGlzYWJsZScpKVxuXG4gICAgY29uc3QgaW5uZXJPcHRpb25zVmFsdWUgPSBjb21wdXRlZCgoKSA9PiBpbm5lclZhbHVlLnZhbHVlLm1hcChvcHQgPT4gZ2V0T3B0aW9uVmFsdWUudmFsdWUob3B0KSkpXG5cbiAgICBjb25zdCBpbnB1dENvbnRyb2xFdmVudHMgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICBjb25zdCBldnQgPSB7XG4gICAgICAgIG9uSW5wdXQsXG4gICAgICAgIC8vIFNhZmFyaSA8IDEwLjIgJiBVSVdlYlZpZXcgZG9lc24ndCBmaXJlIGNvbXBvc2l0aW9uZW5kIHdoZW5cbiAgICAgICAgLy8gc3dpdGNoaW5nIGZvY3VzIGJlZm9yZSBjb25maXJtaW5nIGNvbXBvc2l0aW9uIGNob2ljZVxuICAgICAgICAvLyB0aGlzIGFsc28gZml4ZXMgdGhlIGlzc3VlIHdoZXJlIHNvbWUgYnJvd3NlcnMgZS5nLiBpT1MgQ2hyb21lXG4gICAgICAgIC8vIGZpcmVzIFwiY2hhbmdlXCIgaW5zdGVhZCBvZiBcImlucHV0XCIgb24gYXV0b2NvbXBsZXRlLlxuICAgICAgICBvbkNoYW5nZTogb25Db21wb3NpdGlvbixcbiAgICAgICAgb25LZXlkb3duOiBvblRhcmdldEtleWRvd24sXG4gICAgICAgIG9uS2V5dXA6IG9uVGFyZ2V0QXV0b2NvbXBsZXRlLFxuICAgICAgICBvbktleXByZXNzOiBvblRhcmdldEtleXByZXNzLFxuICAgICAgICBvbkZvY3VzOiBzZWxlY3RJbnB1dFRleHQsXG4gICAgICAgIG9uQ2xpY2sgKGUpIHsgaGFzRGlhbG9nID09PSB0cnVlICYmIHN0b3AoZSkgfVxuICAgICAgfVxuXG4gICAgICBldnQub25Db21wb3NpdGlvbnN0YXJ0ID0gZXZ0Lm9uQ29tcG9zaXRpb251cGRhdGUgPSBldnQub25Db21wb3NpdGlvbmVuZCA9IG9uQ29tcG9zaXRpb25cblxuICAgICAgcmV0dXJuIGV2dFxuICAgIH0pXG5cbiAgICB3YXRjaChpbm5lclZhbHVlLCB2YWwgPT4ge1xuICAgICAgaW5uZXJWYWx1ZUNhY2hlID0gdmFsXG5cbiAgICAgIGlmIChcbiAgICAgICAgcHJvcHMudXNlSW5wdXQgPT09IHRydWVcbiAgICAgICAgJiYgcHJvcHMuZmlsbElucHV0ID09PSB0cnVlXG4gICAgICAgICYmIHByb3BzLm11bHRpcGxlICE9PSB0cnVlXG4gICAgICAgIC8vIFByZXZlbnQgcmUtZW50ZXJpbmcgaW4gZmlsdGVyIHdoaWxlIGZpbHRlcmluZ1xuICAgICAgICAvLyBBbHNvIHByZXZlbnQgY2xlYXJpbmcgaW5wdXRWYWx1ZSB3aGlsZSBmaWx0ZXJpbmdcbiAgICAgICAgJiYgc3RhdGUuaW5uZXJMb2FkaW5nLnZhbHVlICE9PSB0cnVlXG4gICAgICAgICYmICgoZGlhbG9nLnZhbHVlICE9PSB0cnVlICYmIG1lbnUudmFsdWUgIT09IHRydWUpIHx8IGhhc1ZhbHVlLnZhbHVlICE9PSB0cnVlKVxuICAgICAgKSB7XG4gICAgICAgIHVzZXJJbnB1dFZhbHVlICE9PSB0cnVlICYmIHJlc2V0SW5wdXRWYWx1ZSgpXG4gICAgICAgIGlmIChkaWFsb2cudmFsdWUgPT09IHRydWUgfHwgbWVudS52YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGZpbHRlcignJylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHsgaW1tZWRpYXRlOiB0cnVlIH0pXG5cbiAgICB3YXRjaCgoKSA9PiBwcm9wcy5maWxsSW5wdXQsIHJlc2V0SW5wdXRWYWx1ZSlcblxuICAgIHdhdGNoKG1lbnUsIHVwZGF0ZU1lbnUpXG5cbiAgICB3YXRjaCh2aXJ0dWFsU2Nyb2xsTGVuZ3RoLCByZXJlbmRlck1lbnUpXG5cbiAgICBmdW5jdGlvbiBnZXRFbWl0dGluZ09wdGlvblZhbHVlIChvcHQpIHtcbiAgICAgIHJldHVybiBwcm9wcy5lbWl0VmFsdWUgPT09IHRydWVcbiAgICAgICAgPyBnZXRPcHRpb25WYWx1ZS52YWx1ZShvcHQpXG4gICAgICAgIDogb3B0XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlQXRJbmRleCAoaW5kZXgpIHtcbiAgICAgIGlmIChpbmRleCA+IC0xICYmIGluZGV4IDwgaW5uZXJWYWx1ZS52YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHByb3BzLm11bHRpcGxlID09PSB0cnVlKSB7XG4gICAgICAgICAgY29uc3QgbW9kZWwgPSBwcm9wcy5tb2RlbFZhbHVlLnNsaWNlKClcbiAgICAgICAgICBlbWl0KCdyZW1vdmUnLCB7IGluZGV4LCB2YWx1ZTogbW9kZWwuc3BsaWNlKGluZGV4LCAxKVsgMCBdIH0pXG4gICAgICAgICAgZW1pdCgndXBkYXRlOm1vZGVsVmFsdWUnLCBtb2RlbClcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBlbWl0KCd1cGRhdGU6bW9kZWxWYWx1ZScsIG51bGwpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVBdEluZGV4QW5kRm9jdXMgKGluZGV4KSB7XG4gICAgICByZW1vdmVBdEluZGV4KGluZGV4KVxuICAgICAgc3RhdGUuZm9jdXMoKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZCAob3B0LCB1bmlxdWUpIHtcbiAgICAgIGNvbnN0IHZhbCA9IGdldEVtaXR0aW5nT3B0aW9uVmFsdWUob3B0KVxuXG4gICAgICBpZiAocHJvcHMubXVsdGlwbGUgIT09IHRydWUpIHtcbiAgICAgICAgcHJvcHMuZmlsbElucHV0ID09PSB0cnVlICYmIHVwZGF0ZUlucHV0VmFsdWUoXG4gICAgICAgICAgZ2V0T3B0aW9uTGFiZWwudmFsdWUob3B0KSxcbiAgICAgICAgICB0cnVlLFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKVxuXG4gICAgICAgIGVtaXQoJ3VwZGF0ZTptb2RlbFZhbHVlJywgdmFsKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKGlubmVyVmFsdWUudmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGVtaXQoJ2FkZCcsIHsgaW5kZXg6IDAsIHZhbHVlOiB2YWwgfSlcbiAgICAgICAgZW1pdCgndXBkYXRlOm1vZGVsVmFsdWUnLCBwcm9wcy5tdWx0aXBsZSA9PT0gdHJ1ZSA/IFsgdmFsIF0gOiB2YWwpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpZiAodW5pcXVlID09PSB0cnVlICYmIGlzT3B0aW9uU2VsZWN0ZWQob3B0KSA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKHByb3BzLm1heFZhbHVlcyAhPT0gdm9pZCAwICYmIHByb3BzLm1vZGVsVmFsdWUubGVuZ3RoID49IHByb3BzLm1heFZhbHVlcykge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgbW9kZWwgPSBwcm9wcy5tb2RlbFZhbHVlLnNsaWNlKClcblxuICAgICAgZW1pdCgnYWRkJywgeyBpbmRleDogbW9kZWwubGVuZ3RoLCB2YWx1ZTogdmFsIH0pXG4gICAgICBtb2RlbC5wdXNoKHZhbClcbiAgICAgIGVtaXQoJ3VwZGF0ZTptb2RlbFZhbHVlJywgbW9kZWwpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9nZ2xlT3B0aW9uIChvcHQsIGtlZXBPcGVuKSB7XG4gICAgICBpZiAoc3RhdGUuZWRpdGFibGUudmFsdWUgIT09IHRydWUgfHwgb3B0ID09PSB2b2lkIDAgfHwgaXNPcHRpb25EaXNhYmxlZC52YWx1ZShvcHQpID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCBvcHRWYWx1ZSA9IGdldE9wdGlvblZhbHVlLnZhbHVlKG9wdClcblxuICAgICAgaWYgKHByb3BzLm11bHRpcGxlICE9PSB0cnVlKSB7XG4gICAgICAgIGlmIChrZWVwT3BlbiAhPT0gdHJ1ZSkge1xuICAgICAgICAgIHVwZGF0ZUlucHV0VmFsdWUoXG4gICAgICAgICAgICBwcm9wcy5maWxsSW5wdXQgPT09IHRydWUgPyBnZXRPcHRpb25MYWJlbC52YWx1ZShvcHQpIDogJycsXG4gICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgIClcblxuICAgICAgICAgIGhpZGVQb3B1cCgpXG4gICAgICAgIH1cblxuICAgICAgICB0YXJnZXRSZWYudmFsdWUgIT09IG51bGwgJiYgdGFyZ2V0UmVmLnZhbHVlLmZvY3VzKClcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgaW5uZXJWYWx1ZS52YWx1ZS5sZW5ndGggPT09IDBcbiAgICAgICAgICB8fCBpc0RlZXBFcXVhbChnZXRPcHRpb25WYWx1ZS52YWx1ZShpbm5lclZhbHVlLnZhbHVlWyAwIF0pLCBvcHRWYWx1ZSkgIT09IHRydWVcbiAgICAgICAgKSB7XG4gICAgICAgICAgZW1pdCgndXBkYXRlOm1vZGVsVmFsdWUnLCBwcm9wcy5lbWl0VmFsdWUgPT09IHRydWUgPyBvcHRWYWx1ZSA6IG9wdClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgKGhhc0RpYWxvZyAhPT0gdHJ1ZSB8fCBkaWFsb2dGaWVsZEZvY3VzZWQudmFsdWUgPT09IHRydWUpICYmIHN0YXRlLmZvY3VzKClcblxuICAgICAgc2VsZWN0SW5wdXRUZXh0KClcblxuICAgICAgaWYgKGlubmVyVmFsdWUudmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHByb3BzLmVtaXRWYWx1ZSA9PT0gdHJ1ZSA/IG9wdFZhbHVlIDogb3B0XG4gICAgICAgIGVtaXQoJ2FkZCcsIHsgaW5kZXg6IDAsIHZhbHVlOiB2YWwgfSlcbiAgICAgICAgZW1pdCgndXBkYXRlOm1vZGVsVmFsdWUnLCBwcm9wcy5tdWx0aXBsZSA9PT0gdHJ1ZSA/IFsgdmFsIF0gOiB2YWwpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdFxuICAgICAgICBtb2RlbCA9IHByb3BzLm1vZGVsVmFsdWUuc2xpY2UoKSxcbiAgICAgICAgaW5kZXggPSBpbm5lck9wdGlvbnNWYWx1ZS52YWx1ZS5maW5kSW5kZXgodiA9PiBpc0RlZXBFcXVhbCh2LCBvcHRWYWx1ZSkpXG5cbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIGVtaXQoJ3JlbW92ZScsIHsgaW5kZXgsIHZhbHVlOiBtb2RlbC5zcGxpY2UoaW5kZXgsIDEpWyAwIF0gfSlcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAocHJvcHMubWF4VmFsdWVzICE9PSB2b2lkIDAgJiYgbW9kZWwubGVuZ3RoID49IHByb3BzLm1heFZhbHVlcykge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdmFsID0gcHJvcHMuZW1pdFZhbHVlID09PSB0cnVlID8gb3B0VmFsdWUgOiBvcHRcblxuICAgICAgICBlbWl0KCdhZGQnLCB7IGluZGV4OiBtb2RlbC5sZW5ndGgsIHZhbHVlOiB2YWwgfSlcbiAgICAgICAgbW9kZWwucHVzaCh2YWwpXG4gICAgICB9XG5cbiAgICAgIGVtaXQoJ3VwZGF0ZTptb2RlbFZhbHVlJywgbW9kZWwpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0T3B0aW9uSW5kZXggKGluZGV4KSB7XG4gICAgICBpZiAoJHEucGxhdGZvcm0uaXMuZGVza3RvcCAhPT0gdHJ1ZSkgeyByZXR1cm4gfVxuXG4gICAgICBjb25zdCB2YWwgPSBpbmRleCA+IC0xICYmIGluZGV4IDwgdmlydHVhbFNjcm9sbExlbmd0aC52YWx1ZVxuICAgICAgICA/IGluZGV4XG4gICAgICAgIDogLTFcblxuICAgICAgaWYgKG9wdGlvbkluZGV4LnZhbHVlICE9PSB2YWwpIHtcbiAgICAgICAgb3B0aW9uSW5kZXgudmFsdWUgPSB2YWxcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb3ZlT3B0aW9uU2VsZWN0aW9uIChvZmZzZXQgPSAxLCBza2lwSW5wdXRWYWx1ZSkge1xuICAgICAgaWYgKG1lbnUudmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gb3B0aW9uSW5kZXgudmFsdWVcbiAgICAgICAgZG8ge1xuICAgICAgICAgIGluZGV4ID0gbm9ybWFsaXplVG9JbnRlcnZhbChcbiAgICAgICAgICAgIGluZGV4ICsgb2Zmc2V0LFxuICAgICAgICAgICAgLTEsXG4gICAgICAgICAgICB2aXJ0dWFsU2Nyb2xsTGVuZ3RoLnZhbHVlIC0gMVxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoaW5kZXggIT09IC0xICYmIGluZGV4ICE9PSBvcHRpb25JbmRleC52YWx1ZSAmJiBpc09wdGlvbkRpc2FibGVkLnZhbHVlKHByb3BzLm9wdGlvbnNbIGluZGV4IF0pID09PSB0cnVlKVxuXG4gICAgICAgIGlmIChvcHRpb25JbmRleC52YWx1ZSAhPT0gaW5kZXgpIHtcbiAgICAgICAgICBzZXRPcHRpb25JbmRleChpbmRleClcbiAgICAgICAgICBzY3JvbGxUbyhpbmRleClcblxuICAgICAgICAgIGlmIChza2lwSW5wdXRWYWx1ZSAhPT0gdHJ1ZSAmJiBwcm9wcy51c2VJbnB1dCA9PT0gdHJ1ZSAmJiBwcm9wcy5maWxsSW5wdXQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHNldElucHV0VmFsdWUoaW5kZXggPj0gMFxuICAgICAgICAgICAgICA/IGdldE9wdGlvbkxhYmVsLnZhbHVlKHByb3BzLm9wdGlvbnNbIGluZGV4IF0pXG4gICAgICAgICAgICAgIDogZGVmYXVsdElucHV0VmFsdWVcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRPcHRpb24gKHZhbHVlLCB2YWx1ZUNhY2hlKSB7XG4gICAgICBjb25zdCBmbiA9IG9wdCA9PiBpc0RlZXBFcXVhbChnZXRPcHRpb25WYWx1ZS52YWx1ZShvcHQpLCB2YWx1ZSlcbiAgICAgIHJldHVybiBwcm9wcy5vcHRpb25zLmZpbmQoZm4pIHx8IHZhbHVlQ2FjaGUuZmluZChmbikgfHwgdmFsdWVcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRQcm9wVmFsdWVGbiAocHJvcFZhbHVlLCBkZWZhdWx0VmFsKSB7XG4gICAgICBjb25zdCB2YWwgPSBwcm9wVmFsdWUgIT09IHZvaWQgMFxuICAgICAgICA/IHByb3BWYWx1ZVxuICAgICAgICA6IGRlZmF1bHRWYWxcblxuICAgICAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyB2YWxcbiAgICAgICAgOiBvcHQgPT4gKG9wdCAhPT0gbnVsbCAmJiB0eXBlb2Ygb3B0ID09PSAnb2JqZWN0JyAmJiB2YWwgaW4gb3B0ID8gb3B0WyB2YWwgXSA6IG9wdClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc09wdGlvblNlbGVjdGVkIChvcHQpIHtcbiAgICAgIGNvbnN0IHZhbCA9IGdldE9wdGlvblZhbHVlLnZhbHVlKG9wdClcbiAgICAgIHJldHVybiBpbm5lck9wdGlvbnNWYWx1ZS52YWx1ZS5maW5kKHYgPT4gaXNEZWVwRXF1YWwodiwgdmFsKSkgIT09IHZvaWQgMFxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNlbGVjdElucHV0VGV4dCAoZSkge1xuICAgICAgaWYgKFxuICAgICAgICBwcm9wcy51c2VJbnB1dCA9PT0gdHJ1ZVxuICAgICAgICAmJiB0YXJnZXRSZWYudmFsdWUgIT09IG51bGxcbiAgICAgICAgJiYgKGUgPT09IHZvaWQgMCB8fCAodGFyZ2V0UmVmLnZhbHVlID09PSBlLnRhcmdldCAmJiBlLnRhcmdldC52YWx1ZSA9PT0gc2VsZWN0ZWRTdHJpbmcudmFsdWUpKVxuICAgICAgKSB7XG4gICAgICAgIHRhcmdldFJlZi52YWx1ZS5zZWxlY3QoKVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uVGFyZ2V0S2V5dXAgKGUpIHtcbiAgICAgIC8vIGlmIEVTQyBhbmQgd2UgaGF2ZSBhbiBvcGVuZWQgbWVudVxuICAgICAgLy8gdGhlbiBzdG9wIHByb3BhZ2F0aW9uIChtaWdodCBiZSBjYXVnaHQgYnkgYSBRRGlhbG9nXG4gICAgICAvLyBhbmQgc28gaXQgd2lsbCBhbHNvIGNsb3NlIHRoZSBRRGlhbG9nLCB3aGljaCBpcyB3cm9uZylcbiAgICAgIGlmIChpc0tleUNvZGUoZSwgMjcpID09PSB0cnVlICYmIG1lbnUudmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgc3RvcChlKVxuICAgICAgICAvLyBvbiBFU0Mgd2UgbmVlZCB0byBjbG9zZSB0aGUgZGlhbG9nIGFsc29cbiAgICAgICAgaGlkZVBvcHVwKClcbiAgICAgICAgcmVzZXRJbnB1dFZhbHVlKClcbiAgICAgIH1cblxuICAgICAgZW1pdCgna2V5dXAnLCBlKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uVGFyZ2V0QXV0b2NvbXBsZXRlIChlKSB7XG4gICAgICBjb25zdCB7IHZhbHVlIH0gPSBlLnRhcmdldFxuXG4gICAgICBpZiAoZS5rZXlDb2RlICE9PSB2b2lkIDApIHtcbiAgICAgICAgb25UYXJnZXRLZXl1cChlKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgZS50YXJnZXQudmFsdWUgPSAnJ1xuICAgICAgY2xlYXJUaW1lb3V0KGlucHV0VGltZXIpXG4gICAgICByZXNldElucHV0VmFsdWUoKVxuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiB2YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IG5lZWRsZSA9IHZhbHVlLnRvTG9jYWxlTG93ZXJDYXNlKClcbiAgICAgICAgY29uc3QgZmluZEZuID0gZXh0cmFjdEZuID0+IHtcbiAgICAgICAgICBjb25zdCBvcHRpb24gPSBwcm9wcy5vcHRpb25zLmZpbmQob3B0ID0+IGV4dHJhY3RGbi52YWx1ZShvcHQpLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IG5lZWRsZSlcblxuICAgICAgICAgIGlmIChvcHRpb24gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlubmVyVmFsdWUudmFsdWUuaW5kZXhPZihvcHRpb24pID09PSAtMSkge1xuICAgICAgICAgICAgdG9nZ2xlT3B0aW9uKG9wdGlvbilcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoaWRlUG9wdXAoKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmlsbEZuID0gYWZ0ZXJGaWx0ZXIgPT4ge1xuICAgICAgICAgIGlmIChmaW5kRm4oZ2V0T3B0aW9uVmFsdWUpID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGZpbmRGbihnZXRPcHRpb25MYWJlbCkgPT09IHRydWUgfHwgYWZ0ZXJGaWx0ZXIgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZpbHRlcih2YWx1ZSwgdHJ1ZSwgKCkgPT4gZmlsbEZuKHRydWUpKVxuICAgICAgICB9XG5cbiAgICAgICAgZmlsbEZuKClcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzdGF0ZS5jbGVhclZhbHVlKGUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25UYXJnZXRLZXlwcmVzcyAoZSkge1xuICAgICAgZW1pdCgna2V5cHJlc3MnLCBlKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uVGFyZ2V0S2V5ZG93biAoZSkge1xuICAgICAgZW1pdCgna2V5ZG93bicsIGUpXG5cbiAgICAgIGlmIChzaG91bGRJZ25vcmVLZXkoZSkgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5ld1ZhbHVlTW9kZVZhbGlkID0gaW5wdXRWYWx1ZS52YWx1ZS5sZW5ndGggPiAwXG4gICAgICAgICYmIChwcm9wcy5uZXdWYWx1ZU1vZGUgIT09IHZvaWQgMCB8fCBwcm9wcy5vbk5ld1ZhbHVlICE9PSB2b2lkIDApXG5cbiAgICAgIGNvbnN0IHRhYlNob3VsZFNlbGVjdCA9IGUuc2hpZnRLZXkgIT09IHRydWVcbiAgICAgICAgJiYgcHJvcHMubXVsdGlwbGUgIT09IHRydWVcbiAgICAgICAgJiYgKG9wdGlvbkluZGV4LnZhbHVlID4gLTEgfHwgbmV3VmFsdWVNb2RlVmFsaWQgPT09IHRydWUpXG5cbiAgICAgIC8vIGVzY2FwZVxuICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMjcpIHtcbiAgICAgICAgcHJldmVudChlKSAvLyBwcmV2ZW50IGNsZWFyaW5nIHRoZSBpbnB1dFZhbHVlXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICAvLyB0YWJcbiAgICAgIGlmIChlLmtleUNvZGUgPT09IDkgJiYgdGFiU2hvdWxkU2VsZWN0ID09PSBmYWxzZSkge1xuICAgICAgICBjbG9zZU1lbnUoKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKGUudGFyZ2V0ID09PSB2b2lkIDAgfHwgZS50YXJnZXQuaWQgIT09IHN0YXRlLnRhcmdldFVpZC52YWx1ZSkgeyByZXR1cm4gfVxuXG4gICAgICAvLyBkb3duXG4gICAgICBpZiAoXG4gICAgICAgIGUua2V5Q29kZSA9PT0gNDBcbiAgICAgICAgJiYgc3RhdGUuaW5uZXJMb2FkaW5nLnZhbHVlICE9PSB0cnVlXG4gICAgICAgICYmIG1lbnUudmFsdWUgPT09IGZhbHNlXG4gICAgICApIHtcbiAgICAgICAgc3RvcEFuZFByZXZlbnQoZSlcbiAgICAgICAgc2hvd1BvcHVwKClcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIC8vIGJhY2tzcGFjZVxuICAgICAgaWYgKFxuICAgICAgICBlLmtleUNvZGUgPT09IDhcbiAgICAgICAgJiYgcHJvcHMuaGlkZVNlbGVjdGVkICE9PSB0cnVlXG4gICAgICAgICYmIGlucHV0VmFsdWUudmFsdWUubGVuZ3RoID09PSAwXG4gICAgICApIHtcbiAgICAgICAgaWYgKHByb3BzLm11bHRpcGxlID09PSB0cnVlICYmIEFycmF5LmlzQXJyYXkocHJvcHMubW9kZWxWYWx1ZSkgPT09IHRydWUpIHtcbiAgICAgICAgICByZW1vdmVBdEluZGV4KHByb3BzLm1vZGVsVmFsdWUubGVuZ3RoIC0gMSlcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm9wcy5tdWx0aXBsZSAhPT0gdHJ1ZSAmJiBwcm9wcy5tb2RlbFZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgZW1pdCgndXBkYXRlOm1vZGVsVmFsdWUnLCBudWxsKVxuICAgICAgICB9XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICAvLyBob21lLCBlbmQgLSAzNiwgMzVcbiAgICAgIGlmIChcbiAgICAgICAgKGUua2V5Q29kZSA9PT0gMzUgfHwgZS5rZXlDb2RlID09PSAzNilcbiAgICAgICAgJiYgKHR5cGVvZiBpbnB1dFZhbHVlLnZhbHVlICE9PSAnc3RyaW5nJyB8fCBpbnB1dFZhbHVlLnZhbHVlLmxlbmd0aCA9PT0gMClcbiAgICAgICkge1xuICAgICAgICBzdG9wQW5kUHJldmVudChlKVxuICAgICAgICBvcHRpb25JbmRleC52YWx1ZSA9IC0xXG4gICAgICAgIG1vdmVPcHRpb25TZWxlY3Rpb24oZS5rZXlDb2RlID09PSAzNiA/IDEgOiAtMSwgcHJvcHMubXVsdGlwbGUpXG4gICAgICB9XG5cbiAgICAgIC8vIHBnIHVwLCBwZyBkb3duIC0gMzMsIDM0XG4gICAgICBpZiAoXG4gICAgICAgIChlLmtleUNvZGUgPT09IDMzIHx8IGUua2V5Q29kZSA9PT0gMzQpXG4gICAgICAgICYmIHZpcnR1YWxTY3JvbGxTbGljZVNpemVDb21wdXRlZC52YWx1ZSAhPT0gdm9pZCAwXG4gICAgICApIHtcbiAgICAgICAgc3RvcEFuZFByZXZlbnQoZSlcbiAgICAgICAgb3B0aW9uSW5kZXgudmFsdWUgPSBNYXRoLm1heChcbiAgICAgICAgICAtMSxcbiAgICAgICAgICBNYXRoLm1pbihcbiAgICAgICAgICAgIHZpcnR1YWxTY3JvbGxMZW5ndGgudmFsdWUsXG4gICAgICAgICAgICBvcHRpb25JbmRleC52YWx1ZSArIChlLmtleUNvZGUgPT09IDMzID8gLTEgOiAxKSAqIHZpcnR1YWxTY3JvbGxTbGljZVNpemVDb21wdXRlZC52YWx1ZS52aWV3XG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICAgIG1vdmVPcHRpb25TZWxlY3Rpb24oZS5rZXlDb2RlID09PSAzMyA/IDEgOiAtMSwgcHJvcHMubXVsdGlwbGUpXG4gICAgICB9XG5cbiAgICAgIC8vIHVwLCBkb3duXG4gICAgICBpZiAoZS5rZXlDb2RlID09PSAzOCB8fCBlLmtleUNvZGUgPT09IDQwKSB7XG4gICAgICAgIHN0b3BBbmRQcmV2ZW50KGUpXG4gICAgICAgIG1vdmVPcHRpb25TZWxlY3Rpb24oZS5rZXlDb2RlID09PSAzOCA/IC0xIDogMSwgcHJvcHMubXVsdGlwbGUpXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG9wdGlvbnNMZW5ndGggPSB2aXJ0dWFsU2Nyb2xsTGVuZ3RoLnZhbHVlXG5cbiAgICAgIC8vIGNsZWFyIHNlYXJjaCBidWZmZXIgaWYgZXhwaXJlZFxuICAgICAgaWYgKHNlYXJjaEJ1ZmZlciA9PT0gdm9pZCAwIHx8IHNlYXJjaEJ1ZmZlckV4cCA8IERhdGUubm93KCkpIHtcbiAgICAgICAgc2VhcmNoQnVmZmVyID0gJydcbiAgICAgIH1cblxuICAgICAgLy8ga2V5Ym9hcmQgc2VhcmNoIHdoZW4gbm90IGhhdmluZyB1c2UtaW5wdXRcbiAgICAgIGlmIChcbiAgICAgICAgb3B0aW9uc0xlbmd0aCA+IDBcbiAgICAgICAgJiYgcHJvcHMudXNlSW5wdXQgIT09IHRydWVcbiAgICAgICAgJiYgZS5rZXkgIT09IHZvaWQgMFxuICAgICAgICAmJiBlLmtleS5sZW5ndGggPT09IDEgLy8gcHJpbnRhYmxlIGNoYXJcbiAgICAgICAgJiYgZS5hbHRLZXkgPT09IGUuY3RybEtleSAvLyBub3Qga2JkIHNob3J0Y3V0XG4gICAgICAgICYmIChlLmtleUNvZGUgIT09IDMyIHx8IHNlYXJjaEJ1ZmZlci5sZW5ndGggPiAwKSAvLyBzcGFjZSBpbiBtaWRkbGUgb2Ygc2VhcmNoXG4gICAgICApIHtcbiAgICAgICAgbWVudS52YWx1ZSAhPT0gdHJ1ZSAmJiBzaG93UG9wdXAoZSlcblxuICAgICAgICBjb25zdFxuICAgICAgICAgIGNoYXIgPSBlLmtleS50b0xvY2FsZUxvd2VyQ2FzZSgpLFxuICAgICAgICAgIGtleVJlcGVhdCA9IHNlYXJjaEJ1ZmZlci5sZW5ndGggPT09IDEgJiYgc2VhcmNoQnVmZmVyWyAwIF0gPT09IGNoYXJcblxuICAgICAgICBzZWFyY2hCdWZmZXJFeHAgPSBEYXRlLm5vdygpICsgMTUwMFxuICAgICAgICBpZiAoa2V5UmVwZWF0ID09PSBmYWxzZSkge1xuICAgICAgICAgIHN0b3BBbmRQcmV2ZW50KGUpXG4gICAgICAgICAgc2VhcmNoQnVmZmVyICs9IGNoYXJcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNlYXJjaFJlID0gbmV3IFJlZ0V4cCgnXicgKyBzZWFyY2hCdWZmZXIuc3BsaXQoJycpLm1hcChsID0+IChyZUVzY2FwZUxpc3QuaW5kZXhPZihsKSA+IC0xID8gJ1xcXFwnICsgbCA6IGwpKS5qb2luKCcuKicpLCAnaScpXG5cbiAgICAgICAgbGV0IGluZGV4ID0gb3B0aW9uSW5kZXgudmFsdWVcblxuICAgICAgICBpZiAoa2V5UmVwZWF0ID09PSB0cnVlIHx8IGluZGV4IDwgMCB8fCBzZWFyY2hSZS50ZXN0KGdldE9wdGlvbkxhYmVsLnZhbHVlKHByb3BzLm9wdGlvbnNbIGluZGV4IF0pKSAhPT0gdHJ1ZSkge1xuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIGluZGV4ID0gbm9ybWFsaXplVG9JbnRlcnZhbChpbmRleCArIDEsIC0xLCBvcHRpb25zTGVuZ3RoIC0gMSlcbiAgICAgICAgICB9XG4gICAgICAgICAgd2hpbGUgKGluZGV4ICE9PSBvcHRpb25JbmRleC52YWx1ZSAmJiAoXG4gICAgICAgICAgICBpc09wdGlvbkRpc2FibGVkLnZhbHVlKHByb3BzLm9wdGlvbnNbIGluZGV4IF0pID09PSB0cnVlXG4gICAgICAgICAgICB8fCBzZWFyY2hSZS50ZXN0KGdldE9wdGlvbkxhYmVsLnZhbHVlKHByb3BzLm9wdGlvbnNbIGluZGV4IF0pKSAhPT0gdHJ1ZVxuICAgICAgICAgICkpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9uSW5kZXgudmFsdWUgIT09IGluZGV4KSB7XG4gICAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgc2V0T3B0aW9uSW5kZXgoaW5kZXgpXG4gICAgICAgICAgICBzY3JvbGxUbyhpbmRleClcblxuICAgICAgICAgICAgaWYgKGluZGV4ID49IDAgJiYgcHJvcHMudXNlSW5wdXQgPT09IHRydWUgJiYgcHJvcHMuZmlsbElucHV0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgIHNldElucHV0VmFsdWUoZ2V0T3B0aW9uTGFiZWwudmFsdWUocHJvcHMub3B0aW9uc1sgaW5kZXggXSkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICAvLyBlbnRlciwgc3BhY2UgKHdoZW4gbm90IHVzaW5nIHVzZS1pbnB1dCBhbmQgbm90IGluIHNlYXJjaCksIG9yIHRhYiAod2hlbiBub3QgdXNpbmcgbXVsdGlwbGUgYW5kIG9wdGlvbiBzZWxlY3RlZClcbiAgICAgIC8vIHNhbWUgdGFyZ2V0IGlzIGNoZWNrZWQgYWJvdmVcbiAgICAgIGlmIChcbiAgICAgICAgZS5rZXlDb2RlICE9PSAxM1xuICAgICAgICAmJiAoZS5rZXlDb2RlICE9PSAzMiB8fCBwcm9wcy51c2VJbnB1dCA9PT0gdHJ1ZSB8fCBzZWFyY2hCdWZmZXIgIT09ICcnKVxuICAgICAgICAmJiAoZS5rZXlDb2RlICE9PSA5IHx8IHRhYlNob3VsZFNlbGVjdCA9PT0gZmFsc2UpXG4gICAgICApIHsgcmV0dXJuIH1cblxuICAgICAgZS5rZXlDb2RlICE9PSA5ICYmIHN0b3BBbmRQcmV2ZW50KGUpXG5cbiAgICAgIGlmIChvcHRpb25JbmRleC52YWx1ZSA+IC0xICYmIG9wdGlvbkluZGV4LnZhbHVlIDwgb3B0aW9uc0xlbmd0aCkge1xuICAgICAgICB0b2dnbGVPcHRpb24ocHJvcHMub3B0aW9uc1sgb3B0aW9uSW5kZXgudmFsdWUgXSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGlmIChuZXdWYWx1ZU1vZGVWYWxpZCA9PT0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBkb25lID0gKHZhbCwgbW9kZSkgPT4ge1xuICAgICAgICAgIGlmIChtb2RlKSB7XG4gICAgICAgICAgICBpZiAodmFsaWRhdGVOZXdWYWx1ZU1vZGUobW9kZSkgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbW9kZSA9IHByb3BzLm5ld1ZhbHVlTW9kZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh2YWwgPT09IHZvaWQgMCB8fCB2YWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cblxuICAgICAgICAgIHVwZGF0ZUlucHV0VmFsdWUoJycsIHByb3BzLm11bHRpcGxlICE9PSB0cnVlLCB0cnVlKVxuXG4gICAgICAgICAgY29uc3QgZm4gPSBtb2RlID09PSAndG9nZ2xlJyA/IHRvZ2dsZU9wdGlvbiA6IGFkZFxuICAgICAgICAgIGZuKHZhbCwgbW9kZSA9PT0gJ2FkZC11bmlxdWUnKVxuXG4gICAgICAgICAgaWYgKHByb3BzLm11bHRpcGxlICE9PSB0cnVlKSB7XG4gICAgICAgICAgICB0YXJnZXRSZWYudmFsdWUgIT09IG51bGwgJiYgdGFyZ2V0UmVmLnZhbHVlLmZvY3VzKClcbiAgICAgICAgICAgIGhpZGVQb3B1cCgpXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb3BzLm9uTmV3VmFsdWUgIT09IHZvaWQgMCkge1xuICAgICAgICAgIGVtaXQoJ25ldy12YWx1ZScsIGlucHV0VmFsdWUudmFsdWUsIGRvbmUpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZG9uZShpbnB1dFZhbHVlLnZhbHVlKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb3BzLm11bHRpcGxlICE9PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG1lbnUudmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgY2xvc2VNZW51KClcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHN0YXRlLmlubmVyTG9hZGluZy52YWx1ZSAhPT0gdHJ1ZSkge1xuICAgICAgICBzaG93UG9wdXAoKVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFZpcnR1YWxTY3JvbGxFbCAoKSB7XG4gICAgICByZXR1cm4gaGFzRGlhbG9nID09PSB0cnVlXG4gICAgICAgID8gbWVudUNvbnRlbnRSZWYudmFsdWVcbiAgICAgICAgOiAoXG4gICAgICAgICAgICBtZW51UmVmLnZhbHVlICE9PSBudWxsICYmIG1lbnVSZWYudmFsdWUuX19xUG9ydGFsSW5uZXJSZWYudmFsdWUgIT09IG51bGxcbiAgICAgICAgICAgICAgPyBtZW51UmVmLnZhbHVlLl9fcVBvcnRhbElubmVyUmVmLnZhbHVlXG4gICAgICAgICAgICAgIDogdm9pZCAwXG4gICAgICAgICAgKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFZpcnR1YWxTY3JvbGxUYXJnZXQgKCkge1xuICAgICAgcmV0dXJuIGdldFZpcnR1YWxTY3JvbGxFbCgpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2VsZWN0aW9uICgpIHtcbiAgICAgIGlmIChwcm9wcy5oaWRlU2VsZWN0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIFtdXG4gICAgICB9XG5cbiAgICAgIGlmIChzbG90c1sgJ3NlbGVjdGVkLWl0ZW0nIF0gIT09IHZvaWQgMCkge1xuICAgICAgICByZXR1cm4gc2VsZWN0ZWRTY29wZS52YWx1ZS5tYXAoc2NvcGUgPT4gc2xvdHNbICdzZWxlY3RlZC1pdGVtJyBdKHNjb3BlKSkuc2xpY2UoKVxuICAgICAgfVxuXG4gICAgICBpZiAoc2xvdHMuc2VsZWN0ZWQgIT09IHZvaWQgMCkge1xuICAgICAgICByZXR1cm4gW10uY29uY2F0KHNsb3RzLnNlbGVjdGVkKCkpXG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9wcy51c2VDaGlwcyA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gc2VsZWN0ZWRTY29wZS52YWx1ZS5tYXAoKHNjb3BlLCBpKSA9PiBoKFFDaGlwLCB7XG4gICAgICAgICAga2V5OiAnb3B0aW9uLScgKyBpLFxuICAgICAgICAgIHJlbW92YWJsZTogc3RhdGUuZWRpdGFibGUudmFsdWUgPT09IHRydWUgJiYgaXNPcHRpb25EaXNhYmxlZC52YWx1ZShzY29wZS5vcHQpICE9PSB0cnVlLFxuICAgICAgICAgIGRlbnNlOiB0cnVlLFxuICAgICAgICAgIHRleHRDb2xvcjogcHJvcHMuY29sb3IsXG4gICAgICAgICAgdGFiaW5kZXg6IHRhYmluZGV4LnZhbHVlLFxuICAgICAgICAgIG9uUmVtb3ZlICgpIHsgc2NvcGUucmVtb3ZlQXRJbmRleChpKSB9XG4gICAgICAgIH0sICgpID0+IGgoJ3NwYW4nLCB7XG4gICAgICAgICAgY2xhc3M6ICdlbGxpcHNpcycsXG4gICAgICAgICAgWyBzY29wZS5odG1sID09PSB0cnVlID8gJ2lubmVySFRNTCcgOiAndGV4dENvbnRlbnQnIF06IGdldE9wdGlvbkxhYmVsLnZhbHVlKHNjb3BlLm9wdClcbiAgICAgICAgfSkpKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gW1xuICAgICAgICBoKCdzcGFuJywge1xuICAgICAgICAgIFsgdmFsdWVBc0h0bWwudmFsdWUgPT09IHRydWUgPyAnaW5uZXJIVE1MJyA6ICd0ZXh0Q29udGVudCcgXTogcHJvcHMuZGlzcGxheVZhbHVlICE9PSB2b2lkIDBcbiAgICAgICAgICAgID8gcHJvcHMuZGlzcGxheVZhbHVlXG4gICAgICAgICAgICA6IHNlbGVjdGVkU3RyaW5nLnZhbHVlXG4gICAgICAgIH0pXG4gICAgICBdXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0QWxsT3B0aW9ucyAoKSB7XG4gICAgICBpZiAobm9PcHRpb25zLnZhbHVlID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBzbG90c1sgJ25vLW9wdGlvbicgXSAhPT0gdm9pZCAwXG4gICAgICAgICAgPyBzbG90c1sgJ25vLW9wdGlvbicgXSh7IGlucHV0VmFsdWU6IGlucHV0VmFsdWUudmFsdWUgfSlcbiAgICAgICAgICA6IHZvaWQgMFxuICAgICAgfVxuXG4gICAgICBjb25zdCBmbiA9IHNsb3RzLm9wdGlvbiAhPT0gdm9pZCAwXG4gICAgICAgID8gc2xvdHMub3B0aW9uXG4gICAgICAgIDogc2NvcGUgPT4ge1xuICAgICAgICAgIHJldHVybiBoKFFJdGVtLCB7XG4gICAgICAgICAgICBrZXk6IHNjb3BlLmluZGV4LFxuICAgICAgICAgICAgLi4uc2NvcGUuaXRlbVByb3BzXG4gICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGgoXG4gICAgICAgICAgICAgIFFJdGVtU2VjdGlvbixcbiAgICAgICAgICAgICAgKCkgPT4gaChcbiAgICAgICAgICAgICAgICBRSXRlbUxhYmVsLFxuICAgICAgICAgICAgICAgICgpID0+IGgoJ3NwYW4nLCB7XG4gICAgICAgICAgICAgICAgICBbIHNjb3BlLmh0bWwgPT09IHRydWUgPyAnaW5uZXJIVE1MJyA6ICd0ZXh0Q29udGVudCcgXTogc2NvcGUubGFiZWxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICBsZXQgb3B0aW9ucyA9IHBhZFZpcnR1YWxTY3JvbGwoJ2RpdicsIG9wdGlvblNjb3BlLnZhbHVlLm1hcChmbikpXG5cbiAgICAgIGlmIChzbG90c1sgJ2JlZm9yZS1vcHRpb25zJyBdICE9PSB2b2lkIDApIHtcbiAgICAgICAgb3B0aW9ucyA9IHNsb3RzWyAnYmVmb3JlLW9wdGlvbnMnIF0oKS5jb25jYXQob3B0aW9ucylcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGhNZXJnZVNsb3Qoc2xvdHNbICdhZnRlci1vcHRpb25zJyBdLCBvcHRpb25zKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldElucHV0IChmcm9tRGlhbG9nLCBpc1RhcmdldCkge1xuICAgICAgY29uc3QgYXR0cnMgPSBpc1RhcmdldCA9PT0gdHJ1ZSA/IHsgLi4uY29tYm9ib3hBdHRycy52YWx1ZSwgLi4uc3RhdGUuc3BsaXRBdHRycy5hdHRyaWJ1dGVzLnZhbHVlIH0gOiB2b2lkIDBcblxuICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgcmVmOiBpc1RhcmdldCA9PT0gdHJ1ZSA/IHRhcmdldFJlZiA6IHZvaWQgMCxcbiAgICAgICAga2V5OiAnaV90JyxcbiAgICAgICAgY2xhc3M6IGNvbXB1dGVkSW5wdXRDbGFzcy52YWx1ZSxcbiAgICAgICAgc3R5bGU6IHByb3BzLmlucHV0U3R5bGUsXG4gICAgICAgIHZhbHVlOiBpbnB1dFZhbHVlLnZhbHVlICE9PSB2b2lkIDAgPyBpbnB1dFZhbHVlLnZhbHVlIDogJycsXG4gICAgICAgIC8vIHJlcXVpcmVkIGZvciBBbmRyb2lkIGluIG9yZGVyIHRvIHNob3cgRU5URVIga2V5IHdoZW4gaW4gZm9ybVxuICAgICAgICB0eXBlOiAnc2VhcmNoJyxcbiAgICAgICAgLi4uYXR0cnMsXG4gICAgICAgIGlkOiBpc1RhcmdldCA9PT0gdHJ1ZSA/IHN0YXRlLnRhcmdldFVpZC52YWx1ZSA6IHZvaWQgMCxcbiAgICAgICAgbWF4bGVuZ3RoOiBwcm9wcy5tYXhsZW5ndGgsXG4gICAgICAgIGF1dG9jb21wbGV0ZTogcHJvcHMuYXV0b2NvbXBsZXRlLFxuICAgICAgICAnZGF0YS1hdXRvZm9jdXMnOiAoZnJvbURpYWxvZyAhPT0gdHJ1ZSAmJiBwcm9wcy5hdXRvZm9jdXMgPT09IHRydWUpIHx8IHZvaWQgMCxcbiAgICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGUgPT09IHRydWUsXG4gICAgICAgIHJlYWRvbmx5OiBwcm9wcy5yZWFkb25seSA9PT0gdHJ1ZSxcbiAgICAgICAgLi4uaW5wdXRDb250cm9sRXZlbnRzLnZhbHVlXG4gICAgICB9XG5cbiAgICAgIGlmIChmcm9tRGlhbG9nICE9PSB0cnVlICYmIGhhc0RpYWxvZyA9PT0gdHJ1ZSkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhLmNsYXNzKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGRhdGEuY2xhc3MgPSBbIC4uLmRhdGEuY2xhc3MsICduby1wb2ludGVyLWV2ZW50cycgXVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRhdGEuY2xhc3MgKz0gJyBuby1wb2ludGVyLWV2ZW50cydcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gaCgnaW5wdXQnLCBkYXRhKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uSW5wdXQgKGUpIHtcbiAgICAgIGNsZWFyVGltZW91dChpbnB1dFRpbWVyKVxuXG4gICAgICBpZiAoZSAmJiBlLnRhcmdldCAmJiBlLnRhcmdldC5jb21wb3NpbmcgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIHNldElucHV0VmFsdWUoZS50YXJnZXQudmFsdWUgfHwgJycpXG4gICAgICAvLyBtYXJrIGl0IGhlcmUgYXMgdXNlciBpbnB1dCBzbyB0aGF0IGlmIHVwZGF0ZUlucHV0VmFsdWUgaXMgY2FsbGVkXG4gICAgICAvLyBiZWZvcmUgZmlsdGVyIGlzIGNhbGxlZCB0aGUgaW5kaWNhdG9yIGlzIHJlc2V0XG4gICAgICB1c2VySW5wdXRWYWx1ZSA9IHRydWVcbiAgICAgIGRlZmF1bHRJbnB1dFZhbHVlID0gaW5wdXRWYWx1ZS52YWx1ZVxuXG4gICAgICBpZiAoXG4gICAgICAgIHN0YXRlLmZvY3VzZWQudmFsdWUgIT09IHRydWVcbiAgICAgICAgJiYgKGhhc0RpYWxvZyAhPT0gdHJ1ZSB8fCBkaWFsb2dGaWVsZEZvY3VzZWQudmFsdWUgPT09IHRydWUpXG4gICAgICApIHtcbiAgICAgICAgc3RhdGUuZm9jdXMoKVxuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHMub25GaWx0ZXIgIT09IHZvaWQgMCkge1xuICAgICAgICBpbnB1dFRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgZmlsdGVyKGlucHV0VmFsdWUudmFsdWUpXG4gICAgICAgIH0sIHByb3BzLmlucHV0RGVib3VuY2UpXG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0SW5wdXRWYWx1ZSAodmFsKSB7XG4gICAgICBpZiAoaW5wdXRWYWx1ZS52YWx1ZSAhPT0gdmFsKSB7XG4gICAgICAgIGlucHV0VmFsdWUudmFsdWUgPSB2YWxcbiAgICAgICAgZW1pdCgnaW5wdXQtdmFsdWUnLCB2YWwpXG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXBkYXRlSW5wdXRWYWx1ZSAodmFsLCBub0ZpbHRlcmluZywgaW50ZXJuYWwpIHtcbiAgICAgIHVzZXJJbnB1dFZhbHVlID0gaW50ZXJuYWwgIT09IHRydWVcblxuICAgICAgaWYgKHByb3BzLnVzZUlucHV0ID09PSB0cnVlKSB7XG4gICAgICAgIHNldElucHV0VmFsdWUodmFsKVxuXG4gICAgICAgIGlmIChub0ZpbHRlcmluZyA9PT0gdHJ1ZSB8fCBpbnRlcm5hbCAhPT0gdHJ1ZSkge1xuICAgICAgICAgIGRlZmF1bHRJbnB1dFZhbHVlID0gdmFsXG4gICAgICAgIH1cblxuICAgICAgICBub0ZpbHRlcmluZyAhPT0gdHJ1ZSAmJiBmaWx0ZXIodmFsKVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbHRlciAodmFsLCBrZWVwQ2xvc2VkLCBhZnRlclVwZGF0ZUZuKSB7XG4gICAgICBpZiAocHJvcHMub25GaWx0ZXIgPT09IHZvaWQgMCB8fCAoa2VlcENsb3NlZCAhPT0gdHJ1ZSAmJiBzdGF0ZS5mb2N1c2VkLnZhbHVlICE9PSB0cnVlKSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlLmlubmVyTG9hZGluZy52YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICBlbWl0KCdmaWx0ZXItYWJvcnQnKVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHN0YXRlLmlubmVyTG9hZGluZy52YWx1ZSA9IHRydWVcbiAgICAgICAgaW5uZXJMb2FkaW5nSW5kaWNhdG9yLnZhbHVlID0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgIHZhbCAhPT0gJydcbiAgICAgICAgJiYgcHJvcHMubXVsdGlwbGUgIT09IHRydWVcbiAgICAgICAgJiYgaW5uZXJWYWx1ZS52YWx1ZS5sZW5ndGggPiAwXG4gICAgICAgICYmIHVzZXJJbnB1dFZhbHVlICE9PSB0cnVlXG4gICAgICAgICYmIHZhbCA9PT0gZ2V0T3B0aW9uTGFiZWwudmFsdWUoaW5uZXJWYWx1ZS52YWx1ZVsgMCBdKVxuICAgICAgKSB7XG4gICAgICAgIHZhbCA9ICcnXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGxvY2FsRmlsdGVySWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgbWVudS52YWx1ZSA9PT0gdHJ1ZSAmJiAobWVudS52YWx1ZSA9IGZhbHNlKVxuICAgICAgfSwgMTApXG5cbiAgICAgIGNsZWFyVGltZW91dChmaWx0ZXJJZClcbiAgICAgIGZpbHRlcklkID0gbG9jYWxGaWx0ZXJJZFxuXG4gICAgICBlbWl0KFxuICAgICAgICAnZmlsdGVyJyxcbiAgICAgICAgdmFsLFxuICAgICAgICAoZm4sIGFmdGVyRm4pID0+IHtcbiAgICAgICAgICBpZiAoKGtlZXBDbG9zZWQgPT09IHRydWUgfHwgc3RhdGUuZm9jdXNlZC52YWx1ZSA9PT0gdHJ1ZSkgJiYgZmlsdGVySWQgPT09IGxvY2FsRmlsdGVySWQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChmaWx0ZXJJZClcblxuICAgICAgICAgICAgdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nICYmIGZuKClcblxuICAgICAgICAgICAgLy8gaGlkZSBpbmRpY2F0b3IgdG8gYWxsb3cgYXJyb3cgdG8gYW5pbWF0ZVxuICAgICAgICAgICAgaW5uZXJMb2FkaW5nSW5kaWNhdG9yLnZhbHVlID0gZmFsc2VcblxuICAgICAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICBzdGF0ZS5pbm5lckxvYWRpbmcudmFsdWUgPSBmYWxzZVxuXG4gICAgICAgICAgICAgIGlmIChzdGF0ZS5lZGl0YWJsZS52YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChrZWVwQ2xvc2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICBtZW51LnZhbHVlID09PSB0cnVlICYmIGhpZGVQb3B1cCgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1lbnUudmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZU1lbnUodHJ1ZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICBtZW51LnZhbHVlID0gdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHR5cGVvZiBhZnRlckZuID09PSAnZnVuY3Rpb24nICYmIG5leHRUaWNrKCgpID0+IHsgYWZ0ZXJGbihwcm94eSkgfSlcbiAgICAgICAgICAgICAgdHlwZW9mIGFmdGVyVXBkYXRlRm4gPT09ICdmdW5jdGlvbicgJiYgbmV4dFRpY2soKCkgPT4geyBhZnRlclVwZGF0ZUZuKHByb3h5KSB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBpZiAoc3RhdGUuZm9jdXNlZC52YWx1ZSA9PT0gdHJ1ZSAmJiBmaWx0ZXJJZCA9PT0gbG9jYWxGaWx0ZXJJZCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGZpbHRlcklkKVxuICAgICAgICAgICAgc3RhdGUuaW5uZXJMb2FkaW5nLnZhbHVlID0gZmFsc2VcbiAgICAgICAgICAgIGlubmVyTG9hZGluZ0luZGljYXRvci52YWx1ZSA9IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICAgIG1lbnUudmFsdWUgPT09IHRydWUgJiYgKG1lbnUudmFsdWUgPSBmYWxzZSlcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldE1lbnUgKCkge1xuICAgICAgcmV0dXJuIGgoUU1lbnUsIHtcbiAgICAgICAgcmVmOiBtZW51UmVmLFxuICAgICAgICBjbGFzczogbWVudUNvbnRlbnRDbGFzcy52YWx1ZSxcbiAgICAgICAgc3R5bGU6IHByb3BzLnBvcHVwQ29udGVudFN0eWxlLFxuICAgICAgICBtb2RlbFZhbHVlOiBtZW51LnZhbHVlLFxuICAgICAgICBmaXQ6IHByb3BzLm1lbnVTaHJpbmsgIT09IHRydWUsXG4gICAgICAgIGNvdmVyOiBwcm9wcy5vcHRpb25zQ292ZXIgPT09IHRydWUgJiYgbm9PcHRpb25zLnZhbHVlICE9PSB0cnVlICYmIHByb3BzLnVzZUlucHV0ICE9PSB0cnVlLFxuICAgICAgICBhbmNob3I6IHByb3BzLm1lbnVBbmNob3IsXG4gICAgICAgIHNlbGY6IHByb3BzLm1lbnVTZWxmLFxuICAgICAgICBvZmZzZXQ6IHByb3BzLm1lbnVPZmZzZXQsXG4gICAgICAgIGRhcms6IGlzT3B0aW9uc0RhcmsudmFsdWUsXG4gICAgICAgIG5vUGFyZW50RXZlbnQ6IHRydWUsXG4gICAgICAgIG5vUmVmb2N1czogdHJ1ZSxcbiAgICAgICAgbm9Gb2N1czogdHJ1ZSxcbiAgICAgICAgc3F1YXJlOiBzcXVhcmVkTWVudS52YWx1ZSxcbiAgICAgICAgdHJhbnNpdGlvblNob3c6IHByb3BzLnRyYW5zaXRpb25TaG93LFxuICAgICAgICB0cmFuc2l0aW9uSGlkZTogcHJvcHMudHJhbnNpdGlvbkhpZGUsXG4gICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogcHJvcHMudHJhbnNpdGlvbkR1cmF0aW9uLFxuICAgICAgICBzZXBhcmF0ZUNsb3NlUG9wdXA6IHRydWUsXG4gICAgICAgIC4uLmxpc3Rib3hBdHRycy52YWx1ZSxcbiAgICAgICAgb25TY3JvbGxQYXNzaXZlOiBvblZpcnR1YWxTY3JvbGxFdnQsXG4gICAgICAgIG9uQmVmb3JlU2hvdzogb25Db250cm9sUG9wdXBTaG93LFxuICAgICAgICBvbkJlZm9yZUhpZGU6IG9uTWVudUJlZm9yZUhpZGUsXG4gICAgICAgIG9uU2hvdzogb25NZW51U2hvd1xuICAgICAgfSwgZ2V0QWxsT3B0aW9ucylcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1lbnVCZWZvcmVIaWRlIChlKSB7XG4gICAgICBvbkNvbnRyb2xQb3B1cEhpZGUoZSlcbiAgICAgIGNsb3NlTWVudSgpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25NZW51U2hvdyAoKSB7XG4gICAgICBzZXRWaXJ0dWFsU2Nyb2xsU2l6ZSgpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25EaWFsb2dGaWVsZEZvY3VzIChlKSB7XG4gICAgICBzdG9wKGUpXG4gICAgICB0YXJnZXRSZWYudmFsdWUgIT09IG51bGwgJiYgdGFyZ2V0UmVmLnZhbHVlLmZvY3VzKClcbiAgICAgIGRpYWxvZ0ZpZWxkRm9jdXNlZC52YWx1ZSA9IHRydWVcbiAgICAgIHdpbmRvdy5zY3JvbGxUbyh3aW5kb3cucGFnZVhPZmZzZXQgfHwgd2luZG93LnNjcm9sbFggfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0IHx8IDAsIDApXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25EaWFsb2dGaWVsZEJsdXIgKGUpIHtcbiAgICAgIHN0b3AoZSlcbiAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgZGlhbG9nRmllbGRGb2N1c2VkLnZhbHVlID0gZmFsc2VcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RGlhbG9nICgpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBbXG4gICAgICAgIGgoUUZpZWxkLCB7XG4gICAgICAgICAgY2xhc3M6IGBjb2wtYXV0byAkeyBzdGF0ZS5maWVsZENsYXNzLnZhbHVlIH1gLFxuICAgICAgICAgIC4uLmlubmVyRmllbGRQcm9wcy52YWx1ZSxcbiAgICAgICAgICBmb3I6IHN0YXRlLnRhcmdldFVpZC52YWx1ZSxcbiAgICAgICAgICBkYXJrOiBpc09wdGlvbnNEYXJrLnZhbHVlLFxuICAgICAgICAgIHNxdWFyZTogdHJ1ZSxcbiAgICAgICAgICBsb2FkaW5nOiBpbm5lckxvYWRpbmdJbmRpY2F0b3IudmFsdWUsXG4gICAgICAgICAgaXRlbUFsaWduZWQ6IGZhbHNlLFxuICAgICAgICAgIGZpbGxlZDogdHJ1ZSxcbiAgICAgICAgICBzdGFja0xhYmVsOiBpbnB1dFZhbHVlLnZhbHVlLmxlbmd0aCA+IDAsXG4gICAgICAgICAgLi4uc3RhdGUuc3BsaXRBdHRycy5saXN0ZW5lcnMudmFsdWUsXG4gICAgICAgICAgb25Gb2N1czogb25EaWFsb2dGaWVsZEZvY3VzLFxuICAgICAgICAgIG9uQmx1cjogb25EaWFsb2dGaWVsZEJsdXJcbiAgICAgICAgfSwge1xuICAgICAgICAgIC4uLnNsb3RzLFxuICAgICAgICAgIHJhd0NvbnRyb2w6ICgpID0+IHN0YXRlLmdldENvbnRyb2wodHJ1ZSksXG4gICAgICAgICAgYmVmb3JlOiB2b2lkIDAsXG4gICAgICAgICAgYWZ0ZXI6IHZvaWQgMFxuICAgICAgICB9KVxuICAgICAgXVxuXG4gICAgICBtZW51LnZhbHVlID09PSB0cnVlICYmIGNvbnRlbnQucHVzaChcbiAgICAgICAgaCgnZGl2Jywge1xuICAgICAgICAgIHJlZjogbWVudUNvbnRlbnRSZWYsXG4gICAgICAgICAgY2xhc3M6IG1lbnVDb250ZW50Q2xhc3MudmFsdWUgKyAnIHNjcm9sbCcsXG4gICAgICAgICAgc3R5bGU6IHByb3BzLnBvcHVwQ29udGVudFN0eWxlLFxuICAgICAgICAgIC4uLmxpc3Rib3hBdHRycy52YWx1ZSxcbiAgICAgICAgICBvbkNsaWNrOiBwcmV2ZW50LFxuICAgICAgICAgIG9uU2Nyb2xsUGFzc2l2ZTogb25WaXJ0dWFsU2Nyb2xsRXZ0XG4gICAgICAgIH0sIGdldEFsbE9wdGlvbnMoKSlcbiAgICAgIClcblxuICAgICAgcmV0dXJuIGgoUURpYWxvZywge1xuICAgICAgICByZWY6IGRpYWxvZ1JlZixcbiAgICAgICAgbW9kZWxWYWx1ZTogZGlhbG9nLnZhbHVlLFxuICAgICAgICBwb3NpdGlvbjogcHJvcHMudXNlSW5wdXQgPT09IHRydWUgPyAndG9wJyA6IHZvaWQgMCxcbiAgICAgICAgdHJhbnNpdGlvblNob3c6IHRyYW5zaXRpb25TaG93Q29tcHV0ZWQsXG4gICAgICAgIHRyYW5zaXRpb25IaWRlOiBwcm9wcy50cmFuc2l0aW9uSGlkZSxcbiAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uOiBwcm9wcy50cmFuc2l0aW9uRHVyYXRpb24sXG4gICAgICAgIG9uQmVmb3JlU2hvdzogb25Db250cm9sUG9wdXBTaG93LFxuICAgICAgICBvbkJlZm9yZUhpZGU6IG9uRGlhbG9nQmVmb3JlSGlkZSxcbiAgICAgICAgb25IaWRlOiBvbkRpYWxvZ0hpZGUsXG4gICAgICAgIG9uU2hvdzogb25EaWFsb2dTaG93XG4gICAgICB9LCAoKSA9PiBoKCdkaXYnLCB7XG4gICAgICAgIGNsYXNzOiAncS1zZWxlY3RfX2RpYWxvZydcbiAgICAgICAgICArIChpc09wdGlvbnNEYXJrLnZhbHVlID09PSB0cnVlID8gJyBxLXNlbGVjdF9fZGlhbG9nLS1kYXJrIHEtZGFyaycgOiAnJylcbiAgICAgICAgICArIChkaWFsb2dGaWVsZEZvY3VzZWQudmFsdWUgPT09IHRydWUgPyAnIHEtc2VsZWN0X19kaWFsb2ctLWZvY3VzZWQnIDogJycpXG4gICAgICB9LCBjb250ZW50KSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkRpYWxvZ0JlZm9yZUhpZGUgKGUpIHtcbiAgICAgIG9uQ29udHJvbFBvcHVwSGlkZShlKVxuXG4gICAgICBpZiAoZGlhbG9nUmVmLnZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgIGRpYWxvZ1JlZi52YWx1ZS5fX3VwZGF0ZVJlZm9jdXNUYXJnZXQoXG4gICAgICAgICAgc3RhdGUucm9vdFJlZi52YWx1ZS5xdWVyeVNlbGVjdG9yKCcucS1maWVsZF9fbmF0aXZlID4gW3RhYmluZGV4XTpsYXN0LWNoaWxkJylcbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICBzdGF0ZS5mb2N1c2VkLnZhbHVlID0gZmFsc2VcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkRpYWxvZ0hpZGUgKGUpIHtcbiAgICAgIGhpZGVQb3B1cCgpXG4gICAgICBzdGF0ZS5mb2N1c2VkLnZhbHVlID09PSBmYWxzZSAmJiBlbWl0KCdibHVyJywgZSlcbiAgICAgIHJlc2V0SW5wdXRWYWx1ZSgpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25EaWFsb2dTaG93ICgpIHtcbiAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudFxuICAgICAgaWYgKFxuICAgICAgICAoZWwgPT09IG51bGwgfHwgZWwuaWQgIT09IHN0YXRlLnRhcmdldFVpZC52YWx1ZSlcbiAgICAgICAgJiYgdGFyZ2V0UmVmLnZhbHVlICE9PSBudWxsXG4gICAgICAgICYmIHRhcmdldFJlZi52YWx1ZSAhPT0gZWxcbiAgICAgICkge1xuICAgICAgICB0YXJnZXRSZWYudmFsdWUuZm9jdXMoKVxuICAgICAgfVxuXG4gICAgICBzZXRWaXJ0dWFsU2Nyb2xsU2l6ZSgpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xvc2VNZW51ICgpIHtcbiAgICAgIGlmIChkaWFsb2cudmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIG9wdGlvbkluZGV4LnZhbHVlID0gLTFcblxuICAgICAgaWYgKG1lbnUudmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgbWVudS52YWx1ZSA9IGZhbHNlXG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZS5mb2N1c2VkLnZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICBjbGVhclRpbWVvdXQoZmlsdGVySWQpXG4gICAgICAgIGZpbHRlcklkID0gdm9pZCAwXG5cbiAgICAgICAgaWYgKHN0YXRlLmlubmVyTG9hZGluZy52YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGVtaXQoJ2ZpbHRlci1hYm9ydCcpXG4gICAgICAgICAgc3RhdGUuaW5uZXJMb2FkaW5nLnZhbHVlID0gZmFsc2VcbiAgICAgICAgICBpbm5lckxvYWRpbmdJbmRpY2F0b3IudmFsdWUgPSBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2hvd1BvcHVwIChlKSB7XG4gICAgICBpZiAoc3RhdGUuZWRpdGFibGUudmFsdWUgIT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGlmIChoYXNEaWFsb2cgPT09IHRydWUpIHtcbiAgICAgICAgc3RhdGUub25Db250cm9sRm9jdXNpbihlKVxuICAgICAgICBkaWFsb2cudmFsdWUgPSB0cnVlXG4gICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICBzdGF0ZS5mb2N1cygpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc3RhdGUuZm9jdXMoKVxuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHMub25GaWx0ZXIgIT09IHZvaWQgMCkge1xuICAgICAgICBmaWx0ZXIoaW5wdXRWYWx1ZS52YWx1ZSlcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKG5vT3B0aW9ucy52YWx1ZSAhPT0gdHJ1ZSB8fCBzbG90c1sgJ25vLW9wdGlvbicgXSAhPT0gdm9pZCAwKSB7XG4gICAgICAgIG1lbnUudmFsdWUgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGlkZVBvcHVwICgpIHtcbiAgICAgIGRpYWxvZy52YWx1ZSA9IGZhbHNlXG4gICAgICBjbG9zZU1lbnUoKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc2V0SW5wdXRWYWx1ZSAoKSB7XG4gICAgICBwcm9wcy51c2VJbnB1dCA9PT0gdHJ1ZSAmJiB1cGRhdGVJbnB1dFZhbHVlKFxuICAgICAgICBwcm9wcy5tdWx0aXBsZSAhPT0gdHJ1ZSAmJiBwcm9wcy5maWxsSW5wdXQgPT09IHRydWUgJiYgaW5uZXJWYWx1ZS52YWx1ZS5sZW5ndGggPiAwXG4gICAgICAgICAgPyBnZXRPcHRpb25MYWJlbC52YWx1ZShpbm5lclZhbHVlLnZhbHVlWyAwIF0pIHx8ICcnXG4gICAgICAgICAgOiAnJyxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZU1lbnUgKHNob3cpIHtcbiAgICAgIGxldCBvcHRpb25JbmRleCA9IC0xXG5cbiAgICAgIGlmIChzaG93ID09PSB0cnVlKSB7XG4gICAgICAgIGlmIChpbm5lclZhbHVlLnZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCB2YWwgPSBnZXRPcHRpb25WYWx1ZS52YWx1ZShpbm5lclZhbHVlLnZhbHVlWyAwIF0pXG4gICAgICAgICAgb3B0aW9uSW5kZXggPSBwcm9wcy5vcHRpb25zLmZpbmRJbmRleCh2ID0+IGlzRGVlcEVxdWFsKGdldE9wdGlvblZhbHVlLnZhbHVlKHYpLCB2YWwpKVxuICAgICAgICB9XG5cbiAgICAgICAgbG9jYWxSZXNldFZpcnR1YWxTY3JvbGwob3B0aW9uSW5kZXgpXG4gICAgICB9XG5cbiAgICAgIHNldE9wdGlvbkluZGV4KG9wdGlvbkluZGV4KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlcmVuZGVyTWVudSAoKSB7XG4gICAgICBpZiAobWVudS52YWx1ZSA9PT0gdHJ1ZSAmJiBzdGF0ZS5pbm5lckxvYWRpbmcudmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgIHJlc2V0KClcblxuICAgICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgaWYgKG1lbnUudmFsdWUgPT09IHRydWUgJiYgc3RhdGUuaW5uZXJMb2FkaW5nLnZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdXBkYXRlTWVudSh0cnVlKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVNZW51UG9zaXRpb24gKCkge1xuICAgICAgaWYgKGRpYWxvZy52YWx1ZSA9PT0gZmFsc2UgJiYgbWVudVJlZi52YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBtZW51UmVmLnZhbHVlLnVwZGF0ZVBvc2l0aW9uKClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkNvbnRyb2xQb3B1cFNob3cgKGUpIHtcbiAgICAgIGUgIT09IHZvaWQgMCAmJiBzdG9wKGUpXG4gICAgICBlbWl0KCdwb3B1cC1zaG93JywgZSlcbiAgICAgIHN0YXRlLmhhc1BvcHVwT3BlbiA9IHRydWVcbiAgICAgIHN0YXRlLm9uQ29udHJvbEZvY3VzaW4oZSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkNvbnRyb2xQb3B1cEhpZGUgKGUpIHtcbiAgICAgIGUgIT09IHZvaWQgMCAmJiBzdG9wKGUpXG4gICAgICBlbWl0KCdwb3B1cC1oaWRlJywgZSlcbiAgICAgIHN0YXRlLmhhc1BvcHVwT3BlbiA9IGZhbHNlXG4gICAgICBzdGF0ZS5vbkNvbnRyb2xGb2N1c291dChlKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZVByZVN0YXRlICgpIHtcbiAgICAgIGhhc0RpYWxvZyA9ICRxLnBsYXRmb3JtLmlzLm1vYmlsZSAhPT0gdHJ1ZSAmJiBwcm9wcy5iZWhhdmlvciAhPT0gJ2RpYWxvZydcbiAgICAgICAgPyBmYWxzZVxuICAgICAgICA6IHByb3BzLmJlaGF2aW9yICE9PSAnbWVudScgJiYgKFxuICAgICAgICAgIHByb3BzLnVzZUlucHV0ID09PSB0cnVlXG4gICAgICAgICAgICA/IHNsb3RzWyAnbm8tb3B0aW9uJyBdICE9PSB2b2lkIDAgfHwgcHJvcHMub25GaWx0ZXIgIT09IHZvaWQgMCB8fCBub09wdGlvbnMudmFsdWUgPT09IGZhbHNlXG4gICAgICAgICAgICA6IHRydWVcbiAgICAgICAgKVxuXG4gICAgICB0cmFuc2l0aW9uU2hvd0NvbXB1dGVkID0gJHEucGxhdGZvcm0uaXMuaW9zID09PSB0cnVlICYmIGhhc0RpYWxvZyA9PT0gdHJ1ZSAmJiBwcm9wcy51c2VJbnB1dCA9PT0gdHJ1ZVxuICAgICAgICA/ICdmYWRlJ1xuICAgICAgICA6IHByb3BzLnRyYW5zaXRpb25TaG93XG4gICAgfVxuXG4gICAgb25CZWZvcmVVcGRhdGUodXBkYXRlUHJlU3RhdGUpXG4gICAgb25VcGRhdGVkKHVwZGF0ZU1lbnVQb3NpdGlvbilcblxuICAgIHVwZGF0ZVByZVN0YXRlKClcblxuICAgIG9uQmVmb3JlVW5tb3VudCgoKSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQoaW5wdXRUaW1lcilcbiAgICB9KVxuXG4gICAgLy8gZXhwb3NlIHB1YmxpYyBtZXRob2RzXG4gICAgT2JqZWN0LmFzc2lnbihwcm94eSwge1xuICAgICAgc2hvd1BvcHVwLCBoaWRlUG9wdXAsXG4gICAgICByZW1vdmVBdEluZGV4LCBhZGQsIHRvZ2dsZU9wdGlvbixcbiAgICAgIGdldE9wdGlvbkluZGV4OiAoKSA9PiBvcHRpb25JbmRleC52YWx1ZSxcbiAgICAgIHNldE9wdGlvbkluZGV4LCBtb3ZlT3B0aW9uU2VsZWN0aW9uLFxuICAgICAgZmlsdGVyLCB1cGRhdGVNZW51UG9zaXRpb24sIHVwZGF0ZUlucHV0VmFsdWUsXG4gICAgICBpc09wdGlvblNlbGVjdGVkLFxuICAgICAgZ2V0RW1pdHRpbmdPcHRpb25WYWx1ZSxcbiAgICAgIGlzT3B0aW9uRGlzYWJsZWQ6ICguLi5hcmdzKSA9PiBpc09wdGlvbkRpc2FibGVkLnZhbHVlLmFwcGx5KG51bGwsIGFyZ3MpID09PSB0cnVlLFxuICAgICAgZ2V0T3B0aW9uVmFsdWU6ICguLi5hcmdzKSA9PiBnZXRPcHRpb25WYWx1ZS52YWx1ZS5hcHBseShudWxsLCBhcmdzKSxcbiAgICAgIGdldE9wdGlvbkxhYmVsOiAoLi4uYXJncykgPT4gZ2V0T3B0aW9uTGFiZWwudmFsdWUuYXBwbHkobnVsbCwgYXJncylcbiAgICB9KVxuXG4gICAgT2JqZWN0LmFzc2lnbihzdGF0ZSwge1xuICAgICAgaW5uZXJWYWx1ZSxcblxuICAgICAgZmllbGRDbGFzczogY29tcHV0ZWQoKCkgPT5cbiAgICAgICAgYHEtc2VsZWN0IHEtZmllbGQtLWF1dG8taGVpZ2h0IHEtc2VsZWN0LS13aXRoJHsgcHJvcHMudXNlSW5wdXQgIT09IHRydWUgPyAnb3V0JyA6ICcnIH0taW5wdXRgXG4gICAgICAgICsgYCBxLXNlbGVjdC0td2l0aCR7IHByb3BzLnVzZUNoaXBzICE9PSB0cnVlID8gJ291dCcgOiAnJyB9LWNoaXBzYFxuICAgICAgICArIGAgcS1zZWxlY3QtLSR7IHByb3BzLm11bHRpcGxlID09PSB0cnVlID8gJ211bHRpcGxlJyA6ICdzaW5nbGUnIH1gXG4gICAgICApLFxuXG4gICAgICBpbnB1dFJlZixcbiAgICAgIHRhcmdldFJlZixcbiAgICAgIGhhc1ZhbHVlLFxuICAgICAgc2hvd1BvcHVwLFxuXG4gICAgICBmbG9hdGluZ0xhYmVsOiBjb21wdXRlZCgoKSA9PlxuICAgICAgICAocHJvcHMuaGlkZVNlbGVjdGVkID09PSB0cnVlXG4gICAgICAgICAgPyBpbnB1dFZhbHVlLnZhbHVlLmxlbmd0aCA+IDBcbiAgICAgICAgICA6IGhhc1ZhbHVlLnZhbHVlID09PSB0cnVlXG4gICAgICAgIClcbiAgICAgICAgfHwgZmllbGRWYWx1ZUlzRmlsbGVkKHByb3BzLmRpc3BsYXlWYWx1ZSlcbiAgICAgICksXG5cbiAgICAgIGdldENvbnRyb2xDaGlsZDogKCkgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgc3RhdGUuZWRpdGFibGUudmFsdWUgIT09IGZhbHNlICYmIChcbiAgICAgICAgICAgIGRpYWxvZy52YWx1ZSA9PT0gdHJ1ZSAvLyBkaWFsb2cgYWx3YXlzIGhhcyBtZW51IGRpc3BsYXllZCwgc28gbmVlZCB0byByZW5kZXIgaXRcbiAgICAgICAgICAgIHx8IG5vT3B0aW9ucy52YWx1ZSAhPT0gdHJ1ZVxuICAgICAgICAgICAgfHwgc2xvdHNbICduby1vcHRpb24nIF0gIT09IHZvaWQgMFxuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGhhc0RpYWxvZyA9PT0gdHJ1ZSA/IGdldERpYWxvZygpIDogZ2V0TWVudSgpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhdGUuaGFzUG9wdXBPcGVuID09PSB0cnVlKSB7XG4gICAgICAgICAgLy8gZXhwbGljaXRseSBzZXQgaXQgb3RoZXJ3aXNlIFRBQiB3aWxsIG5vdCBibHVyIGNvbXBvbmVudFxuICAgICAgICAgIHN0YXRlLmhhc1BvcHVwT3BlbiA9IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGNvbnRyb2xFdmVudHM6IHtcbiAgICAgICAgb25Gb2N1c2luIChlKSB7IHN0YXRlLm9uQ29udHJvbEZvY3VzaW4oZSkgfSxcbiAgICAgICAgb25Gb2N1c291dCAoZSkge1xuICAgICAgICAgIHN0YXRlLm9uQ29udHJvbEZvY3Vzb3V0KGUsICgpID0+IHtcbiAgICAgICAgICAgIHJlc2V0SW5wdXRWYWx1ZSgpXG4gICAgICAgICAgICBjbG9zZU1lbnUoKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2xpY2sgKGUpIHtcbiAgICAgICAgICAvLyBsYWJlbCBmcm9tIFFGaWVsZCB3aWxsIHByb3BhZ2F0ZSBjbGljayBvbiB0aGUgaW5wdXRcbiAgICAgICAgICBwcmV2ZW50KGUpXG5cbiAgICAgICAgICBpZiAoaGFzRGlhbG9nICE9PSB0cnVlICYmIG1lbnUudmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNsb3NlTWVudSgpXG4gICAgICAgICAgICB0YXJnZXRSZWYudmFsdWUgIT09IG51bGwgJiYgdGFyZ2V0UmVmLnZhbHVlLmZvY3VzKClcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cblxuICAgICAgICAgIHNob3dQb3B1cChlKVxuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBnZXRDb250cm9sOiBmcm9tRGlhbG9nID0+IHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBnZXRTZWxlY3Rpb24oKVxuICAgICAgICBjb25zdCBpc1RhcmdldCA9IGZyb21EaWFsb2cgPT09IHRydWUgfHwgZGlhbG9nLnZhbHVlICE9PSB0cnVlIHx8IGhhc0RpYWxvZyAhPT0gdHJ1ZVxuXG4gICAgICAgIGlmIChwcm9wcy51c2VJbnB1dCA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGNoaWxkLnB1c2goZ2V0SW5wdXQoZnJvbURpYWxvZywgaXNUYXJnZXQpKVxuICAgICAgICB9XG4gICAgICAgIC8vIHRoZXJlIGNhbiBiZSBvbmx5IG9uZSAod2hlbiBkaWFsb2cgaXMgb3BlbmVkIHRoZSBjb250cm9sIGluIGRpYWxvZyBzaG91bGQgYmUgdGFyZ2V0KVxuICAgICAgICBlbHNlIGlmIChzdGF0ZS5lZGl0YWJsZS52YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGNvbnN0IGF0dHJzID0gaXNUYXJnZXQgPT09IHRydWUgPyBjb21ib2JveEF0dHJzLnZhbHVlIDogdm9pZCAwXG5cbiAgICAgICAgICBjaGlsZC5wdXNoKFxuICAgICAgICAgICAgaCgnaW5wdXQnLCB7XG4gICAgICAgICAgICAgIHJlZjogaXNUYXJnZXQgPT09IHRydWUgPyB0YXJnZXRSZWYgOiB2b2lkIDAsXG4gICAgICAgICAgICAgIGtleTogJ2RfdCcsXG4gICAgICAgICAgICAgIGNsYXNzOiAncS1zZWxlY3RfX2ZvY3VzLXRhcmdldCcsXG4gICAgICAgICAgICAgIGlkOiBpc1RhcmdldCA9PT0gdHJ1ZSA/IHN0YXRlLnRhcmdldFVpZC52YWx1ZSA6IHZvaWQgMCxcbiAgICAgICAgICAgICAgcmVhZG9ubHk6IHRydWUsXG4gICAgICAgICAgICAgIC4uLmF0dHJzLFxuICAgICAgICAgICAgICBvbktleWRvd246IG9uVGFyZ2V0S2V5ZG93bixcbiAgICAgICAgICAgICAgb25LZXl1cDogb25UYXJnZXRLZXl1cCxcbiAgICAgICAgICAgICAgb25LZXlwcmVzczogb25UYXJnZXRLZXlwcmVzc1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG5cbiAgICAgICAgICBpZiAoaXNUYXJnZXQgPT09IHRydWUgJiYgdHlwZW9mIHByb3BzLmF1dG9jb21wbGV0ZSA9PT0gJ3N0cmluZycgJiYgcHJvcHMuYXV0b2NvbXBsZXRlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNoaWxkLnB1c2goXG4gICAgICAgICAgICAgIGgoJ2lucHV0Jywge1xuICAgICAgICAgICAgICAgIGNsYXNzOiAncS1zZWxlY3RfX2F1dG9jb21wbGV0ZS1pbnB1dCcsXG4gICAgICAgICAgICAgICAgYXV0b2NvbXBsZXRlOiBwcm9wcy5hdXRvY29tcGxldGUsXG4gICAgICAgICAgICAgICAgb25LZXl1cDogb25UYXJnZXRBdXRvY29tcGxldGVcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmFtZVByb3AudmFsdWUgIT09IHZvaWQgMCAmJiBwcm9wcy5kaXNhYmxlICE9PSB0cnVlICYmIGlubmVyT3B0aW9uc1ZhbHVlLnZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBvcHRzID0gaW5uZXJPcHRpb25zVmFsdWUudmFsdWUubWFwKHZhbHVlID0+IGgoJ29wdGlvbicsIHsgdmFsdWUsIHNlbGVjdGVkOiB0cnVlIH0pKVxuXG4gICAgICAgICAgY2hpbGQucHVzaChcbiAgICAgICAgICAgIGgoJ3NlbGVjdCcsIHtcbiAgICAgICAgICAgICAgY2xhc3M6ICdoaWRkZW4nLFxuICAgICAgICAgICAgICBuYW1lOiBuYW1lUHJvcC52YWx1ZSxcbiAgICAgICAgICAgICAgbXVsdGlwbGU6IHByb3BzLm11bHRpcGxlXG4gICAgICAgICAgICB9LCBvcHRzKVxuICAgICAgICAgIClcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGF0dHJzID0gcHJvcHMudXNlSW5wdXQgPT09IHRydWUgfHwgaXNUYXJnZXQgIT09IHRydWUgPyB2b2lkIDAgOiBzdGF0ZS5zcGxpdEF0dHJzLmF0dHJpYnV0ZXMudmFsdWVcblxuICAgICAgICByZXR1cm4gaCgnZGl2Jywge1xuICAgICAgICAgIGNsYXNzOiAncS1maWVsZF9fbmF0aXZlIHJvdyBpdGVtcy1jZW50ZXInLFxuICAgICAgICAgIC4uLmF0dHJzXG4gICAgICAgIH0sIGNoaWxkKVxuICAgICAgfSxcblxuICAgICAgZ2V0SW5uZXJBcHBlbmQ6ICgpID0+IChcbiAgICAgICAgcHJvcHMubG9hZGluZyAhPT0gdHJ1ZSAmJiBpbm5lckxvYWRpbmdJbmRpY2F0b3IudmFsdWUgIT09IHRydWUgJiYgcHJvcHMuaGlkZURyb3Bkb3duSWNvbiAhPT0gdHJ1ZVxuICAgICAgICAgID8gW1xuICAgICAgICAgICAgICBoKFFJY29uLCB7XG4gICAgICAgICAgICAgICAgY2xhc3M6ICdxLXNlbGVjdF9fZHJvcGRvd24taWNvbicgKyAobWVudS52YWx1ZSA9PT0gdHJ1ZSA/ICcgcm90YXRlLTE4MCcgOiAnJyksXG4gICAgICAgICAgICAgICAgbmFtZTogZHJvcGRvd25BcnJvd0ljb24udmFsdWVcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIF1cbiAgICAgICAgICA6IG51bGxcbiAgICAgIClcbiAgICB9KVxuXG4gICAgcmV0dXJuIHVzZUZpZWxkKHN0YXRlKVxuICB9XG59KVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJtdUNBQUEsR0FBSSxJQUFrQixHQUdELENBQ25CLEtBQU0sR0FBVyxTQUFTLGNBQWMsS0FBSyxFQUN2QyxFQUFTLFNBQVMsY0FBYyxLQUFLLEVBRTNDLEVBQVMsYUFBYSxNQUFPLEtBQUssRUFDbEMsRUFBUyxNQUFNLE1BQVEsTUFDdkIsRUFBUyxNQUFNLE9BQVMsTUFDeEIsRUFBUyxNQUFNLFNBQVcsT0FFMUIsRUFBTyxNQUFNLE1BQVEsU0FDckIsRUFBTyxNQUFNLE9BQVMsTUFFdEIsU0FBUyxLQUFLLFlBQVksQ0FBUSxFQUNsQyxFQUFTLFlBQVksQ0FBTSxFQUMzQixFQUFTLFdBQWEsS0FFdEIsR0FBa0IsRUFBUyxZQUFjLEVBRXpDLEVBQVMsT0FBUSxDQUNuQixDQ2hCQSxLQUFNLEdBQWdCLElBRWhCLEdBQWdCLENBQ3BCLFFBQ0EsU0FDQSxNQUNBLGNBQ0EsZUFDQSxXQUNGLEVBRUEsR0FBSSxJQUFLLEVBQ1QsS0FBTSxJQUFjLE1BQU0sVUFBVSxPQUU5QixHQUFzQyxPQUFPLGlCQUFpQixTQUFTLElBQUksRUFBRSxpQkFBbUIsT0FDbEcsR0FDQSxTQUFVLEVBQUksRUFBTyxDQUNyQixLQUFNLEdBQU8sRUFBSyxNQUVsQixHQUFJLEdBQWEsU0FBUyxlQUFlLENBQUksRUFFN0MsQUFBSSxJQUFlLE1BQ2pCLEdBQWEsU0FBUyxjQUFjLE9BQU8sRUFDM0MsRUFBVyxLQUFPLFdBQ2xCLEVBQVcsR0FBSyxFQUNoQixTQUFTLEtBQUssWUFBWSxDQUFVLEdBR2xDLEVBQVcsY0FBZ0IsR0FDN0IsR0FBVyxZQUFjLEVBQ3pCLEVBQVcsVUFBWSxJQUFLLG1CQUFzQiwrQkFFckQs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
